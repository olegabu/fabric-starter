NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32360 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32360 sberbank VERIFY: test-channel-exists.sh testchannel32360 sberbank
[1;36m
Creating the <testchannel32360> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360[m[m[m
test.network

Create channel sberbank testchannel32360
--2020-03-20 10:23:17--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:17.875 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:18.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:18.140 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:18.142 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:18.144 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:18.145 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:18.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:18.482 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:18.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:18.640 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:23:18.641 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-20 10:23:18.642 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32360
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:19.455 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:19.475 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32360> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32360> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:22.272 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:22.275 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:23:22.277 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:23:22.277 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32360",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-20T10:23:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32360> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32360 vtb
[1;34m
Verifing if the <testchannel32360> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:23.972 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:23.978 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32360 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32360 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32360 sberbank
[1;36m
Creating the <^^^^^^testchannel32360> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32360[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel32360
--2020-03-20 10:23:29--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:29.331 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:29.467 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:29.584 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:29.584 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:29.586 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:29.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel32360' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32360.pb -o orderer.test.network:7050 -c ^^^^^^testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:29.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:29.974 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32360.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32360.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel32360
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:30.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel32360' != '^^^^^^testchannel32360'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32360> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:33.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:33.087 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel32360> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32360 vtb VERIFY: test-channel-does-not-exist.sh testchannel32360 vtb
[1;36m
Creating the <testchannel32360> channel for vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360[m[m[m
test.network

Create channel vtb testchannel32360
--2020-03-20 10:23:38--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:38.578 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:38.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:38.831 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-03-20 10:23:38.831 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:38.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:39.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:39.135 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32360.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32360.json: No such file or directory
>> Prepare config update from vtb for channel testchannel32360
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:39.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32360> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:41.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:41.904 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32360-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32360-02 vtb VERIFY: test-channel-exists.sh testchannel32360-02 vtb
[1;36m
Creating the <testchannel32360-02> channel for vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360-02[m[m[m
test.network

Create channel vtb testchannel32360-02
--2020-03-20 10:23:46--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:46--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:46--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:47--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:47.104 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:47.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:47.374 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:47.376 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-03-20 10:23:47.376 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:47.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:47.621 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:47.775 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:47.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:23:47.785 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-20 10:23:47.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32360-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:48.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:48.677 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32360-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32360-02> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:51.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:51.861 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:23:51.863 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:23:51.863 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32360-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-20T10:23:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32360-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32360-02 sberbank
[1;34m
Verifing if the <testchannel32360-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:53.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:53.915 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32360-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32360-02 sberbank
[1;36m
Creating the <testchannel32360-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360-02[m[m[m
test.network

Create channel sberbank testchannel32360-02
--2020-03-20 10:23:59--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:59.234 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:59.363 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:59.365 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:59.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:59.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:59.485 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:59.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:59.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:59.825 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:59.827 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32360-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32360-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel32360-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:00.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32360-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:03.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:03.448 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32360 sberbank vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32360 sberbank vtb
Step: 8_cli Test 'Add <vtb> to channel <testchannel32360> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32360 sberbank vtb VERIFY: test-channel-add-org.sh testchannel32360 sberbank vtb
[1;36m
Add vtb to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel32360 vtb
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32360 vtb 7051 test.network[m[m[m
--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/admincerts/Admin@vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/admincerts/Admin@vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/cacerts/ca.vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/cacerts/ca.vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/tlscacerts/tlsca.vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/tlscacerts/tlsca.vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel32360, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:09.169 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:09.174 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:24:09.177 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:24:09.177 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel32360
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:10.084 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:10.117 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel32360 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel32360 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:12.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:12.860 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-20 10:24:12.861 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-20 10:24:12.862 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRZUhEalYvKzN2OUJVRC9SZ1ZuSUsvVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFkblJpTG5SbGMzUXVibVYwZDI5eWF6RWNNQm9HQTFVRUF4TVRZMkV1CmRuUmlMblJsYzNRdWJtVjBkMjl5YXpBZUZ3MHlNREF6TVRrd09ESXhNREJhRncwek1EQXpNVGN3T0RJeE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0IyZEdJdWRHVnpkQzV1WlhSM2IzSnJNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGxYL3JKaytYNnJMbll1L3NvNWI4aEJ0T2xBL21WZjEKUnl1Tnl2N2YxSjFYNmZZL1p3Mm9ESlFpdTdwUXo0L25ZSUM1SFpuZ1ZMQ3R6MEFLck5PZU5LTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnanZpOE9HeHZwd2F3Ci9OcjBCeEJyam14UFcyMlVnS1NuU216d1RoQVplMnN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRE4zZ2lydmcKcVRRa1RzNngwZ0ZXY2dubzNwNHVQQ0J4YlNNQnRNNzYxZHdDSUhPOHljZ0ZjN1d1MDRxeXhZY01PUDNkOVp2RQpkNlNDbjgydXRBTGQvVkF4Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU9FUWROWFdPa2laamlHUnZXOVhDc1F3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFSFowWWk1MFpYTjBMbTVsZEhkdmNtc3hIREFhQmdOVkJBTVRFMk5oCkxuWjBZaTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXdNekUzTURneU1UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWRuUmlMblJsYzNRdWJtVjBkMjl5YXpFY01Cb0dBMVVFCkF4TVRZMkV1ZG5SaUxuUmxjM1F1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkE2SXJVNG00ajBuOXJjL1JHclNKdWh5S1gybW1wRkpXNFRoM2l1QWNGUjZnekNEbTVCNkJpRW41ZVQ4cGdsZgpOZnQxM1hGc2NERmZqVGxsaDl6TUJHYWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKanZpOE9HeHZwd2F3L05yMEJ4QnJqbXhQVzIyVWdLU25TbXp3VGhBWmUyc3dDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQVBpbFVTMVpSTnROZzkxRDlrcXJ4ZmRDNWYyZDhJQ2VlRXF0VkI0TW1ydXRBaUJrd05WTVFpbDJYY3ZjCjJ1WnI0aUxCS0pKQkdOUlFhMnozMk5tRnFKcHRiUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUlKRmpTd3NFdk5mR0c5eE1wRGw2Ymt3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFSFowWWk1MFpYTjBMbTVsZEhkdmNtc3hIekFkQmdOVkJBTVRGblJzCmMyTmhMblowWWk1MFpYTjBMbTVsZEhkdmNtc3dIaGNOTWpBd016RTVNRGd5TVRBd1doY05NekF3TXpFM01EZ3kKTVRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFkblJpTG5SbGMzUXVibVYwZDI5eWF6RWZNQjBHCkExVUVBeE1XZEd4elkyRXVkblJpTG5SbGMzUXVibVYwZDI5eWF6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSDhiRzNualJDaFArV2RPSmxISDRoTkovcGsrTWp2TnRMd2g3SzM2L2dOcHlLWU9haUhKcEdoWApnSW84cXJ2SDdEd3JZbUwvR21FMHVkNUlZV0hzV0EyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdpQjZadmR1dzQwSDNZQUtlV0w1QjlYY0dtcjJqYnlPWlJ4VCtmVmJrM0Uwd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdhc1hEb1hKMm5xS1VhWWUzQ1dIaDlNaXhIVENaR0ZUMXFZR3lEVWpnRG0wQ0lHK0hDb1hkCmd2ZmZwRys2R1VTditQMVNkOUVmbG0rWTY4TFpDZXRRUUxTagotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel32360>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32360-02 vtb sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32360-02 vtb sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel32360-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32360-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel32360-02 vtb sberbank
[1;36m
Add sberbank to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel32360-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32360-02 sberbank 7051 test.network[m[m[m
--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel32360-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:18.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:18.902 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:24:18.903 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:24:18.904 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel32360-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:19.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:19.849 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel32360-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:22.721 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:22.724 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-20 10:24:22.726 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-20 10:24:22.726 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRVUVJM0N0dlRwSDQ4cUxtWVM1RkRuVEFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXcKTXpFM01EZ3lNVEF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUViRUI0eExTRDZ3M1kKUVJ5eUZjUHFaMjdVZytjeTFTSE5CcFRmTzIyRTdJMmxuSFVkR2hJZmhFQWl2OEFUcUxZMzZBMG4wcU93V25HMAordjVteUdKcFhhTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FndlMydVpXUjZtaFNMcG1PZ3RoeTRzUXNQR0xNcUhuYXdHbCtrYWIzcFJ2Z3dDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnRjJFcEFGYW9KUHVqajhvVTRDeUJiWmNjdUora2w5NzhOTWkrblpLODRBb0NJR2JxYmM2cgoxanNnN2NDUTE1YURmMnVseW9KNDQ2TENvdFdNYWhJRjAvYnYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaRENDQWd1Z0F3SUJBZ0lRUjMybjJTNnpjMG1USXJyajJMUFBJekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXcKTXpFM01EZ3lNVEF3V2pCOU1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFZU1Cd0dBMVVFQ2hNVmMySmxjbUpoYm1zdWRHVnpkQzV1ClpYUjNiM0pyTVNFd0h3WURWUVFERXhoallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHZjbXN3V1RBVEJnY3EKaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSaTVjWTluYUYxZmZYUERxNnA4a01IdjdOSDhybUhuaXErc001UQoyZ0xONlpzY1hvM1E4QXFZaE1ObUQ5RTByVjZ5d1J6Q0RlYisxVDhWSDBHUVM4NzNvMjB3YXpBT0JnTlZIUThCCkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUJNQThHQTFVZEV3RUIKL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUwwdHJtVmtlcG9VaTZaam9MWWN1TEVMRHhpektoNTJzQnBmcEdtOQo2VWI0TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUhVZmVqa2E4V09CZGVWS0VvYzhEdURQOFVqSjRrRWY1ckdCCjFyWUhidFM0QWlCMzFmS1Z0UEdkZ2RvTFduc3FmWTN4RDd4a1VLOVB5L3M4bDk2QnZMMjBVZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhPZ0F3SUJBZ0lRVk82STRoKzMzaWtzOHNvUTJteHJiVEFLQmdncWhrak9QUVFEQWpDQmdERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFa01DSUdBMVVFCkF4TWJkR3h6WTJFdWMySmxjbUpoYm1zdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXhPVEE0TWpFd01Gb1gKRFRNd01ETXhOekE0TWpFd01Gb3dnWUF4Q3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eQpibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwClpYTjBMbTVsZEhkdmNtc3hKREFpQmdOVkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXkKYXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkpoVGlIcit2a2VmamI1Sk02SHJKVEg5WWlvbgpBTWVJOG5pMTdzNXB3NVhOTHhQcTJMaWtMS0oyalVKSHZ5ZENYNDBpeWxUSHp6Y09hS1VqeGcwWlh0S2piVEJyCk1BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFwQmdOVkhRNEVJZ1FnV2RneW55TGFNNTlDM2lIc1c4WkRhZFF5eHQyTgo3bWkwQlZuV0xXcFVuTG93Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUt0N1BaSFo3ZXQ1Z2Y1bC8zYjdJRlJBCjdRVDBWc0RJZW5palFNeWxxbXRpQWlCbHJtcDVUdUhuNjlza1ZNSmR0bm9nWndwQXh5SUxYdG5ZUFdodGhlZVEKdUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel32360-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel32360> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360 sberbank VERIFY: test-join-channel.sh testchannel32360 sberbank
[1;36m
Joining  sberbank to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c9782c843a7b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:27--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel32360
Execute: channel fetch 0 crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:28.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:28.081 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:28.270 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:28.523 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel32360 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32360> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:31.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32360> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360 vtb
Step: 11_cli Test 'Join <vtb> to the <testchannel32360> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360 vtb VERIFY: test-join-channel.sh testchannel32360 vtb
[1;36m
Joining  vtb to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=47db27359ba8
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:36--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join vtb to channel testchannel32360
Execute: channel fetch 0 crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:36.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:36.736 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:36.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:37.063 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization vtb has been joined to testchannel32360 channel[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel32360> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:39.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel32360> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel32360-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360-02 sberbank VERIFY: test-join-channel.sh testchannel32360-02 sberbank
[1;36m
Joining  sberbank to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d2c4b7f8fffd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:45--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel32360-02
Execute: channel fetch 0 crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:45.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:45.428 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:45.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:45.842 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32360-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:49.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32360-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360-02 vtb
Step: 13_cli Test 'Join <vtb> to the <testchannel32360-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360-02 vtb VERIFY: test-join-channel.sh testchannel32360-02 vtb
[1;36m
Joining  vtb to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360-02[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=14ec81e700c0
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:54--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join vtb to channel testchannel32360-02
Execute: channel fetch 0 crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:54.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:54.655 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:54.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:54.976 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization vtb has been joined to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel32360-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:58.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel32360-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32360 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel32360> channel'
RUNTEST: chaincode-install.sh testchannel32360 sberbank VERIFY: test-chaincode-installed.sh testchannel32360 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32360 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel32360[m[m[m
[1;36m
Installing testchannel32360  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel32360'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=aac798a67f78
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel32360  /opt/chaincode/node/reference_testchannel32360 node 1.0
[34m2020-03-20 10:25:08.662 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:08.662 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-20 10:25:08.868 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32360' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel32360, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360, Id: 9a6d4aff8fc104da7078eb1d046400d20ed019983752256eab5ccf57d3941d4a
reference_testchannel32360
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32360-02 vtb
Step: 15_cli Test 'Install test chaincode by <vtb> to the <testchannel32360-02> channel'
RUNTEST: chaincode-install.sh testchannel32360-02 vtb VERIFY: test-chaincode-installed.sh testchannel32360-02 vtb
[1;36m
Installing test chaincode in vtb...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in vtb...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32360-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel32360-02[m[m[m
[1;36m
Installing testchannel32360-02  chaincode in vtb...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel32360-02'[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2fce2cd2ea4f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel32360-02  /opt/chaincode/node/reference_testchannel32360-02 node 1.0
[34m2020-03-20 10:25:24.951 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:24.951 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-20 10:25:25.158 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in vtb[m[m[m
[1;34m
Verifing if the test chaincode installed in vtb org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32360-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel32360-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360-02, Id: c9a7ca3e08adb2ff60e3f3598501b32b87fe0a241c501f609400e8f13e0c1865
reference_testchannel32360-02
[1;32mOK: The test chaincode installed in vtb[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel32360 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel32360> channel'
RUNTEST: chaincode-instantiate.sh testchannel32360 sberbank VERIFY: test-chaincode-instantiated.sh testchannel32360 sberbank
[1;36m
Instantiate test chaincode in testchannel32360 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel32360 reference_testchannel32360[m[m[m
Instantiate chaincode testchannel32360 reference_testchannel32360 '[]' 1.0  
[34m2020-03-20 10:25:36.070 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:36.070 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel32360 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel32360 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel32360' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel32360:
Name: reference_testchannel32360, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360, Escc: escc, Vscc: vscc
reference_testchannel32360
[1;32mOK: The test chaincode installed in testchannel32360 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel32360 sberbank reference_testchannel32360 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel32360 sberbank reference_testchannel32360
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <vtb>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel32360 sberbank reference_testchannel32360 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel32360 sberbank reference_testchannel32360
[1;36m
Invoke test chaincode on the <testchannel32360> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel32360 reference_testchannel32360 '["put","testchannel32360","testchannel32360"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel32360 reference_testchannel32360 '["put","testchannel32360","testchannel32360"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel32360 -C testchannel32360 -c '{"Args":["put","testchannel32360","testchannel32360"]}'
[34m2020-03-20 10:26:41.675 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel32360) orderer endpoint: orderer.test.network:7050
[34m2020-03-20 10:26:41.750 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel32360 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel32360> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel32360 reference_testchannel32360 '["range","testchannel32360"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel32360 reference_testchannel32360 '["range","testchannel32360"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel32360 -C testchannel32360 -c '{"Args":["range","testchannel32360"]}'
[{"key":"testchannel32360","value":"testchannel32360"}]
[1;32mOK: Chaincode reference_testchannel32360 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32626 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32626 sberbank VERIFY: test-channel-exists.sh testchannel32626 sberbank
[1;36m
Creating the <testchannel32626> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626[m[m[m
test.met

Create channel sberbank testchannel32626
--2020-03-21 19:50:34--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:34.634 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:34.901 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/admincerts/Admin@sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/cacerts/ca.sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/tlscacerts/tlsca.sberbank.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626.pb -o orderer.test.met:7050 -c testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:34.961 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:35.208 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626 aplha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32626 aplha
[1;34m
Verifing if the <testchannel32626> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;32mOK: The channel <testchannel32626> does not exist and in not visible to aplha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel32626 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32626 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32626 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32626 sberbank
[1;36m
Creating the <^^^^^^testchannel32626> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh ^^^^^^testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32626[m[m[m
test.met

Create channel sberbank ^^^^^^testchannel32626
--2020-03-21 19:50:38--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:38.244 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:38.383 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/admincerts/Admin@sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/cacerts/ca.sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/tlscacerts/tlsca.sberbank.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32626.pb -o orderer.test.met:7050 -c ^^^^^^testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:38.435 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32626.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:38.584 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32626> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;32mOK: The channel <^^^^^^testchannel32626> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626 aplha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626 aplha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32626 aplha VERIFY: test-channel-does-not-exist.sh testchannel32626 aplha
[1;36m
Creating the <testchannel32626> channel for aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626[m[m[m
test.met

Create channel aplha testchannel32626
--2020-03-21 19:50:41--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:41.290 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:41.429 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/aplha.test.met/msp/admincerts/Admin@aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/cacerts/ca.aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/tlscacerts/tlsca.aplha.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626.pb -o orderer.test.met:7050 -c testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:41.483 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626.json: No such file or directory
>> Prepare config update from aplha for channel testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> aplha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:41.636 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;32mOK: The channel <testchannel32626> does not exist and in not visible to aplha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626-02 aplha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32626-02 aplha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32626-02 aplha VERIFY: test-channel-exists.sh testchannel32626-02 aplha
[1;36m
Creating the <testchannel32626-02> channel for aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626-02[m[m[m
test.met

Create channel aplha testchannel32626-02
--2020-03-21 19:50:44--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:44.497 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:44.637 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/aplha.test.met/msp/admincerts/Admin@aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/cacerts/ca.aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/tlscacerts/tlsca.aplha.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626-02.pb -o orderer.test.met:7050 -c testchannel32626-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:44.692 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626-02.json: No such file or directory
>> Prepare config update from aplha for channel testchannel32626-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> aplha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626-02 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:44.845 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626-02> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32626-02 sberbank
[1;34m
Verifing if the <testchannel32626-02> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;32mOK: The channel <testchannel32626-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32626-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32626-02 sberbank
[1;36m
Creating the <testchannel32626-02> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626-02[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27267 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27267 sberbank VERIFY: test-channel-exists.sh testchannel27267 sberbank
[1;36m
Creating the <testchannel27267> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267[m[m[m
test.network

Create channel sberbank testchannel27267
--2020-03-21 20:21:14--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:14.563 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:14.736 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:14.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:14.822 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:14.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:14.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:14.892 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:21:14.892 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27267
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:15.209 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:15.223 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27267> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27267> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:16.551 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:16.554 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:16.555 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:16.555 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27267",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:21:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27267> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267 alpha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27267 alpha
[1;34m
Verifing if the <testchannel27267> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:17.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:17.166 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267> does not exist and in not visible to alpha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27267 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27267 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27267 sberbank
[1;36m
Creating the <^^^^^^testchannel27267> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel27267[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel27267
--2020-03-21 20:21:19--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:19.227 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:19.401 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel27267' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel27267.pb -o orderer.test.network:7050 -c ^^^^^^testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:19.480 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:19.481 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel27267.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel27267.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel27267
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:19.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel27267' != '^^^^^^testchannel27267'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27267> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:20.614 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:20.618 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27267> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267 alpha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27267 alpha VERIFY: test-channel-does-not-exist.sh testchannel27267 alpha
[1;36m
Creating the <testchannel27267> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267[m[m[m
test.network

Create channel alpha testchannel27267
--2020-03-21 20:21:23--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:23.702 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:23.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:23.838 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:21:23.838 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:23.925 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:24.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:24.027 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27267.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27267.json: No such file or directory
>> Prepare config update from alpha for channel testchannel27267
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:24.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27267> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:25.631 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:25.632 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267> does not exist and in not visible to alpha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27267-02 alpha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27267-02 alpha VERIFY: test-channel-exists.sh testchannel27267-02 alpha
[1;36m
Creating the <testchannel27267-02> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267-02[m[m[m
test.network

Create channel alpha testchannel27267-02
--2020-03-21 20:21:28--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:28.215 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:21:28.375 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:28.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.502 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:28.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.587 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:28.589 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:21:28.589 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel27267-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:28.949 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.965 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27267-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27267-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:30.088 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:30.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:30.099 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:30.099 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27267-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:21:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27267-02> exists and visible to alpha[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27267-02 sberbank
[1;34m
Verifing if the <testchannel27267-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:30.752 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:30.755 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27267-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27267-02 sberbank
[1;36m
Creating the <testchannel27267-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267-02[m[m[m
test.network

Create channel sberbank testchannel27267-02
--2020-03-21 20:21:33--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:33.358 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:33.473 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:33.473 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:33.474 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:33.542 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:33.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:33.618 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27267-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27267-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel27267-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:33.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27267-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:34.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:34.993 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel27267 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27267 sberbank alpha
Step: 8_cli Test 'Add <alpha> to channel <testchannel27267> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27267 sberbank alpha VERIFY: test-channel-add-org.sh testchannel27267 sberbank alpha
[1;36m
Add alpha to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel27267 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27267 alpha 7051 test.network[m[m[m
--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel27267, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:37.388 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:37.391 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:37.392 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:37.392 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel27267
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:37.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:37.740 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel27267 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel27267 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:38.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:38.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:21:38.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:21:38.932 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel27267>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel27267-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27267-02 alpha sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel27267-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27267-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel27267-02 alpha sberbank
[1;36m
Add sberbank to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel27267-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27267-02 sberbank 7051 test.network[m[m[m
--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel27267-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:41.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:41.428 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:41.430 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:41.430 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel27267-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:41.779 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:41.794 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel27267-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:42.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:42.920 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:21:42.922 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:21:42.922 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel27267-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel27267> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267 sberbank VERIFY: test-join-channel.sh testchannel27267 sberbank
[1;36m
Joining  sberbank to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=e501a4c7321a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:45--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel27267
Execute: channel fetch 0 crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:45.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:45.611 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:45.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:45.840 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel27267 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27267> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:46.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27267> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267 alpha
Step: 11_cli Test 'Join <alpha> to the <testchannel27267> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267 alpha VERIFY: test-join-channel.sh testchannel27267 alpha
[1;36m
Joining  alpha to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9a8a082c668a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:49--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel27267
Execute: channel fetch 0 crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:49.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:49.348 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:49.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:49.569 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel27267 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27267> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:50.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27267> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel27267-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267-02 sberbank VERIFY: test-join-channel.sh testchannel27267-02 sberbank
[1;36m
Joining  sberbank to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=77ed321d01d3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:52--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel27267-02
Execute: channel fetch 0 crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:52.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:52.960 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:53.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:53.218 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:54.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27267-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267-02 alpha
Step: 13_cli Test 'Join <alpha> to the <testchannel27267-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267-02 alpha VERIFY: test-join-channel.sh testchannel27267-02 alpha
[1;36m
Joining  alpha to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2ee6de31d8ba
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:56--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel27267-02
Execute: channel fetch 0 crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:56.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:56.620 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:56.685 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:56.893 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:58.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27267-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27267 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel27267> channel'
RUNTEST: chaincode-install.sh testchannel27267 sberbank VERIFY: test-chaincode-installed.sh testchannel27267 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27267 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel27267[m[m[m
[1;36m
Installing testchannel27267  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel27267'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a46862a926f9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel27267  /opt/chaincode/node/reference_testchannel27267 node 1.0
[34m2020-03-21 20:22:03.307 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:03.307 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:22:03.421 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel27267
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27267-02 alpha
Step: 15_cli Test 'Install test chaincode by <alpha> to the <testchannel27267-02> channel'
RUNTEST: chaincode-install.sh testchannel27267-02 alpha VERIFY: test-chaincode-installed.sh testchannel27267-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27267-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel27267-02[m[m[m
[1;36m
Installing testchannel27267-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel27267-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a59683d500c5
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel27267-02  /opt/chaincode/node/reference_testchannel27267-02 node 1.0
[34m2020-03-21 20:22:11.449 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:11.449 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:22:11.636 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27267-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel27267-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27267 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel27267> channel'
RUNTEST: chaincode-instantiate.sh testchannel27267 sberbank VERIFY: test-chaincode-instantiated.sh testchannel27267 sberbank
[1;36m
Instantiate test chaincode in testchannel27267 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel27267 reference_testchannel27267[m[m[m
Instantiate chaincode testchannel27267 reference_testchannel27267 '[]' 1.0  
[34m2020-03-21 20:22:17.024 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:17.024 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel27267 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27267 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27267:
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Escc: escc, Vscc: vscc
reference_testchannel27267
[1;32mOK: The test chaincode installed in testchannel27267 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel27267 sberbank reference_testchannel27267 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel27267 sberbank reference_testchannel27267
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27267 sberbank reference_testchannel27267 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27267 sberbank reference_testchannel27267
[1;36m
Invoke test chaincode on the <testchannel27267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel27267 reference_testchannel27267 '["put","testchannel27267","testchannel27267"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel27267 reference_testchannel27267 '["put","testchannel27267","testchannel27267"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel27267 -C testchannel27267 -c '{"Args":["put","testchannel27267","testchannel27267"]}'
[34m2020-03-21 20:22:59.120 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel27267) orderer endpoint: orderer.test.network:7050
[34m2020-03-21 20:22:59.169 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel27267 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27267 reference_testchannel27267 '["range","testchannel27267"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27267 reference_testchannel27267 '["range","testchannel27267"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel27267 -C testchannel27267 -c '{"Args":["range","testchannel27267"]}'
[{"key":"testchannel27267","value":"testchannel27267"}]
[1;32mOK: Chaincode reference_testchannel27267 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22251 sberbank
Step: 18_ali Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22251 sberbank VERIFY: test-channel-exists.sh testchannel22251 sberbank
[1;34m
Verifing if the <testchannel22251> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:18.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:18.054 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_ali: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251 alpha
Step: 19_ali Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22251 alpha
[1;34m
Verifing if the <testchannel22251> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:18.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:18.565 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251> does not exist and in not visible to alpha[m[m[m
Step 19_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh ^^^^^^testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel22251 sberbank
Step: 20_ali Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel22251 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel22251 sberbank
[1;34m
Verifing if the <^^^^^^testchannel22251> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:19.108 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:19.109 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel22251> does not exist and in not visible to sberbank[m[m[m
Step 20_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251 alpha
Step: 21_ali Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22251 alpha VERIFY: test-channel-does-not-exist.sh testchannel22251 alpha
[1;34m
Verifing if the <testchannel22251> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:19.630 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:19.631 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251> does not exist and in not visible to alpha[m[m[m
Step 21_ali: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22251-02 alpha
Step: 22_ali Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel22251-02 alpha VERIFY: test-channel-exists.sh testchannel22251-02 alpha
[1;34m
Verifing if the <testchannel22251-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:20.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:20.145 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 22_ali: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251-02 sberbank
Step: 23_ali Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel22251-02 sberbank
[1;34m
Verifing if the <testchannel22251-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:20.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:20.622 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251-02> does not exist and in not visible to sberbank[m[m[m
Step 23_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251-02 sberbank
Step: 24_ali Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22251-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel22251-02 sberbank
[1;34m
Verifing if the <testchannel22251-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:21.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:21.144 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251-02> does not exist and in not visible to sberbank[m[m[m
Step 24_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/add-org-to-channel.sh testchannel22251 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22251 sberbank alpha
Step: 25_ali Test 'Add <alpha> to channel <testchannel22251> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22251 sberbank alpha VERIFY: test-channel-add-org.sh testchannel22251 sberbank alpha
[1;34m
Verifing if the <alpha> added to testchannel22251 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:21.701 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:21.703 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 25_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/add-org-to-channel.sh testchannel22251-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22251-02 alpha sberbank
Step: 26_ali Test 'Add <sberbank> to channel <testchannel22251-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22251-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel22251-02 alpha sberbank
[1;34m
Verifing if the <sberbank> added to testchannel22251-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:22.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:22.218 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 26_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251 sberbank
Step: 27_ali Test 'Join <sberbank> to the <testchannel22251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251 sberbank VERIFY: test-join-channel.sh testchannel22251 sberbank
[1;34m
Verifing if the sberbank has joined the <testchannel22251> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:22.707 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251 alpha
Step: 28_ali Test 'Join <alpha> to the <testchannel22251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251 alpha VERIFY: test-join-channel.sh testchannel22251 alpha
[1;34m
Verifing if the alpha has joined the <testchannel22251> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:23.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251-02 sberbank
Step: 29_ali Test 'Join <sberbank> to the <testchannel22251-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251-02 sberbank VERIFY: test-join-channel.sh testchannel22251-02 sberbank
[1;34m
Verifing if the sberbank has joined the <testchannel22251-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:23.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251-02 alpha
Step: 30_ali Test 'Join <alpha> to the <testchannel22251-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251-02 alpha VERIFY: test-join-channel.sh testchannel22251-02 alpha
[1;34m
Verifing if the alpha has joined the <testchannel22251-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:24.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 30_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-install.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22251 sberbank
Step: 31_ali Test 'Install test chaincode by <sberbank> to the <testchannel22251> channel'
RUNTEST: chaincode-install.sh testchannel22251 sberbank VERIFY: test-chaincode-installed.sh testchannel22251 sberbank
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22251' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-install.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22251-02 alpha
Step: 32_ali Test 'Install test chaincode by <alpha> to the <testchannel22251-02> channel'
RUNTEST: chaincode-install.sh testchannel22251-02 alpha VERIFY: test-chaincode-installed.sh testchannel22251-02 alpha
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22251-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 32_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-instantiate.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel22251 sberbank
Step: 33_ali Test 'Instantiate test chaincode by <sberbank> to the <testchannel22251> channel'
RUNTEST: chaincode-instantiate.sh testchannel22251 sberbank VERIFY: test-chaincode-instantiated.sh testchannel22251 sberbank
[1;34m
Verifing if the test chaincode instantiated in channel testchannel22251 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel22251' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [testchannel22251] creator org [sberbank]
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_ali: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-invoke.sh testchannel22251 sberbank reference_testchannel22251 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-query.sh testchannel22251 sberbank reference_testchannel22251
Step: 34_ali Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel22251 sberbank reference_testchannel22251 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel22251 sberbank reference_testchannel22251
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13826 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13826 sberbank VERIFY: test-channel-exists.sh testchannel13826 sberbank
[1;36m
Creating the <testchannel13826> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826[m[m[m
test.network

Create channel sberbank testchannel13826
--2020-03-21 20:23:57--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:23:57.269 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:23:57.373 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:23:57.428 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.461 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:23:57.522 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.524 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:23:57.525 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:23:57.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13826
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:23:57.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.816 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13826> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13826> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:58.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:58.855 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:23:58.856 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:23:58.856 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13826",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:23:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13826> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826 alpha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13826 alpha
[1;34m
Verifing if the <testchannel13826> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:59.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:59.444 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826> does not exist and in not visible to alpha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel13826 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13826 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13826 sberbank
[1;36m
Creating the <^^^^^^testchannel13826> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel13826[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel13826
--2020-03-21 20:24:01--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:01.920 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:24:02.041 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:02.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel13826' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel13826.pb -o orderer.test.network:7050 -c ^^^^^^testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:02.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:02.168 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel13826.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel13826.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel13826
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:02.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel13826' != '^^^^^^testchannel13826'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13826> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:03.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:03.374 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel13826> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826 alpha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13826 alpha VERIFY: test-channel-does-not-exist.sh testchannel13826 alpha
[1;36m
Creating the <testchannel13826> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826[m[m[m
test.network

Create channel alpha testchannel13826
--2020-03-21 20:24:05--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:05.793 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:05.901 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:24:05.901 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:05.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:06.047 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:06.049 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13826.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13826.json: No such file or directory
>> Prepare config update from alpha for channel testchannel13826
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:06.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13826> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:07.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:07.244 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826> does not exist and in not visible to alpha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13826-02 alpha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13826-02 alpha VERIFY: test-channel-exists.sh testchannel13826-02 alpha
[1;36m
Creating the <testchannel13826-02> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826-02[m[m[m
test.network

Create channel alpha testchannel13826-02
--2020-03-21 20:24:09--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:09.475 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:24:09.575 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:09.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:09.661 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:09.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:09.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:09.729 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:24:09.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel13826-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:10.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:10.036 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13826-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13826-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:10.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:10.960 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:10.962 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:10.962 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13826-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:24:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13826-02> exists and visible to alpha[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel13826-02 sberbank
[1;34m
Verifing if the <testchannel13826-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:11.466 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:11.469 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13826-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel13826-02 sberbank
[1;36m
Creating the <testchannel13826-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826-02[m[m[m
test.network

Create channel sberbank testchannel13826-02
--2020-03-21 20:24:13--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:13.714 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:13.849 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:24:13.849 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:13.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:14.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:14.034 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13826-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13826-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel13826-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:14.293 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13826-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:15.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:15.367 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel13826 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13826 sberbank alpha
Step: 8_cli Test 'Add <alpha> to channel <testchannel13826> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13826 sberbank alpha VERIFY: test-channel-add-org.sh testchannel13826 sberbank alpha
[1;36m
Add alpha to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel13826 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13826 alpha 7051 test.network[m[m[m
--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel13826, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:17.568 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:17.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:17.570 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:17.570 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel13826
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:17.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:17.901 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel13826 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel13826 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:18.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:18.932 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:24:18.934 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:24:18.934 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel13826>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel13826-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13826-02 alpha sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel13826-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13826-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel13826-02 alpha sberbank
[1;36m
Add sberbank to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel13826-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13826-02 sberbank 7051 test.network[m[m[m
--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel13826-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:21.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:21.387 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:21.388 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:21.388 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel13826-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:21.750 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:21.763 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel13826-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:22.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:22.734 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:24:22.737 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:24:22.737 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel13826-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel13826> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826 sberbank VERIFY: test-join-channel.sh testchannel13826 sberbank
[1;36m
Joining  sberbank to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c65329b9de32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:25--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel13826
Execute: channel fetch 0 crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:25.083 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:25.085 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:25.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:25.321 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel13826 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13826> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:26.387 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13826> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826 alpha
Step: 11_cli Test 'Join <alpha> to the <testchannel13826> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826 alpha VERIFY: test-join-channel.sh testchannel13826 alpha
[1;36m
Joining  alpha to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b7927aa18e4d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:28--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel13826
Execute: channel fetch 0 crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:28.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:28.670 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:28.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:28.850 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel13826 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel13826> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:29.811 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel13826> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel13826-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826-02 sberbank VERIFY: test-join-channel.sh testchannel13826-02 sberbank
[1;36m
Joining  sberbank to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c8d55c655b4c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:32--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel13826-02
Execute: channel fetch 0 crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:32.163 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:32.165 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:32.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:32.339 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13826-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:33.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13826-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826-02 alpha
Step: 13_cli Test 'Join <alpha> to the <testchannel13826-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826-02 alpha VERIFY: test-join-channel.sh testchannel13826-02 alpha
[1;36m
Joining  alpha to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=eeb9346e5ec9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:35--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel13826-02
Execute: channel fetch 0 crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:35.566 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:35.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:35.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:35.816 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel13826-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:37.098 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel13826-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13826 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel13826> channel'
RUNTEST: chaincode-install.sh testchannel13826 sberbank VERIFY: test-chaincode-installed.sh testchannel13826 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13826 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel13826[m[m[m
[1;36m
Installing testchannel13826  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel13826'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c4b7fdbca218
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel13826  /opt/chaincode/node/reference_testchannel13826 node 1.0
[34m2020-03-21 20:24:42.126 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:42.126 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:24:42.227 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13826' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel13826
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13826-02 alpha
Step: 15_cli Test 'Install test chaincode by <alpha> to the <testchannel13826-02> channel'
RUNTEST: chaincode-install.sh testchannel13826-02 alpha VERIFY: test-chaincode-installed.sh testchannel13826-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13826-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel13826-02[m[m[m
[1;36m
Installing testchannel13826-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel13826-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c37a58bb8c28
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel13826-02  /opt/chaincode/node/reference_testchannel13826-02 node 1.0
[34m2020-03-21 20:24:50.789 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:50.789 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:24:50.922 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13826-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826-02, Id: 9e47a1a49d7af3ad3712e4d901ab45eb45f7c38844bc96dbed33b2de22a15b2c
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel13826-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel13826 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel13826> channel'
RUNTEST: chaincode-instantiate.sh testchannel13826 sberbank VERIFY: test-chaincode-instantiated.sh testchannel13826 sberbank
[1;36m
Instantiate test chaincode in testchannel13826 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel13826 reference_testchannel13826[m[m[m
Instantiate chaincode testchannel13826 reference_testchannel13826 '[]' 1.0  
[34m2020-03-21 20:24:57.326 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:57.326 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel13826 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel13826 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel13826' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel13826:
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Escc: escc, Vscc: vscc
reference_testchannel13826
[1;32mOK: The test chaincode installed in testchannel13826 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel13826 sberbank reference_testchannel13826 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel13826 sberbank reference_testchannel13826
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel13826 sberbank reference_testchannel13826 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel13826 sberbank reference_testchannel13826
[1;36m
Invoke test chaincode on the <testchannel13826> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel13826 reference_testchannel13826 '["put","testchannel13826","testchannel13826"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel13826 reference_testchannel13826 '["put","testchannel13826","testchannel13826"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel13826 -C testchannel13826 -c '{"Args":["put","testchannel13826","testchannel13826"]}'
[34m2020-03-21 20:25:43.428 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel13826) orderer endpoint: orderer.test.network:7050
[34m2020-03-21 20:25:43.487 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel13826 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel13826> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel13826 reference_testchannel13826 '["range","testchannel13826"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel13826 reference_testchannel13826 '["range","testchannel13826"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel13826 -C testchannel13826 -c '{"Args":["range","testchannel13826"]}'
[{"key":"testchannel13826","value":"testchannel13826"}]
[1;32mOK: Chaincode reference_testchannel13826 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19000 sberbank
Step: 18_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19000 sberbank VERIFY: test-channel-exists.sh testchannel19000 sberbank
[1;36mCreating testchannel19000 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}] 200
[1;32mOK: Channel <testchannel19000> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19000> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:05.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:05.022 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:26:05.023 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:26:05.024 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19000",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:26:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19000> exists and visible to sberbank[m[m[m
Step 18_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000 alpha
Step: 19_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19000 alpha
[1;34m
Verifing if the <testchannel19000> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:05.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:05.725 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000> does not exist and in not visible to alpha[m[m[m
Step 19_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel19000 sberbank
Step: 20_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19000 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19000 sberbank
[1;36mCreating ^^^^^^testchannel19000 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14
curlGetIt got _ "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters"500 _ result
body is "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters", code is 500
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel19000> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:07.618 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:07.619 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel19000> does not exist and in not visible to sberbank[m[m[m
Step 20_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000 alpha
Step: 21_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19000 alpha VERIFY: test-channel-does-not-exist.sh testchannel19000 alpha
[1;36mCreating testchannel19000 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19000> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:09.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:09.738 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000> does not exist and in not visible to alpha[m[m[m
Step 21_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19000-02 alpha
Step: 22_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19000-02 alpha VERIFY: test-channel-exists.sh testchannel19000-02 alpha
[1;36mCreating testchannel19000-02 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19000-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}] 200
[1;32mOK: Channel <testchannel19000-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19000-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:12.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:12.180 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:26:12.182 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:26:12.182 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19000-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:26:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19000-02> exists and visible to alpha[m[m[m
Step 22_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000-02 sberbank
Step: 23_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19000-02 sberbank
[1;34m
Verifing if the <testchannel19000-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:12.869 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:12.871 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000-02> does not exist and in not visible to sberbank[m[m[m
Step 23_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000-02 sberbank
Step: 24_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19000-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel19000-02 sberbank
[1;36mCreating testchannel19000-02 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19000-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19000-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:14.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:14.538 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000-02> does not exist and in not visible to sberbank[m[m[m
Step 24_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19000 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19000 sberbank alpha
Step: 25_api Test 'Add <alpha> to channel <testchannel19000> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19000 sberbank alpha VERIFY: test-channel-add-org.sh testchannel19000 sberbank alpha
[1;36mAdd alpha to the testchannel19000 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel19000 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel19000 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:23.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:23.675 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:26:23.676 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:26:23.676 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel19000>.[m[m[m
Step 25_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19000-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19000-02 alpha sberbank
Step: 26_api Test 'Add <sberbank> to channel <testchannel19000-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19000-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel19000-02 alpha sberbank
[1;36mAdd sberbank to the testchannel19000-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel19000-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel19000-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:32.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:32.719 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:26:32.720 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:26:32.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel19000-02>.[m[m[m
Step 26_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000 sberbank
Step: 27_api Test 'Join <sberbank> to the <testchannel19000> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000 sberbank VERIFY: test-join-channel.sh testchannel19000 sberbank
[1;36mJoining sberbank.test.network to the testchannel19000 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel19000> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:34.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel19000> channel[m[m[m
Step 27_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000 alpha
Step: 28_api Test 'Join <alpha> to the <testchannel19000> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000 alpha VERIFY: test-join-channel.sh testchannel19000 alpha
[1;36mJoining alpha.test.network to the testchannel19000 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel19000> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:35.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000-02 sberbank
Step: 29_api Test 'Join <sberbank> to the <testchannel19000-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000-02 sberbank VERIFY: test-join-channel.sh testchannel19000-02 sberbank
[1;36mJoining sberbank.test.network to the testchannel19000-02 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel19000-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:37.205 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000-02 alpha
Step: 30_api Test 'Join <alpha> to the <testchannel19000-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000-02 alpha VERIFY: test-join-channel.sh testchannel19000-02 alpha
[1;36mJoining alpha.test.network to the testchannel19000-02 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel19000-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:38.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel19000-02> channel[m[m[m
Step 30_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19000 sberbank
Step: 31_api Test 'Install test chaincode by <sberbank> to the <testchannel19000> channel'
RUNTEST: chaincode-install.sh testchannel19000 sberbank VERIFY: test-chaincode-installed.sh testchannel19000 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19000/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19000/index.js (deflated 27%)
adding: reference_testchannel19000/package.json (deflated 41%)
adding: reference_testchannel19000/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:26 /tmp/reference_testchannel19000.zip
/tmp/reference_testchannel19000.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel19000:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19000' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Id: 4ed0ec1af18c94a0b1494c1bc24bd50acad828ac41e9d4590700bfc257e71740
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel19000
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 31_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19000-02 alpha
Step: 32_api Test 'Install test chaincode by <alpha> to the <testchannel19000-02> channel'
RUNTEST: chaincode-install.sh testchannel19000-02 alpha VERIFY: test-chaincode-installed.sh testchannel19000-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19000-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19000-02/index.js (deflated 27%)
adding: reference_testchannel19000-02/package.json (deflated 41%)
adding: reference_testchannel19000-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:26 /tmp/reference_testchannel19000-02.zip
/tmp/reference_testchannel19000-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel19000-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19000-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826-02, Id: 9e47a1a49d7af3ad3712e4d901ab45eb45f7c38844bc96dbed33b2de22a15b2c
Name: reference_testchannel19000-02, Version: 1.0, Path: /tmp/reference_testchannel19000-02, Id: f243142c6d52983ef02e7fbb4d52f46b811252442927951c12cd7112b64a7636
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel19000-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 32_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel19000 sberbank
Step: 33_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel19000> channel'
RUNTEST: chaincode-instantiate.sh testchannel19000 sberbank VERIFY: test-chaincode-instantiated.sh testchannel19000 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/chaincodes {"channelId":"testchannel19000","chaincodeId":"reference_testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4
curlGetIt got _ {"txid":"907d613c44b1a72c09340053ea88cb3fe934a672f84fe66df5e92cb642598b10","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"907d613c44b1a72c09340053ea88cb3fe934a672f84fe66df5e92cb642598b10","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel19000 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel19000' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel19000:
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel19000
[1;32mOK: The test chaincode installed in testchannel19000 channel by sberbank org[m[m[m
Step 33_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel19000 sberbank reference_testchannel19000 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel19000 sberbank reference_testchannel19000
Step: 34_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel19000 sberbank reference_testchannel19000 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel19000 sberbank reference_testchannel19000
[1;36m
Invoke test chaincode on the <testchannel19000> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/chaincodes/reference_testchannel19000 {"fcn":"put","args":["testchannel19000","testchannel19000"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ
curlGetIt got _ {"txid":"fa986b27a9ef92aaaec45744e3a4afd0b12ec5b4eb8b82d078bf75e13a36008f","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"fa986b27a9ef92aaaec45744e3a4afd0b12ec5b4eb8b82d078bf75e13a36008f","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel19000 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel19000> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel19000 reference_testchannel19000 '["range","testchannel19000"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel19000 reference_testchannel19000 '["range","testchannel19000"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel19000 -C testchannel19000 -c '{"Args":["range","testchannel19000"]}'
[{"key":"testchannel19000","value":"testchannel19000"}]
[1;32mOK: Chaincode reference_testchannel19000 invoked sucsessfuly.[m[m[m
Step 34_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14914 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14914 sberbank VERIFY: test-channel-exists.sh testchannel14914 sberbank
[1;36mCreating testchannel14914 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}] 200
[1;32mOK: Channel <testchannel14914> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14914> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:22.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:22.907 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:35:22.909 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:35:22.909 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14914",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:35:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14914> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14914 alpha
[1;34m
Verifing if the <testchannel14914> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:23.476 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:23.478 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel14914 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14914 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14914 sberbank
[1;36mCreating ^^^^^^testchannel14914 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY
curlGetIt got _ "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters"500 _ result
body is "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters", code is 500
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14914> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:24.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:24.952 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel14914> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14914 alpha VERIFY: test-channel-does-not-exist.sh testchannel14914 alpha
[1;36mCreating testchannel14914 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14914> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:26.491 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:26.493 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14914-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel14914-02 alpha VERIFY: test-channel-exists.sh testchannel14914-02 alpha
[1;36mCreating testchannel14914-02 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel14914-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}] 200
[1;32mOK: Channel <testchannel14914-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14914-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:28.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:28.740 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:35:28.742 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:35:28.742 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14914-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:35:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14914-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14914-02 sberbank
[1;34m
Verifing if the <testchannel14914-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:29.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:29.623 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14914-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel14914-02 sberbank
[1;36mCreating testchannel14914-02 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel14914-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14914-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:31.878 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:31.884 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14914 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14914 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel14914> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14914 sberbank alpha VERIFY: test-channel-add-org.sh testchannel14914 sberbank alpha
[1;36mAdd alpha to the testchannel14914 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel14914 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel14914 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:40.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:40.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:35:40.832 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:35:40.832 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel14914>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14914-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14914-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel14914-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14914-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel14914-02 alpha sberbank
[1;36mAdd sberbank to the testchannel14914-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel14914-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel14914-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:49.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:49.806 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:35:49.807 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:35:49.807 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel14914-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel14914> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914 sberbank VERIFY: test-join-channel.sh testchannel14914 sberbank
[1;36mJoining sberbank.test.network to the testchannel14914 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel14914> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:51.944 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel14914> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel14914> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914 alpha VERIFY: test-join-channel.sh testchannel14914 alpha
[1;36mJoining alpha.test.network to the testchannel14914 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel14914> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:53.532 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel14914-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914-02 sberbank VERIFY: test-join-channel.sh testchannel14914-02 sberbank
[1;36mJoining sberbank.test.network to the testchannel14914-02 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel14914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:54.853 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 12_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel14914-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914-02 alpha VERIFY: test-join-channel.sh testchannel14914-02 alpha
[1;36mJoining alpha.test.network to the testchannel14914-02 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel14914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:56.349 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel14914-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14914 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel14914> channel'
RUNTEST: chaincode-install.sh testchannel14914 sberbank VERIFY: test-chaincode-installed.sh testchannel14914 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14914/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14914/index.js (deflated 27%)
adding: reference_testchannel14914/package.json (deflated 41%)
adding: reference_testchannel14914/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:35 /tmp/reference_testchannel14914.zip
/tmp/reference_testchannel14914.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14914:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14914' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel14914, Version: 1.0, Path: /tmp/reference_testchannel14914, Id: 4d66b73249dbd9fce339ab6fd118b2f81ce10a1e57f181bb7155ab05f531a944
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Id: 4ed0ec1af18c94a0b1494c1bc24bd50acad828ac41e9d4590700bfc257e71740
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel14914
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14914-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel14914-02> channel'
RUNTEST: chaincode-install.sh testchannel14914-02 alpha VERIFY: test-chaincode-installed.sh testchannel14914-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14914-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14914-02/index.js (deflated 27%)
adding: reference_testchannel14914-02/package.json (deflated 41%)
adding: reference_testchannel14914-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:36 /tmp/reference_testchannel14914-02.zip
/tmp/reference_testchannel14914-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel14914-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14914-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel14914 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel14914> channel'
RUNTEST: chaincode-instantiate.sh testchannel14914 sberbank VERIFY: test-chaincode-instantiated.sh testchannel14914 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc
[1;32mOK: JWT token obtained.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19656 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19656 org1 VERIFY: test-channel-exists.sh testchannel19656 org1
[1;36mCreating testchannel19656 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel19656> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19656> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:51:59.321 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:51:59.323 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:51:59.324 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:51:59.324 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19656",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:51:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19656> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19656 org2
[1;34m
Verifing if the <testchannel19656> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:00.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:00.010 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel19656 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19656 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19656 org1
[1;36mCreating ^^^^^^testchannel19656 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel19656> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:02.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:02.576 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel19656> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19656 org2 VERIFY: test-channel-does-not-exist.sh testchannel19656 org2
[1;36mCreating testchannel19656 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19656> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:05.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:05.559 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19656-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19656-02 org2 VERIFY: test-channel-exists.sh testchannel19656-02 org2
[1;36mCreating testchannel19656-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19656-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel <testchannel19656-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19656-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:08.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:08.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:52:08.614 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:52:08.614 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19656-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:52:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19656-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19656-02 org1
[1;34m
Verifing if the <testchannel19656-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:09.318 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:09.321 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19656-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel19656-02 org1
[1;36mCreating testchannel19656-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19656-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19656-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:11.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:11.876 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19656 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19656 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel19656> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19656 org1 org2 VERIFY: test-channel-add-org.sh testchannel19656 org1 org2
[1;36mAdd org2 to the testchannel19656 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel19656 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel19656 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:15.124 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:15.126 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:52:15.129 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:52:15.129 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQVA2NGxVREhpSytmeEN5MEc2eHViZXd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9kMkxDMnhKOHF6YUJOSzUrNDJNOGQwUXIxSFdvQXQKK3BRMEtLT09Idm04Sklzb0xDRTVmU1RVdFZsNURtVUNsUVZ1c3BDc2c0NWMrM2RHY1ZFWFZlR2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUIvTEFRYW53Z1R5CkZWZk44N3ZNbmFDdDE2SlFFcDhtdUJpYnhrcDRRRUt1TUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEeDVkK1kKNC9vMnJzakpTWjVhRkZxaXRYSVh4eU1tbG9VeXFzY3UxTlRObmdJZ05WS2RTNTkvbGVFQml6b0t2TjJXekNLSgpmUlVLNUtDQmJkV0NEa0loTkJRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTVNzeUxVTkZHNnA2K2hNeHRhUXpsakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpFeU1EUTBNREJhRncwek1EQXpNVGt5TURRME1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSEVSZGxENjFob2dVd0lrNFlOdHl0N2ozb1UveVhZS1VneEZER0Y0TVZLbjFJR25xb3ZKQTcyM1ErQzFVVGUyUApZMGorWVJiWEtXK1BkNVNUYzNaR05hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQWYKeXdFR3A4SUU4aFZYemZPN3pKMmdyZGVpVUJLZkpyZ1ltOFpLZUVCQ3JqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBeWsvOFZlZjduNXJObXVJOThmeXFxN1BQTWppWVhuK0FiUjc1UkswNER1a0NJQ3JuQngxTEE2NFdReVZRCnZwdTlPcnYvRzBKOURxZFRDWGl2VXFxRnJBQ0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFBqS2tsRWR0dkNLU1pCUEkxU2JaekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qRXlNRFEwTURCYUZ3MHpNREF6TVRreU1EUTAKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVuMm9pQWJyV1F6Rlk0aGxLaHZDWEZxTjJFMndSd0hFVkdSV3BpSi8yRjZyUWdTaGFVWHZOSjN6MQp6aEtZRkFlTkQxZWVDSkR0bUwyZWdzUnVEZk1OVjZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQTVyU3BBeXpya0ZLRlNha0E1UkdzOVRpOFlHQ2tVMFFaWTFxYmIxWGw1cURBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF6Uk1UR1pEK3NMNFovZE1iV1A4bkppcmRGRDA5ZHkvcEhqc1FzSXZYZ2VzQ0lFWm5udHhuCkVOc0xUalRRM0tQSWVxeisyeVJDd2xmTW1DNXlidTlrR0xEdwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel19656>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19656-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19656-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel19656-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19656-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel19656-02 org2 org1
[1;36mAdd org1 to the testchannel19656-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel19656-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel19656-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:18.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:18.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:52:18.270 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:52:18.270 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUpBcld0UDJKQ2NMOCtsMzFBQnhKand3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk1NWDdiUzc5Q0l6T0J3U0M4WmE1MjJ4SUVocVZxcEoKVnVoeEc5Uy9Jeml5ZjZVSmQzODFDYXFqcndHTEhnd3cyRC84Wk1ud1Rya05McllGLzM1Rys2NmpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUY1U3dWTUF5eDN0CitqcHpSRGpJZXpoNytGaXdpQWsxZjhKV0lDeWVrWFRMTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFER2dmQUcKOHN3S3gyTzZLZG9XaVFIWUljdHJCNUJIbGU4MEhCY1pyVnU3L2dJZ0N2WVp3TXZ2V3FaMGpGTFRuRXUvN3BaQQpmY3BSaXFDT2FIUHA4NlR0LzB3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQVBCNGFsS3V4NWYzUGVVemxBQlBjOW93Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk92NlUzTzVTOTJjb2ZJZEFoNjVjZVlvdUdrMUwwNXRYTWFiSTYweUZjbFYvdVlQaXcvMzhEaHBwZVkxK3pSYworK3hod3c4dGJTVzRDY2xZZmlpR1Q3K2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWGxMQlV3RExIZTM2T25ORU9NaDdPSHY0V0xDSUNUVi93bFlnTEo2UmRNc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnTE9ZTWdEdXZMZXFnZmFtMFJETGVndVlZWi9GcDd2Qjh2MnNGS3hjbzlrTUNJR00zaXZuYUI4UENKeFgyCjdMV0hSWTBQSjE0OFUvYUtnVlVYeERvTk05V1YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWakNDQWYyZ0F3SUJBZ0lRY1FNaHYzczVYOU1vSFhaaVFlS1ZRREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qRXlNRFEwTURCYUZ3MHpNREF6TVRreU1EUTAKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUV0R3RkQXBodzZaSTNpbWlVY0NFekphbVFBRHAzOW1sWXR3bEx4Tlk3ZmpIa3JuK21sTy9OZEMwawpDcVRma2I0dzBTUDh1UnJ4cEg3RnRBak5XSnpWZHFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQTBMUHBIV3RCemtnaWlYckltSUFySUhpOUM5aVRiY0FsYTVKVlY0SCt3NkRBS0JnZ3Foa2pPUFFRRApBZ05IQURCRUFpQTM0TFNBczllczltU2pLclQrN0srR09LYWZPNXp1UlN5RzNHVUJLMFBMK2dJZ0p0YUZEQjNhCjVLanJQTjA5TUFJcTN1Q0JlM3RFc0dneWg0emtSKy9NNGhvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel19656-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656 org1
Step: 10_api Test 'Join <org1> to the <testchannel19656> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656 org1 VERIFY: test-join-channel.sh testchannel19656 org1
[1;36mJoining org1.example.com to the testchannel19656 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel19656> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:20.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel19656> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656 org2
Step: 11_api Test 'Join <org2> to the <testchannel19656> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656 org2 VERIFY: test-join-channel.sh testchannel19656 org2
[1;36mJoining org2.example.com to the testchannel19656 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel19656> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:54:21.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel19656> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel19656-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656-02 org1 VERIFY: test-join-channel.sh testchannel19656-02 org1
[1;36mJoining org1.example.com to the testchannel19656-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel19656-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:56:22.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel19656-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel19656-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656-02 org2 VERIFY: test-join-channel.sh testchannel19656-02 org2
[1;36mJoining org2.example.com to the testchannel19656-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel19656-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:56:24.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel19656-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19656 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel19656> channel'
RUNTEST: chaincode-install.sh testchannel19656 org1 VERIFY: test-chaincode-installed.sh testchannel19656 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19656/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19656/index.js (deflated 27%)
adding: reference_testchannel19656/package.json (deflated 41%)
adding: reference_testchannel19656/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:56 /tmp/reference_testchannel19656.zip
/tmp/reference_testchannel19656.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel19656:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19656' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel19656, Version: 1.0, Path: /tmp/reference_testchannel19656, Id: a02ce43a5f9b29a4558584a6bf9ab9bf11556753a366d893cfe37127502ea01f
reference_testchannel19656
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19656-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel19656-02> channel'
RUNTEST: chaincode-install.sh testchannel19656-02 org2 VERIFY: test-chaincode-installed.sh testchannel19656-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19656-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19656-02/index.js (deflated 27%)
adding: reference_testchannel19656-02/package.json (deflated 41%)
adding: reference_testchannel19656-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:56 /tmp/reference_testchannel19656-02.zip
/tmp/reference_testchannel19656-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel19656-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19656-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel19656-02, Version: 1.0, Path: /tmp/reference_testchannel19656-02, Id: e31c0a92578b34ef823499482b84555861dfa5ed557f8275bfebd6354ced0d46
reference_testchannel19656-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel19656 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel19656> channel'
RUNTEST: chaincode-instantiate.sh testchannel19656 org1 VERIFY: test-chaincode-instantiated.sh testchannel19656 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/chaincodes {"channelId":"testchannel19656","chaincodeId":"reference_testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s
curlGetIt got _ {"txid":"df2866474b164906e562993d8b9349330fb6145240596fe8b6473e79d67ca857","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"df2866474b164906e562993d8b9349330fb6145240596fe8b6473e79d67ca857","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel19656 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel19656' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel19656:
Name: reference_testchannel19656, Version: 1.0, Path: /tmp/reference_testchannel19656, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel19656
[1;32mOK: The test chaincode installed in testchannel19656 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel19656 org1 reference_testchannel19656 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel19656 org1 reference_testchannel19656
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel19656 org1 reference_testchannel19656 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel19656 org1 reference_testchannel19656
[1;36m
Invoke test chaincode on the <testchannel19656> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/chaincodes/reference_testchannel19656 {"fcn":"put","args":["testchannel19656","testchannel19656"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ
curlGetIt got _ {"txid":"4801a364cf83366bb5fd9d647204098bce14c8e0adeabb2a58cf161f2e9ef539","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"4801a364cf83366bb5fd9d647204098bce14c8e0adeabb2a58cf161f2e9ef539","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel19656 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel19656> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel19656 reference_testchannel19656 '["range","testchannel19656"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel19656 reference_testchannel19656 '["range","testchannel19656"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel19656 -C testchannel19656 -c '{"Args":["range","testchannel19656"]}'
[{"key":"testchannel19656","value":"testchannel19656"}]
[1;32mOK: Chaincode reference_testchannel19656 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27466 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27466 sberbank VERIFY: test-channel-exists.sh testchannel27466 sberbank
[1;36mCreating testchannel27466 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27466> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27466> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:38.587 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:38.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 21:01:38.594 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 21:01:38.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27466",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T21:01:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27466> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27466 alpha
[1;34m
Verifing if the <testchannel27466> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:40.223 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:40.232 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27466 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27466 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27466 sberbank
[1;36mCreating ^^^^^^testchannel27466 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27466> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:43.851 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:43.854 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27466> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27466 alpha VERIFY: test-channel-does-not-exist.sh testchannel27466 alpha
[1;36mCreating testchannel27466 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27466> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:47.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:47.663 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27466-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27466-02 alpha VERIFY: test-channel-exists.sh testchannel27466-02 alpha
[1;36mCreating testchannel27466-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27466-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel27466-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27466-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:51.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:51.896 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 21:01:51.900 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 21:01:51.900 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27466-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T21:01:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27466-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27466-02 sberbank
[1;34m
Verifing if the <testchannel27466-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:53.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:53.356 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27466-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27466-02 sberbank
[1;36mCreating testchannel27466-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27466-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27466-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:57.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:57.611 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27466 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27466 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel27466> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27466 sberbank alpha VERIFY: test-channel-add-org.sh testchannel27466 sberbank alpha
[1;36mAdd alpha to the testchannel27466 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel27466 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel27466 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:02:02.236 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:02:02.241 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 21:02:02.242 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 21:02:02.242 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRRWtoSFZ2OUkwM0tIRlJoUy9Cd1dqVEFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzVoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQTFOREF3V2hjTk16QXcKTXpFNU1qQTFOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU0NmZ5NWo4TVVmOW8KcnRvY3BwSTRyYmdHbzBKcVdRdjF3UU1pMnltaDIxeGZnNVJOTG9TN28xUHk2R0NpeVBSWkJtSGUzdjdRc0srWApmL3A5NkpZSHk2Tk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnS0RFVnJQT0pWa0ZWelh2TkNKL3U5MjV4TUZLV3lIZUxsODZaNHlhdTk3TXdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnUVgzY3A5SG1vWEN2OEJZdHNFbElseVMwQXNYaDFFRWpYTG9nakF0SE02Y0NJSGU4cjRYUgpyZ0k0bXpTWjRnSDNFRjVnZmQ4NFhHTkZ2L1hYZytHQk5IMlQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQU80WEVCS3VCQzVXUGhKa1c1N215Vm93Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdOVFF3TUZvWERUTXcKTURNeE9USXdOVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTRvd1JzYzRJUVdBc1JsNWtXWm15VkdSZ2hmUHFaOVpUbzRBcQo5K3BkSDRVTHRiZzhKeWZmaTdCV1FZR1VZRkowK0x0N1crbG5oajNzTXVSY1h5VHJrNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNBb01SV3M4NGxXUVZYTmU4MEluKzczYm5Fd1VwYklkNHVYenBuagpKcTczc3pBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQWxscGQxSi9VUnRCUzJITHc3d1h6c3NpQWJYSTJITnhPCkR4ajZrMXZGTnQ0Q0lHOTQ0SnBIQTRZRFlKcEVqUUw5eU5YU2NueTRBK3BhY1pQTG5kdTYvemNRCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiakNDQWhTZ0F3SUJBZ0lSQU1UMG9XdWFnalAzays3cGI2VEk2Sjh3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURVME1EQmEKRncwek1EQXpNVGt5TURVME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRRkRIMXBpT3RBcVcrM3F2bjdBQjIycWN2TgpDU000bXF3YVJ6WmFnY3g4ZWIxUTBQNWpXVzJHdGU1b0xCYW5aTjdHWVRETkIybDlEOHo2K1Uwd1l4bFZvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUJ5UFk2UDBzbGliMnZhTVRUN3dDTmZBQ0ppNApsTzE3dExlYTIrTE9MNkMzTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEYldZV1p3RnJ6T0YwcFREcFUzV0ZpClRKWWp2M0t4VUJmc2VOUUZUUUJJelFJZ2RRSTFYeTlSMGU2MDF3Zk9GWlRoMDZSWHMvM296aFRWZ0hLY1lZWHoKYUh3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel27466>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27466-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27466-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel27466-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27466-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel27466-02 alpha sberbank
[1;36mAdd sberbank to the testchannel27466-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel27466-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel27466-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:02:12.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:02:12.115 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 21:02:12.117 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 21:02:12.117 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNekNDQWRtZ0F3SUJBZ0lSQUtLaUVzY2VUVS84aFZtOGZEbnd0bjR3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpFeU1EVTAKTURCYUZ3MHpNREF6TVRreU1EVTBNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTSzYxQmhZazY5bWhzdkllV0lNYWpGZG94MDJaanFQOFVIckVHOW1TVzB4U2VOTnNnVnkvVGg2Ly85SDZyWgp5OEs0YVZPUDQxekQ5d3lIN0FCd2RkRW1vMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NEbW9ucEpNbmZJSkhQL1JEOWlxdFJnRFkvUERQeTR4NDZFK0lhK3pnREMKbXpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTVYRlRSUTVsbGpsUzNxY3ZaOTB4Vzh5eldkcmR5dXVWUml6ZApBS09tdXE4Q0lINSs4OWZzUVNxZWhrTWkxdkNtTEZsNmFSS1RTOWRuWklpMmdYb0g3R0ZFCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNjekNDQWhxZ0F3SUJBZ0lSQUoxUGVpcHpQZ0hDVVBNa05mT243WUV3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpFeU1EVTAKTURCYUZ3MHpNREF6TVRreU1EVTBNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVNJWnJSSENzTjZ4dHpYcUN1OApUT2lHK1FDekdUakl1em0vUWZzSUpaYnRQY3Y2b1NJd2xoRFRGeUhXMTRCZ0x4TldsNHFDZ21QMnBoUDFod0xlCk9YSFRvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJT2FpZWtreWQ4Z2tjLzlFUDJLcQoxR0FOajg4TS9Makhqb1Q0aHI3T0FNS2JNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJRjlkVElRdG1tTFpZeFdnCkIwMXh1Y0RzYVE5Mi9YOW5qU0JSb0RPSG92VE5BaUJCMnZuZmlMYW5PZmdZNnNwcGlYUFNpWFdLbnRtZmZ1SFYKcVorQWZFRWlNZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlakNDQWlDZ0F3SUJBZ0lSQUlsWGpwdzVuNXFlUk85NTVhTUZPNE13Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qRXkKTURVME1EQmFGdzB6TURBek1Ua3lNRFUwTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBVExNek9oamV4Ywppak83L0hkT1FxMVhKSnc1UTNPRmNyRkxYaERPcGgwSnZoUFBLN2ZYT3FzSlhqNk5SR01zb0N3ajhNbGVBQnoyCjBydVdnQVhMWUowcW8yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlOTEtudUJMWEtqYgoza1pSb3cvL0hyMm5ucmZzMTUyZ042TWJkYTVSWGdQSk1Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lRQ1RsQ3lBCkpRd1Z2Z2tSbHM4M2ttRWdueHB1aDRBdDloYkthcDYyMUM3c3NnSWdOM2xaRE9UbmVsK1B1citIYkpMVGpDaUcKdWJoWnNHNjBBYlpKMVgyVGxMTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel27466-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel27466> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466 sberbank VERIFY: test-join-channel.sh testchannel27466 sberbank
[1;36mJoining sberbank.example.network to the testchannel27466 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27466> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:02:13.861 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27466> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel27466> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466 alpha VERIFY: test-join-channel.sh testchannel27466 alpha
[1;36mJoining alpha.example.network to the testchannel27466 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27466> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:04:15.275 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27466> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel27466-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466-02 sberbank VERIFY: test-join-channel.sh testchannel27466-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel27466-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27466-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:06:16.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27466-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel27466-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466-02 alpha VERIFY: test-join-channel.sh testchannel27466-02 alpha
[1;36mJoining alpha.example.network to the testchannel27466-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27466-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:06:18.276 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27466-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27466 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel27466> channel'
RUNTEST: chaincode-install.sh testchannel27466 sberbank VERIFY: test-chaincode-installed.sh testchannel27466 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27466/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27466/index.js (deflated 27%)
adding: reference_testchannel27466/package.json (deflated 41%)
adding: reference_testchannel27466/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 22 00:06 /tmp/reference_testchannel27466.zip
/tmp/reference_testchannel27466.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel27466:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27466' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27466, Version: 1.0, Path: /tmp/reference_testchannel27466, Id: aa4e21bfe31ae18d6df84b1246efae89a61da57236c072c1d5b742ef56cc71e2
reference_testchannel27466
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27466-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel27466-02> channel'
RUNTEST: chaincode-install.sh testchannel27466-02 alpha VERIFY: test-chaincode-installed.sh testchannel27466-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27466-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27466-02/index.js (deflated 27%)
adding: reference_testchannel27466-02/package.json (deflated 41%)
adding: reference_testchannel27466-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 22 00:06 /tmp/reference_testchannel27466-02.zip
/tmp/reference_testchannel27466-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel27466-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27466-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27466-02, Version: 1.0, Path: /tmp/reference_testchannel27466-02, Id: 2ceff97b72ae1ad0db08da1df66cd2ae752f21dae788930014d57bc6f695f16a
reference_testchannel27466-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27466 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel27466> channel'
RUNTEST: chaincode-instantiate.sh testchannel27466 sberbank VERIFY: test-chaincode-instantiated.sh testchannel27466 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/chaincodes {"channelId":"testchannel27466","chaincodeId":"reference_testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw
curlGetIt got _ {"txid":"6c5b8fa7cb241400b9be2e9e7bca4a8f76e218c3532fa28297fd5d75fe8a78d9","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"6c5b8fa7cb241400b9be2e9e7bca4a8f76e218c3532fa28297fd5d75fe8a78d9","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27466 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27466' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27466:
Name: reference_testchannel27466, Version: 1.0, Path: /tmp/reference_testchannel27466, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel27466
[1;32mOK: The test chaincode installed in testchannel27466 channel by sberbank org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel27466 sberbank reference_testchannel27466 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel27466 sberbank reference_testchannel27466
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27466 sberbank reference_testchannel27466 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27466 sberbank reference_testchannel27466
[1;36m
Invoke test chaincode on the <testchannel27466> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/chaincodes/reference_testchannel27466 {"fcn":"put","args":["testchannel27466","testchannel27466"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ
curlGetIt got _ {"txid":"46c8f6a464ee19dfcd9436fd8a6fd5d2f02c32b472aa7687b2cf0f9c5539d10e","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"46c8f6a464ee19dfcd9436fd8a6fd5d2f02c32b472aa7687b2cf0f9c5539d10e","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel27466 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27466> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27466 reference_testchannel27466 '["range","testchannel27466"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27466 reference_testchannel27466 '["range","testchannel27466"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel27466 -C testchannel27466 -c '{"Args":["range","testchannel27466"]}'
[{"key":"testchannel27466","value":"testchannel27466"}]
[1;32mOK: Chaincode reference_testchannel27466 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel26264 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel26264 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel26264 sberbank VERIFY: test-channel-exists.sh testchannel26264 sberbank
[1;36mCreating testchannel26264 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUxOX0.fE4MBGyjHgDQrcZ_5A1AGEZXCeZLpkXw_NLpmkXfYR8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUxOX0.fE4MBGyjHgDQrcZ_5A1AGEZXCeZLpkXw_NLpmkXfYR8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUxOX0.fE4MBGyjHgDQrcZ_5A1AGEZXCeZLpkXw_NLpmkXfYR8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel26264","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUxOX0.fE4MBGyjHgDQrcZ_5A1AGEZXCeZLpkXw_NLpmkXfYR8
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel26264> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel26264> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:35:22.424 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:35:22.427 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:35:22.429 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:35:22.429 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel26264",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:35:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel26264> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel26264 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel26264 alpha
[1;34m
Verifing if the <testchannel26264> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:35:23.197 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:35:23.200 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26264> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel26264 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel26264 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel26264 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel26264 sberbank
[1;36mCreating ^^^^^^testchannel26264 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyM30.v_IaSUsD1V-R6AnK43LTb2yDWGeXYFvgPA0JHo0V2N4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyM30.v_IaSUsD1V-R6AnK43LTb2yDWGeXYFvgPA0JHo0V2N4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyM30.v_IaSUsD1V-R6AnK43LTb2yDWGeXYFvgPA0JHo0V2N4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel26264","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyM30.v_IaSUsD1V-R6AnK43LTb2yDWGeXYFvgPA0JHo0V2N4
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel26264\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel26264\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel26264\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel26264> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:35:25.518 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:35:25.520 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel26264> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel26264 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel26264 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel26264 alpha VERIFY: test-channel-does-not-exist.sh testchannel26264 alpha
[1;36mCreating testchannel26264 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyNn0.I9vfoA2Js1GwqFSrt58y7wImLdri1WvFsNyUrnJDyeM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyNn0.I9vfoA2Js1GwqFSrt58y7wImLdri1WvFsNyUrnJDyeM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyNn0.I9vfoA2Js1GwqFSrt58y7wImLdri1WvFsNyUrnJDyeM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel26264","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyNn0.I9vfoA2Js1GwqFSrt58y7wImLdri1WvFsNyUrnJDyeM
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel26264> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:35:28.247 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:35:28.250 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel26264> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel26264-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel26264-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel26264-02 alpha VERIFY: test-channel-exists.sh testchannel26264-02 alpha
[1;36mCreating testchannel26264-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyOH0.Fk5d8RBqYDCDkE_k97lnqY3dVDEcRsseOjV97fANtFc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyOH0.Fk5d8RBqYDCDkE_k97lnqY3dVDEcRsseOjV97fANtFc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyOH0.Fk5d8RBqYDCDkE_k97lnqY3dVDEcRsseOjV97fANtFc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel26264-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDUyOH0.Fk5d8RBqYDCDkE_k97lnqY3dVDEcRsseOjV97fANtFc
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel26264-02> creation run sucsessfuly.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8728 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8728 sberbank
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23969 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel23969 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23969 sberbank VERIFY: test-channel-exists.sh testchannel23969 sberbank
[1;36mCreating testchannel23969 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyMX0.gkzWk70KQBQ2DJg0w2FpcDKg2uw4SFHvRwkR-mVa6VU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyMX0.gkzWk70KQBQ2DJg0w2FpcDKg2uw4SFHvRwkR-mVa6VU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyMX0.gkzWk70KQBQ2DJg0w2FpcDKg2uw4SFHvRwkR-mVa6VU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel23969","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyMX0.gkzWk70KQBQ2DJg0w2FpcDKg2uw4SFHvRwkR-mVa6VU
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel23969> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23969> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:37:03.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:37:03.652 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:37:03.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:37:03.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel23969",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:37:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel23969> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel23969 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23969 alpha
[1;34m
Verifing if the <testchannel23969> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:37:04.440 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:37:04.442 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel23969> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel23969 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel23969 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel23969 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel23969 sberbank
[1;36mCreating ^^^^^^testchannel23969 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyNH0.7r0oVwx7fh7Iy_jlQy0kJPJ8s4LmZA_tcYVZwGlMWSA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyNH0.7r0oVwx7fh7Iy_jlQy0kJPJ8s4LmZA_tcYVZwGlMWSA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyNH0.7r0oVwx7fh7Iy_jlQy0kJPJ8s4LmZA_tcYVZwGlMWSA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel23969","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDYyNH0.7r0oVwx7fh7Iy_jlQy0kJPJ8s4LmZA_tcYVZwGlMWSA
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6039 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel6039 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6039 sberbank VERIFY: test-channel-exists.sh testchannel6039 sberbank
[1;36mCreating testchannel6039 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1MX0.EsRgwtb-UNZrDNNNClEfVj3k6-R-ELMulHPXrv0tebs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1MX0.EsRgwtb-UNZrDNNNClEfVj3k6-R-ELMulHPXrv0tebs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1MX0.EsRgwtb-UNZrDNNNClEfVj3k6-R-ELMulHPXrv0tebs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel6039","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1MX0.EsRgwtb-UNZrDNNNClEfVj3k6-R-ELMulHPXrv0tebs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel6039> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6039> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:39:14.459 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:14.461 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:39:14.462 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:39:14.462 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel6039",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:39:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6039> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6039 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel6039 alpha
[1;34m
Verifing if the <testchannel6039> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:39:15.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:15.179 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6039> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel6039 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel6039 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel6039 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel6039 sberbank
[1;36mCreating ^^^^^^testchannel6039 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1NX0.nPspUemDwxWLfdArMHqHA9beRmUKlFI0PkhzmWrj-fM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1NX0.nPspUemDwxWLfdArMHqHA9beRmUKlFI0PkhzmWrj-fM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1NX0.nPspUemDwxWLfdArMHqHA9beRmUKlFI0PkhzmWrj-fM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel6039","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1NX0.nPspUemDwxWLfdArMHqHA9beRmUKlFI0PkhzmWrj-fM
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6039\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6039\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel6039\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel6039> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:39:17.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:17.561 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel6039> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6039 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel6039 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel6039 alpha VERIFY: test-channel-does-not-exist.sh testchannel6039 alpha
[1;36mCreating testchannel6039 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1OH0.bIZPqesYqbSyyRRmXtaHn12d1tZI1Eau1IQuquGNZo8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1OH0.bIZPqesYqbSyyRRmXtaHn12d1tZI1Eau1IQuquGNZo8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1OH0.bIZPqesYqbSyyRRmXtaHn12d1tZI1Eau1IQuquGNZo8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel6039","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc1OH0.bIZPqesYqbSyyRRmXtaHn12d1tZI1Eau1IQuquGNZo8
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel6039> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:39:20.260 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:20.265 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel6039> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6039-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel6039-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel6039-02 alpha VERIFY: test-channel-exists.sh testchannel6039-02 alpha
[1;36mCreating testchannel6039-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2MH0.wwD-5RRO4MCJcxvnULbFe9S4Oy0S3U6qEQYHnKtfpqg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2MH0.wwD-5RRO4MCJcxvnULbFe9S4Oy0S3U6qEQYHnKtfpqg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2MH0.wwD-5RRO4MCJcxvnULbFe9S4Oy0S3U6qEQYHnKtfpqg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel6039-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2MH0.wwD-5RRO4MCJcxvnULbFe9S4Oy0S3U6qEQYHnKtfpqg
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel18383 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel18383 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel18383 sberbank VERIFY: test-channel-exists.sh testchannel18383 sberbank
[1;36mCreating testchannel18383 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2OX0.qSh13TGT9uRPXDnxDK1cwGIXFQgmSx8aUovPJXSaev4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2OX0.qSh13TGT9uRPXDnxDK1cwGIXFQgmSx8aUovPJXSaev4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2OX0.qSh13TGT9uRPXDnxDK1cwGIXFQgmSx8aUovPJXSaev4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel18383","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc2OX0.qSh13TGT9uRPXDnxDK1cwGIXFQgmSx8aUovPJXSaev4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel18383> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel18383> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:39:31.209 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:31.211 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:39:31.213 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:39:31.213 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel18383",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:39:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel18383> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18383 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel18383 alpha
[1;34m
Verifing if the <testchannel18383> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:39:31.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:31.963 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel18383> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel18383 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel18383 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel18383 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel18383 sberbank
[1;36mCreating ^^^^^^testchannel18383 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc3Mn0.BDzSRVuO7O0N4rLQYg6zVFVVWI2mg9s23EFqKj9oHO0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc3Mn0.BDzSRVuO7O0N4rLQYg6zVFVVWI2mg9s23EFqKj9oHO0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc3Mn0.BDzSRVuO7O0N4rLQYg6zVFVVWI2mg9s23EFqKj9oHO0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel18383","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc3Mn0.BDzSRVuO7O0N4rLQYg6zVFVVWI2mg9s23EFqKj9oHO0
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel18383\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel18383\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel18383\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel18383> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:39:34.218 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:34.220 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel18383> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel18383 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel18383 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel18383 alpha VERIFY: test-channel-does-not-exist.sh testchannel18383 alpha
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25353 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25353 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25353 sberbank VERIFY: test-channel-exists.sh testchannel25353 sberbank
[1;36mCreating testchannel25353 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4NH0.eCBch-FKV9OIE8apCPsXwRpoyORfIL8BX8tcXqLB-KM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4NH0.eCBch-FKV9OIE8apCPsXwRpoyORfIL8BX8tcXqLB-KM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4NH0.eCBch-FKV9OIE8apCPsXwRpoyORfIL8BX8tcXqLB-KM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel25353","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4NH0.eCBch-FKV9OIE8apCPsXwRpoyORfIL8BX8tcXqLB-KM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel25353> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25353> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:39:46.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:46.908 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:39:46.910 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:39:46.911 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25353",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:39:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel25353> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25353 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25353 alpha
[1;34m
Verifing if the <testchannel25353> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:39:47.637 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:39:47.644 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel25353> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel25353 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel25353 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25353 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25353 sberbank
[1;36mCreating ^^^^^^testchannel25353 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4OH0.qn01ceyTAD4g8crV-amCtm4te4Yn9z9Uj_vs2pqxUlc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4OH0.qn01ceyTAD4g8crV-amCtm4te4Yn9z9Uj_vs2pqxUlc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4OH0.qn01ceyTAD4g8crV-amCtm4te4Yn9z9Uj_vs2pqxUlc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel25353","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc4OH0.qn01ceyTAD4g8crV-amCtm4te4Yn9z9Uj_vs2pqxUlc
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8726 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8726 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8726 sberbank VERIFY: test-channel-exists.sh testchannel8726 sberbank
[1;36mCreating testchannel8726 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc5OH0.X-5s4urD4uR0TaHki6BPy5LSkEPqi2qjiZeJGZ3SnOI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc5OH0.X-5s4urD4uR0TaHki6BPy5LSkEPqi2qjiZeJGZ3SnOI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc5OH0.X-5s4urD4uR0TaHki6BPy5LSkEPqi2qjiZeJGZ3SnOI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel8726","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDc5OH0.X-5s4urD4uR0TaHki6BPy5LSkEPqi2qjiZeJGZ3SnOI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel8726> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8726> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:00.766 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:00.768 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:40:00.769 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:40:00.769 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8726",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:39:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8726> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8726 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel8726 alpha
[1;34m
Verifing if the <testchannel8726> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:40:01.439 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:01.442 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8726> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel8726 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel8726 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel8726 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel8726 sberbank
[1;36mCreating ^^^^^^testchannel8726 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwMX0.UqHaRp2W2SXevqHoW06WsXjPyCWki3U76fdryrAviKI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwMX0.UqHaRp2W2SXevqHoW06WsXjPyCWki3U76fdryrAviKI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwMX0.UqHaRp2W2SXevqHoW06WsXjPyCWki3U76fdryrAviKI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel8726","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwMX0.UqHaRp2W2SXevqHoW06WsXjPyCWki3U76fdryrAviKI
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8726\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8726\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel8726\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel8726> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:03.751 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:03.754 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel8726> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8726 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8726 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel8726 alpha VERIFY: test-channel-does-not-exist.sh testchannel8726 alpha
[1;36mCreating testchannel8726 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNH0.K5FHC1rB9wZNCdjMONrT8-M9m4CHVAArmMffEGTT2VE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNH0.K5FHC1rB9wZNCdjMONrT8-M9m4CHVAArmMffEGTT2VE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNH0.K5FHC1rB9wZNCdjMONrT8-M9m4CHVAArmMffEGTT2VE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel8726","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNH0.K5FHC1rB9wZNCdjMONrT8-M9m4CHVAArmMffEGTT2VE
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel8726> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:40:06.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:06.072 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8726> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8726-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8726-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel8726-02 alpha VERIFY: test-channel-exists.sh testchannel8726-02 alpha
[1;36mCreating testchannel8726-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNn0.hzRJAntpe8KkL6ZvJMeqcCWc4aVfAIDqkCnZCcuxMqo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNn0.hzRJAntpe8KkL6ZvJMeqcCWc4aVfAIDqkCnZCcuxMqo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNn0.hzRJAntpe8KkL6ZvJMeqcCWc4aVfAIDqkCnZCcuxMqo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel8726-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwNn0.hzRJAntpe8KkL6ZvJMeqcCWc4aVfAIDqkCnZCcuxMqo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel8726-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8726-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:40:08.509 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:08.511 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:40:08.512 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:40:08.512 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8726-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:40:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8726-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8726-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel8726-02 sberbank
[1;34m
Verifing if the <testchannel8726-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:09.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:09.203 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8726-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8726-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel8726-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel8726-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel8726-02 sberbank
[1;36mCreating testchannel8726-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwOX0.as_2qKcjtLLdaqAvfOfKrS3NMN7HlO-B8C510sMOyUA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwOX0.as_2qKcjtLLdaqAvfOfKrS3NMN7HlO-B8C510sMOyUA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwOX0.as_2qKcjtLLdaqAvfOfKrS3NMN7HlO-B8C510sMOyUA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel8726-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgwOX0.as_2qKcjtLLdaqAvfOfKrS3NMN7HlO-B8C510sMOyUA
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel8726-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:11.614 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:11.616 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel8726-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8726 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8726 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel8726> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8726 sberbank alpha VERIFY: test-channel-add-org.sh testchannel8726 sberbank alpha
[1;36mAdd alpha to the testchannel8726 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel8726 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxMn0.2k3UkAXxgYGGAP74uk4Gl4p7oNvRV3aYtyWgq3dzbIA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxMn0.2k3UkAXxgYGGAP74uk4Gl4p7oNvRV3aYtyWgq3dzbIA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxMn0.2k3UkAXxgYGGAP74uk4Gl4p7oNvRV3aYtyWgq3dzbIA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8726/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxMn0.2k3UkAXxgYGGAP74uk4Gl4p7oNvRV3aYtyWgq3dzbIA
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel8726 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel8726 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:14.506 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:14.510 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 14:40:14.511 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 14:40:14.511 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel8726>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8726-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8726-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel8726-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8726-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel8726-02 alpha sberbank
[1;36mAdd sberbank to the testchannel8726-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel8726-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxNH0.29jMF7fHHdRepTlq1iZR3JrD7xgNpgjYkb0vyvszwGg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxNH0.29jMF7fHHdRepTlq1iZR3JrD7xgNpgjYkb0vyvszwGg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxNH0.29jMF7fHHdRepTlq1iZR3JrD7xgNpgjYkb0vyvszwGg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8726-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxNH0.29jMF7fHHdRepTlq1iZR3JrD7xgNpgjYkb0vyvszwGg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel8726-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel8726-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 14:40:17.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:40:17.121 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 14:40:17.122 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 14:40:17.122 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel8726-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8726 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8726 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel8726> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8726 sberbank VERIFY: test-join-channel.sh testchannel8726 sberbank
[1;36mJoining sberbank.example.network to the testchannel8726 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel8726 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxN30.mhA3IIiW3fCVv-SazcGB7-yrEObepcVwCqq5ZR11YRY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxN30.mhA3IIiW3fCVv-SazcGB7-yrEObepcVwCqq5ZR11YRY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxN30.mhA3IIiW3fCVv-SazcGB7-yrEObepcVwCqq5ZR11YRY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8726 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxN30.mhA3IIiW3fCVv-SazcGB7-yrEObepcVwCqq5ZR11YRY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel8726> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:40:18.661 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel8726> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8726 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8726 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel8726> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8726 alpha VERIFY: test-join-channel.sh testchannel8726 alpha
[1;36mJoining alpha.example.network to the testchannel8726 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel8726 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxOX0.w6WoFw-VosGgQa9Je00lWrwZSTbbASJuUWZgduoc9I8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxOX0.w6WoFw-VosGgQa9Je00lWrwZSTbbASJuUWZgduoc9I8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxOX0.w6WoFw-VosGgQa9Je00lWrwZSTbbASJuUWZgduoc9I8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8726 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDgxOX0.w6WoFw-VosGgQa9Je00lWrwZSTbbASJuUWZgduoc9I8
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32122 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32122 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32122 sberbank VERIFY: test-channel-exists.sh testchannel32122 sberbank
[1;36mCreating testchannel32122 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwMX0.08-dm9I4K58bylXd-ZKdHnTk53oE4jYONTjVUIUQAp4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwMX0.08-dm9I4K58bylXd-ZKdHnTk53oE4jYONTjVUIUQAp4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwMX0.08-dm9I4K58bylXd-ZKdHnTk53oE4jYONTjVUIUQAp4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel32122","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwMX0.08-dm9I4K58bylXd-ZKdHnTk53oE4jYONTjVUIUQAp4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel32122> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32122> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:41:43.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:41:43.922 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:41:43.923 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:41:43.924 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel32122",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:41:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32122> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32122 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32122 alphaj
[1;34m
Verifing if the <testchannel32122> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel32122> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel32122 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32122 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32122 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32122 sberbank
[1;36mCreating ^^^^^^testchannel32122 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwNH0.8dpJ0TaGLOwCzHt144xGNZARgEjZUPnkJbpwaP6LeV8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwNH0.8dpJ0TaGLOwCzHt144xGNZARgEjZUPnkJbpwaP6LeV8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwNH0.8dpJ0TaGLOwCzHt144xGNZARgEjZUPnkJbpwaP6LeV8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel32122","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwNH0.8dpJ0TaGLOwCzHt144xGNZARgEjZUPnkJbpwaP6LeV8
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel32122\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel32122\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel32122\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32122> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:41:46.448 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:41:46.449 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel32122> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32122 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32122 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32122 alphaj VERIFY: test-channel-does-not-exist.sh testchannel32122 alphaj
[1;36mCreating testchannel32122 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32122> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel32122> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32122-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32122-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32122-02 alphaj VERIFY: test-channel-exists.sh testchannel32122-02 alphaj
[1;36mCreating testchannel32122-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32122-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32122-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32122-02 sberbank
[1;34m
Verifing if the <testchannel32122-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:41:47.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:41:47.735 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel32122-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32122-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32122-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32122-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32122-02 sberbank
[1;36mCreating testchannel32122-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwOH0.pfRlFULdtZhEUTTozXOLSU-pwzCNffg--ECjhLHytRs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwOH0.pfRlFULdtZhEUTTozXOLSU-pwzCNffg--ECjhLHytRs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwOH0.pfRlFULdtZhEUTTozXOLSU-pwzCNffg--ECjhLHytRs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel32122-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkwOH0.pfRlFULdtZhEUTTozXOLSU-pwzCNffg--ECjhLHytRs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel32122-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32122-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:41:50.320 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:41:50.325 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:41:50.327 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:41:50.327 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel32122-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T14:41:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel32122 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32122 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel32122> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32122 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel32122 sberbank alphaj
[1;36mAdd alphaj to the testchannel32122 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel32122 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkxMH0.y04u0xQysorV7vvcqpA0oXE9k0km1MBoXtzUFYi2s90"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkxMH0.y04u0xQysorV7vvcqpA0oXE9k0km1MBoXtzUFYi2s90", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkxMH0.y04u0xQysorV7vvcqpA0oXE9k0km1MBoXtzUFYi2s90
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32122/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MDkxMH0.y04u0xQysorV7vvcqpA0oXE9k0km1MBoXtzUFYi2s90
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel32122 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:41:52.501 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:41:52.507 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 14:41:52.509 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 14:41:52.509 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel32122-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32122-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel32122-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32122-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel32122-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel32122-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel32122-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel32122-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32122 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32122 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel32122> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32122 sberbank VERIFY: test-join-channel.sh testchannel32122 sberbank
[1;36mJoining sberbank.example.network to the testchannel32122 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel32122 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNH0.F1vk3SB27j4orJsajt6KrngK3bPa2wFjylUwndyXp9M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNH0.F1vk3SB27j4orJsajt6KrngK3bPa2wFjylUwndyXp9M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNH0.F1vk3SB27j4orJsajt6KrngK3bPa2wFjylUwndyXp9M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32122 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNH0.F1vk3SB27j4orJsajt6KrngK3bPa2wFjylUwndyXp9M
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32122> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:47:05.223 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32122> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32122 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32122 alphaj
Step: 11_api Test 'Join <alphaj> to the <testchannel32122> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32122 alphaj VERIFY: test-join-channel.sh testchannel32122 alphaj
[1;36mJoining alphaj.example.network to the testchannel32122 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel32122 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel32122> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32122-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32122-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel32122-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32122-02 sberbank VERIFY: test-join-channel.sh testchannel32122-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel32122-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel32122-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNn0.3-T9pGUgga2rapyy7XwVG8g7UFI68gExPgbTcIdDI4U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNn0.3-T9pGUgga2rapyy7XwVG8g7UFI68gExPgbTcIdDI4U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNn0.3-T9pGUgga2rapyy7XwVG8g7UFI68gExPgbTcIdDI4U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32122-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyNn0.3-T9pGUgga2rapyy7XwVG8g7UFI68gExPgbTcIdDI4U
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32122-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:47:07.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32122-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32122-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32122-02 alphaj
Step: 13_api Test 'Join <alphaj> to the <testchannel32122-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32122-02 alphaj VERIFY: test-join-channel.sh testchannel32122-02 alphaj
[1;36mJoining alphaj.example.network to the testchannel32122-02 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel32122-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel32122-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 13_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel32122 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32122 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel32122> channel'
RUNTEST: chaincode-install.sh testchannel32122 sberbank VERIFY: test-chaincode-installed.sh testchannel32122 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyN30.hHdVDbSSN872fyA-NzkqBTe7MIbtw7Y5fJUOrPYnSKM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyN30.hHdVDbSSN872fyA-NzkqBTe7MIbtw7Y5fJUOrPYnSKM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIyN30.hHdVDbSSN872fyA-NzkqBTe7MIbtw7Y5fJUOrPYnSKM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel32122/chaincode-reference.js (deflated 27%)
adding: reference_testchannel32122/index.js (deflated 27%)
adding: reference_testchannel32122/package.json (deflated 41%)
adding: reference_testchannel32122/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 24 17:47 /tmp/reference_testchannel32122.zip
/tmp/reference_testchannel32122.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel32122:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32122' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel32122-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32122-02 alphaj
Step: 15_api Test 'Install test chaincode by <alphaj> to the <testchannel32122-02> channel'
RUNTEST: chaincode-install.sh testchannel32122-02 alphaj VERIFY: test-chaincode-installed.sh testchannel32122-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32122-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel32122 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel32122 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel32122> channel'
RUNTEST: chaincode-instantiate.sh testchannel32122 sberbank VERIFY: test-chaincode-instantiated.sh testchannel32122 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIzMH0.lKMEzZ3nmC1uivJ_xTmrSxRNhephE6cNAe9veg9hyng"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIzMH0.lKMEzZ3nmC1uivJ_xTmrSxRNhephE6cNAe9veg9hyng", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIzMH0.lKMEzZ3nmC1uivJ_xTmrSxRNhephE6cNAe9veg9hyng
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32122/chaincodes {"channelId":"testchannel32122","chaincodeId":"reference_testchannel32122","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTIzMH0.lKMEzZ3nmC1uivJ_xTmrSxRNhephE6cNAe9veg9hyng
curlGetIt got _ {"txid":"b0e211c0c00d16e32538719ed7ca4793e4d8edf3f718515231dea8e712af43a1","status":"VALID","blockNumber":"1"}200 _ result
body is {"txid":"b0e211c0c00d16e32538719ed7ca4793e4d8edf3f718515231dea8e712af43a1","status":"VALID","blockNumber":"1"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel32122 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel32122' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_api: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel32122 sberbank reference_testchannel32122 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel32122 sberbank reference_testchannel32122
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alphaj>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel32122 sberbank reference_testchannel32122 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel32122 sberbank reference_testchannel32122
[1;36m
Invoke test chaincode on the <testchannel32122> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTI3NH0.u60_E1cfgXkdtDxPX7hS89e9BZbrgsAazMLuVbSAzRM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTI3NH0.u60_E1cfgXkdtDxPX7hS89e9BZbrgsAazMLuVbSAzRM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTI3NH0.u60_E1cfgXkdtDxPX7hS89e9BZbrgsAazMLuVbSAzRM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32122/chaincodes/reference_testchannel32122 {"fcn":"put","args":["testchannel32122","testchannel32122"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MTI3NH0.u60_E1cfgXkdtDxPX7hS89e9BZbrgsAazMLuVbSAzRM
curlGetIt got _ {"txid":"09fa90d36d5c3f7ac6f87301cc667a58334801fa05e25bb7770774682978194e","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"09fa90d36d5c3f7ac6f87301cc667a58334801fa05e25bb7770774682978194e","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Chaincode reference_testchannel32122 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel32122> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel32122 reference_testchannel32122 '["range","testchannel32122"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel32122 reference_testchannel32122 '["range","testchannel32122"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9737 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9737 sberbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9737 sberbank VERIFY: test-channel-exists.sh testchannel9737 sberbank
[1;36m
Creating the <testchannel9737> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9737
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9737> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:48:13.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:48:13.920 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9737 alphaj
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel9737 alphaj
[1;34m
Verifing if the <testchannel9737> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel9737> does not exist and in not visible to alphaj[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel9737 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel9737 sberbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel9737 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel9737 sberbank
[1;36m
Creating the <^^^^^^testchannel9737> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel9737
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel9737> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:48:15.516 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:48:15.520 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel9737> does not exist and in not visible to sberbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9737 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9737 alphaj
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel9737 alphaj VERIFY: test-channel-does-not-exist.sh testchannel9737 alphaj
[1;36m
Creating the <testchannel9737> channel for alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel9737
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9737> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel9737> does not exist and in not visible to alphaj[m[m[m
Step 21_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9737-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9737-02 alphaj
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel9737-02 alphaj VERIFY: test-channel-exists.sh testchannel9737-02 alphaj
[1;36m
Creating the <testchannel9737-02> channel for alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel9737-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9737-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9737-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 22_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9737-02 sberbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel9737-02 sberbank
[1;34m
Verifing if the <testchannel9737-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:48:17.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:48:17.931 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel9737-02> does not exist and in not visible to sberbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9737-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9737-02 sberbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel9737-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel9737-02 sberbank
[1;36m
Creating the <testchannel9737-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9737-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9737-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9737-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:48:19.382 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:48:19.384 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel9737-02> does not exist and in not visible to sberbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9737 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9737 sberbank alphaj
Step: 25_cli Test 'Add <alphaj> to channel <testchannel9737> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9737 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel9737 sberbank alphaj
[1;36m
Add alphaj to the testchannel9737 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel9737 alphaj
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9737 alphaj 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel9737 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 14:48:20.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 14:48:20.794 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 25_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9737-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9737-02 alphaj sberbank
Step: 26_cli Test 'Add <sberbank> to channel <testchannel9737-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9737-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel9737-02 alphaj sberbank
[1;36m
Add sberbank to the testchannel9737-02 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-add-org.sh testchannel9737-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9737-02 sberbank 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel9737-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 26_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9737 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9737 sberbank
Step: 27_cli Test 'Join <sberbank> to the <testchannel9737> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9737 sberbank VERIFY: test-join-channel.sh testchannel9737 sberbank
[1;36m
Joining  sberbank to the testchannel9737 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel9737
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel9737> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:02:04.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9737 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9737 alphaj
Step: 28_cli Test 'Join <alphaj> to the <testchannel9737> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9737 alphaj VERIFY: test-join-channel.sh testchannel9737 alphaj
[1;36m
Joining  alphaj to the testchannel9737 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel9737
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel9737> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9737-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9737-02 sberbank
Step: 29_cli Test 'Join <sberbank> to the <testchannel9737-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9737-02 sberbank VERIFY: test-join-channel.sh testchannel9737-02 sberbank
[1;36m
Joining  sberbank to the testchannel9737-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel9737-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9737-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel9737-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:02:06.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9737-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9737-02 alphaj
Step: 30_cli Test 'Join <alphaj> to the <testchannel9737-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9737-02 alphaj VERIFY: test-join-channel.sh testchannel9737-02 alphaj
[1;36m
Joining  alphaj to the testchannel9737-02 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel9737-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9737-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel9737-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 30_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel9737 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel9737 sberbank
Step: 31_cli Test 'Install test chaincode by <sberbank> to the <testchannel9737> channel'
RUNTEST: chaincode-install.sh testchannel9737 sberbank VERIFY: test-chaincode-installed.sh testchannel9737 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9737 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel9737  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel9737'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel9737' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel9737-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel9737-02 alphaj
Step: 32_cli Test 'Install test chaincode by <alphaj> to the <testchannel9737-02> channel'
RUNTEST: chaincode-install.sh testchannel9737-02 alphaj VERIFY: test-chaincode-installed.sh testchannel9737-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;36m
Copying test chaincode in alphaj...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9737-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel9737-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel9737-02  chaincode in alphaj...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel9737-02'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in alphaj[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel9737-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 32_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel9737 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel9737 sberbank
Step: 33_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel9737> channel'
RUNTEST: chaincode-instantiate.sh testchannel9737 sberbank VERIFY: test-chaincode-instantiated.sh testchannel9737 sberbank
[1;36m
Instantiate test chaincode in testchannel9737 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel9737 reference_testchannel9737[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel9737 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel9737' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel9737 sberbank reference_testchannel9737 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel9737 sberbank reference_testchannel9737
Step: 34_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alphaj>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel9737 sberbank reference_testchannel9737 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel9737 sberbank reference_testchannel9737
[1;36m
Invoke test chaincode on the <testchannel9737> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel9737 reference_testchannel9737 '["put","testchannel9737","testchannel9737"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel9737 reference_testchannel9737 '["put","testchannel9737","testchannel9737"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel9737> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel9737 reference_testchannel9737 '["range","testchannel9737"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel9737 reference_testchannel9737 '["range","testchannel9737"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 34_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel2624 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel2624 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2624 sberbank VERIFY: test-channel-exists.sh testchannel2624 sberbank
[1;36mCreating testchannel2624 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMyOH0.ski6hrtpJqyijrIhLE2GdRF6rUEa8PoW2eKoC6FSQLA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMyOH0.ski6hrtpJqyijrIhLE2GdRF6rUEa8PoW2eKoC6FSQLA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMyOH0.ski6hrtpJqyijrIhLE2GdRF6rUEa8PoW2eKoC6FSQLA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel2624","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMyOH0.ski6hrtpJqyijrIhLE2GdRF6rUEa8PoW2eKoC6FSQLA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel2624> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2624> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:05:30.571 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:05:30.574 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:05:30.576 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:05:30.576 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel2624",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:05:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2624> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2624 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel2624 alphaj
[1;34m
Verifing if the <testchannel2624> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel2624> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel2624 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel2624 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel2624 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel2624 sberbank
[1;36mCreating ^^^^^^testchannel2624 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzMX0.zGNXoxbtxlIEjPfXzLcNeWxUE4jSO5CJKoOhxOAWf7Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzMX0.zGNXoxbtxlIEjPfXzLcNeWxUE4jSO5CJKoOhxOAWf7Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzMX0.zGNXoxbtxlIEjPfXzLcNeWxUE4jSO5CJKoOhxOAWf7Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel2624","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzMX0.zGNXoxbtxlIEjPfXzLcNeWxUE4jSO5CJKoOhxOAWf7Q
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel2624\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel2624\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel2624\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel2624> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:05:33.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:05:33.252 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel2624> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel2624 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2624 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2624 alphaj VERIFY: test-channel-does-not-exist.sh testchannel2624 alphaj
[1;36mCreating testchannel2624 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2624> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel2624> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel2624-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel2624-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel2624-02 alphaj VERIFY: test-channel-exists.sh testchannel2624-02 alphaj
[1;36mCreating testchannel2624-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel2624-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2624-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel2624-02 sberbank
[1;34m
Verifing if the <testchannel2624-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:05:34.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:05:34.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel2624-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel2624-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel2624-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel2624-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel2624-02 sberbank
[1;36mCreating testchannel2624-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzNX0.TvV4SbJznn3UFx4hgXHsyWmmN0KhAkx_7Z_TZ8loLzs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzNX0.TvV4SbJznn3UFx4hgXHsyWmmN0KhAkx_7Z_TZ8loLzs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzNX0.TvV4SbJznn3UFx4hgXHsyWmmN0KhAkx_7Z_TZ8loLzs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel2624-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzNX0.TvV4SbJznn3UFx4hgXHsyWmmN0KhAkx_7Z_TZ8loLzs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel2624-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2624-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:05:37.711 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:05:37.714 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:05:37.715 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:05:37.715 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel2624-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:05:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel2624 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2624 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel2624> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2624 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel2624 sberbank alphaj
[1;36mAdd alphaj to the testchannel2624 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel2624 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzOH0.uPGU3FSr-wX5atGGMXQ0cqNyOHI3_5ROTvBpKyuVR4A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzOH0.uPGU3FSr-wX5atGGMXQ0cqNyOHI3_5ROTvBpKyuVR4A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzOH0.uPGU3FSr-wX5atGGMXQ0cqNyOHI3_5ROTvBpKyuVR4A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel2624/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjMzOH0.uPGU3FSr-wX5atGGMXQ0cqNyOHI3_5ROTvBpKyuVR4A
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel2624 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:05:39.559 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:05:39.561 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:05:39.563 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:05:39.563 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel2624-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2624-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel2624-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2624-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel2624-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel2624-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel2624-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel2624-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27387 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27387 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27387 sberbank VERIFY: test-channel-exists.sh testchannel27387 sberbank
[1;36mCreating testchannel27387 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwMX0.qeA19_gBQW_wgY-7pJdYQSKw1geCy4uTMQUjghvXVyM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwMX0.qeA19_gBQW_wgY-7pJdYQSKw1geCy4uTMQUjghvXVyM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwMX0.qeA19_gBQW_wgY-7pJdYQSKw1geCy4uTMQUjghvXVyM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27387","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwMX0.qeA19_gBQW_wgY-7pJdYQSKw1geCy4uTMQUjghvXVyM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27387> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27387> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
cat /tmp/file1gY3WO
[34m2020-03-24 15:08:23.095 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:08:23.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:08:23.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:08:23.100 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27387",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:08:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27387> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27387 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27387 alphaj
[1;34m
Verifing if the <testchannel27387> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
cat /tmp/fileBdLoNC
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel27387> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel27387 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27387 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27387 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27387 sberbank
[1;36mCreating ^^^^^^testchannel27387 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwM30.lHmELJb2LOY5AVlyXwcNIPzMaIAUvWfDkUsXZg3qAQA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwM30.lHmELJb2LOY5AVlyXwcNIPzMaIAUvWfDkUsXZg3qAQA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwM30.lHmELJb2LOY5AVlyXwcNIPzMaIAUvWfDkUsXZg3qAQA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel27387","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwM30.lHmELJb2LOY5AVlyXwcNIPzMaIAUvWfDkUsXZg3qAQA
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27387\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27387\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27387\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27387> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
cat /tmp/filepmuuBs
[34m2020-03-24 15:08:25.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:08:25.706 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27387> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27387 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27387 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27387 alphaj VERIFY: test-channel-does-not-exist.sh testchannel27387 alphaj
[1;36mCreating testchannel27387 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27387> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
cat /tmp/fileTTFflu
Error: No such container: cli.alphaj.example.network
[1;32mOK: The channel <testchannel27387> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27387-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27387-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27387-02 alphaj VERIFY: test-channel-exists.sh testchannel27387-02 alphaj
[1;36mCreating testchannel27387-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27387-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
cat /tmp/filewsI7DP
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27387-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27387-02 sberbank
[1;34m
Verifing if the <testchannel27387-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
cat /tmp/filec0Sc04
[34m2020-03-24 15:08:27.098 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:08:27.101 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel27387-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27387-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27387-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27387-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27387-02 sberbank
[1;36mCreating testchannel27387-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwN30._BDuBsfxeWmQIeOP-gkc_5dr_QcAAJnIGuekHgQqHXk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwN30._BDuBsfxeWmQIeOP-gkc_5dr_QcAAJnIGuekHgQqHXk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwN30._BDuBsfxeWmQIeOP-gkc_5dr_QcAAJnIGuekHgQqHXk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27387-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUwN30._BDuBsfxeWmQIeOP-gkc_5dr_QcAAJnIGuekHgQqHXk
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27387-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27387-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
cat /tmp/filetgt4Xz
[34m2020-03-24 15:08:29.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:08:29.546 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:08:29.547 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:08:29.547 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27387-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:08:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27387 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27387 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel27387> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27387 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel27387 sberbank alphaj
[1;36mAdd alphaj to the testchannel27387 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel27387 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUxMH0.6K04_tx-v4pdUs148pVk3aFECGRuudZGT6sqBOtM1es"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUxMH0.6K04_tx-v4pdUs148pVk3aFECGRuudZGT6sqBOtM1es", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUxMH0.6K04_tx-v4pdUs148pVk3aFECGRuudZGT6sqBOtM1es
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27387/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjUxMH0.6K04_tx-v4pdUs148pVk3aFECGRuudZGT6sqBOtM1es
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel27387 ...[m[m[m
queryContainerNetworkSettings returns: 7051
cat /tmp/fileY9t55v
[34m2020-03-24 15:08:31.333 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:08:31.335 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:08:31.337 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:08:31.337 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27387-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27387-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel27387-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27387-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel27387-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel27387-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel27387-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel27387-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
cat /tmp/fileL8FZUq
Error: No such container: cli.alphaj.example.network
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7440 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7440 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7440 sberbank VERIFY: test-channel-exists.sh testchannel7440 sberbank
[1;36mCreating testchannel7440 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4Mn0.6Ax0rwTzokwDVW4EOr6tfmEZRikxCkHA8J89jiZHvJI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4Mn0.6Ax0rwTzokwDVW4EOr6tfmEZRikxCkHA8J89jiZHvJI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4Mn0.6Ax0rwTzokwDVW4EOr6tfmEZRikxCkHA8J89jiZHvJI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel7440","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4Mn0.6Ax0rwTzokwDVW4EOr6tfmEZRikxCkHA8J89jiZHvJI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel7440> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7440> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:09:44.428 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:09:44.430 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:09:44.431 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:09:44.431 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7440",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:09:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileS2CrvR
[1;32mOK: The channel <testchannel7440> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7440 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel7440 alphaj
[1;34m
Verifing if the <testchannel7440> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileXqqy6L
[1;32mOK: The channel <testchannel7440> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel7440 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel7440 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel7440 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel7440 sberbank
[1;36mCreating ^^^^^^testchannel7440 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4NX0.aPZE8_TsCuvlNk2O4ub_t6pgRQ8z_uR6S7kKcQFpGM8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4NX0.aPZE8_TsCuvlNk2O4ub_t6pgRQ8z_uR6S7kKcQFpGM8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4NX0.aPZE8_TsCuvlNk2O4ub_t6pgRQ8z_uR6S7kKcQFpGM8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel7440","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4NX0.aPZE8_TsCuvlNk2O4ub_t6pgRQ8z_uR6S7kKcQFpGM8
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7440\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7440\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel7440\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel7440> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:09:47.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:09:47.196 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileB4BIVN
[1;32mOK: The channel <^^^^^^testchannel7440> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7440 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7440 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7440 alphaj VERIFY: test-channel-does-not-exist.sh testchannel7440 alphaj
[1;36mCreating testchannel7440 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7440> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file4afPfG
[1;32mOK: The channel <testchannel7440> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7440-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7440-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel7440-02 alphaj VERIFY: test-channel-exists.sh testchannel7440-02 alphaj
[1;36mCreating testchannel7440-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel7440-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filep9kcF7
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7440-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel7440-02 sberbank
[1;34m
Verifing if the <testchannel7440-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:09:48.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:09:48.587 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileJWydsb
[1;32mOK: The channel <testchannel7440-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7440-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel7440-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel7440-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel7440-02 sberbank
[1;36mCreating testchannel7440-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4OX0.NPdhgDROnO_3S8LnV-GS1m_jt3xvrPnJPA3p61D6ox0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4OX0.NPdhgDROnO_3S8LnV-GS1m_jt3xvrPnJPA3p61D6ox0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4OX0.NPdhgDROnO_3S8LnV-GS1m_jt3xvrPnJPA3p61D6ox0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel7440-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU4OX0.NPdhgDROnO_3S8LnV-GS1m_jt3xvrPnJPA3p61D6ox0
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel7440-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7440-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:09:51.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:09:51.208 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:09:51.210 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:09:51.210 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7440-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:09:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileOBtONY
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel7440 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel7440 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel7440> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7440 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel7440 sberbank alphaj
[1;36mAdd alphaj to the testchannel7440 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel7440 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU5MX0.-zuls4x-RcwzE-IrWIzmdWlUsJQ_AYy69iS5UTZ65ZA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU5MX0.-zuls4x-RcwzE-IrWIzmdWlUsJQ_AYy69iS5UTZ65ZA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU5MX0.-zuls4x-RcwzE-IrWIzmdWlUsJQ_AYy69iS5UTZ65ZA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel7440/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjU5MX0.-zuls4x-RcwzE-IrWIzmdWlUsJQ_AYy69iS5UTZ65ZA
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel7440 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:09:53.096 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:09:53.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:09:53.100 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:09:53.100 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/filekMxUM0
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel7440-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel7440-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel7440-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7440-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel7440-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel7440-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel7440-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel7440-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filenSDXdU
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15343 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15343 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15343 sberbank VERIFY: test-channel-exists.sh testchannel15343 sberbank
[1;36mCreating testchannel15343 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyMH0.3n-77Q6lk0LGWB_-hiTlqNGzTPSJi0jT-idE582dYbY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyMH0.3n-77Q6lk0LGWB_-hiTlqNGzTPSJi0jT-idE582dYbY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyMH0.3n-77Q6lk0LGWB_-hiTlqNGzTPSJi0jT-idE582dYbY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel15343","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyMH0.3n-77Q6lk0LGWB_-hiTlqNGzTPSJi0jT-idE582dYbY
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel15343> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15343> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:10:22.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:10:22.314 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:10:22.315 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:10:22.315 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15343",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:10:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileKBkhou _testchannel15343_
[1;32mOK: The channel <testchannel15343> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15343 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel15343 alphaj
[1;34m
Verifing if the <testchannel15343> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filez2xsSg __
[1;32mOK: The channel <testchannel15343> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel15343 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel15343 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel15343 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel15343 sberbank
[1;36mCreating ^^^^^^testchannel15343 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyM30.hsDrnLZPz58AF3wmtAchYmmHwneuWis9w8YOrnji1co"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyM30.hsDrnLZPz58AF3wmtAchYmmHwneuWis9w8YOrnji1co", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyM30.hsDrnLZPz58AF3wmtAchYmmHwneuWis9w8YOrnji1co
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel15343","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyM30.hsDrnLZPz58AF3wmtAchYmmHwneuWis9w8YOrnji1co
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15343\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15343\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15343\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel15343> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:10:24.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:10:24.874 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileKPGJJ5 _null_
[1;32mOK: The channel <^^^^^^testchannel15343> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15343 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15343 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel15343 alphaj VERIFY: test-channel-does-not-exist.sh testchannel15343 alphaj
[1;36mCreating testchannel15343 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15343> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filewzTsvh __
[1;32mOK: The channel <testchannel15343> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15343-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15343-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel15343-02 alphaj VERIFY: test-channel-exists.sh testchannel15343-02 alphaj
[1;36mCreating testchannel15343-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15343-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filem4Df9D __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15343-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel15343-02 sberbank
[1;34m
Verifing if the <testchannel15343-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:10:26.390 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:10:26.393 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileh9ksWQ _null_
[1;32mOK: The channel <testchannel15343-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15343-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15343-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel15343-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel15343-02 sberbank
[1;36mCreating testchannel15343-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyNn0.TIDrTSCl8X3Ih40-vEn-6jqIvC2hTX69SY4mOGjimQo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyNn0.TIDrTSCl8X3Ih40-vEn-6jqIvC2hTX69SY4mOGjimQo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyNn0.TIDrTSCl8X3Ih40-vEn-6jqIvC2hTX69SY4mOGjimQo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel15343-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyNn0.TIDrTSCl8X3Ih40-vEn-6jqIvC2hTX69SY4mOGjimQo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel15343-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15343-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:10:29.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:10:29.107 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:10:29.109 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:10:29.109 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15343-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:10:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEEF9gB _testchannel15343-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel15343 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15343 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel15343> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15343 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel15343 sberbank alphaj
[1;36mAdd alphaj to the testchannel15343 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel15343 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyOX0.ROmIHu0RCiiGLFW0e5Noecx41TLd0yAIyU6EOlhYHkI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyOX0.ROmIHu0RCiiGLFW0e5Noecx41TLd0yAIyU6EOlhYHkI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyOX0.ROmIHu0RCiiGLFW0e5Noecx41TLd0yAIyU6EOlhYHkI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel15343/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjYyOX0.ROmIHu0RCiiGLFW0e5Noecx41TLd0yAIyU6EOlhYHkI
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel15343 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:10:31.081 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:10:31.083 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:10:31.084 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:10:31.084 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/fileaWe0AC _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel15343-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15343-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel15343-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15343-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel15343-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel15343-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel15343-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel15343-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filezdSSvD __
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29161 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29161 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29161 sberbank VERIFY: test-channel-exists.sh testchannel29161 sberbank
[1;36mCreating testchannel29161 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyM30._6b6CSeXtTfFdW_gTMv9K73Nrrmz8un4nbjiUpJEKmo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyM30._6b6CSeXtTfFdW_gTMv9K73Nrrmz8un4nbjiUpJEKmo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyM30._6b6CSeXtTfFdW_gTMv9K73Nrrmz8un4nbjiUpJEKmo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel29161","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyM30._6b6CSeXtTfFdW_gTMv9K73Nrrmz8un4nbjiUpJEKmo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel29161> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29161> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:12:06.133 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:12:06.135 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:12:06.137 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:12:06.137 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29161",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:12:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileUcTvg3 _testchannel29161_
[1;32mOK: The channel <testchannel29161> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29161 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29161 alphaj
[1;34m
Verifing if the <testchannel29161> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file14xN1M __
[1;32mOK: The channel <testchannel29161> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel29161 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel29161 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel29161 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel29161 sberbank
[1;36mCreating ^^^^^^testchannel29161 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyNn0.tDeebKntN2Vvxr4PVy4TGNBPJHlIeKO_uneVnEA9oZc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyNn0.tDeebKntN2Vvxr4PVy4TGNBPJHlIeKO_uneVnEA9oZc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyNn0.tDeebKntN2Vvxr4PVy4TGNBPJHlIeKO_uneVnEA9oZc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel29161","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjcyNn0.tDeebKntN2Vvxr4PVy4TGNBPJHlIeKO_uneVnEA9oZc
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel29161\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel29161\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel29161\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel29161> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:12:08.777 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:12:08.780 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file4KZAsM _null_
[1;32mOK: The channel <^^^^^^testchannel29161> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29161 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29161 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29161 alphaj VERIFY: test-channel-does-not-exist.sh testchannel29161 alphaj
[1;36mCreating testchannel29161 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29161> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileW4kyDK __
[1;32mOK: The channel <testchannel29161> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29161-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29161-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29161-02 alphaj VERIFY: test-channel-exists.sh testchannel29161-02 alphaj
[1;36mCreating testchannel29161-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29161-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileWVw147 __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29161-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel29161-02 sberbank
[1;34m
Verifing if the <testchannel29161-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:12:10.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:12:10.203 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file1CKpVk _null_
[1;32mOK: The channel <testchannel29161-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29161-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29161-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29161-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel29161-02 sberbank
[1;36mCreating testchannel29161-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczMH0.REq3udkg3AONYaSosC5iXirJ66J5PqWxvax5tyfjbV4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczMH0.REq3udkg3AONYaSosC5iXirJ66J5PqWxvax5tyfjbV4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczMH0.REq3udkg3AONYaSosC5iXirJ66J5PqWxvax5tyfjbV4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel29161-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczMH0.REq3udkg3AONYaSosC5iXirJ66J5PqWxvax5tyfjbV4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel29161-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29161-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:12:12.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:12:12.662 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:12:12.663 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:12:12.663 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29161-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:12:11Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filevwjK3O _testchannel29161-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel29161 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29161 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel29161> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29161 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel29161 sberbank alphaj
[1;36mAdd alphaj to the testchannel29161 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel29161 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczM30.EmDJcjsAH7Q4PGLuRULkIRAOTTR4HP5xRsqn6OeVpv0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczM30.EmDJcjsAH7Q4PGLuRULkIRAOTTR4HP5xRsqn6OeVpv0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczM30.EmDJcjsAH7Q4PGLuRULkIRAOTTR4HP5xRsqn6OeVpv0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel29161/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjczM30.EmDJcjsAH7Q4PGLuRULkIRAOTTR4HP5xRsqn6OeVpv0
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel29161 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:12:14.548 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:12:14.551 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:12:14.552 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:12:14.552 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/filevgx44M _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel29161-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29161-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel29161-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29161-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel29161-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel29161-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel29161-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel29161-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filej4SwuP __
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13811 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13811 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13811 sberbank VERIFY: test-channel-exists.sh testchannel13811 sberbank
[1;36mCreating testchannel13811 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5NH0.990hbJ-jCAnhzPKn8xcwYwU18BdcCVxsg06q7OQg9dA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5NH0.990hbJ-jCAnhzPKn8xcwYwU18BdcCVxsg06q7OQg9dA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5NH0.990hbJ-jCAnhzPKn8xcwYwU18BdcCVxsg06q7OQg9dA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel13811","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5NH0.990hbJ-jCAnhzPKn8xcwYwU18BdcCVxsg06q7OQg9dA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel13811> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13811> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:13:17.019 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:13:17.024 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:13:17.026 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:13:17.026 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel13811",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:13:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filezztMwa _testchannel13811_
[1;32mOK: The channel <testchannel13811> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13811 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13811 alphaj
[1;34m
Verifing if the <testchannel13811> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filermcyDW __
[1;32mOK: The channel <testchannel13811> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel13811 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel13811 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13811 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13811 sberbank
[1;36mCreating ^^^^^^testchannel13811 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5N30.DSLzpGogXZYnJGRWBpQqu2ZDfjuYxQieFfi4BSR8Hjk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5N30.DSLzpGogXZYnJGRWBpQqu2ZDfjuYxQieFfi4BSR8Hjk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5N30.DSLzpGogXZYnJGRWBpQqu2ZDfjuYxQieFfi4BSR8Hjk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel13811","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjc5N30.DSLzpGogXZYnJGRWBpQqu2ZDfjuYxQieFfi4BSR8Hjk
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13811\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13811\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13811\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13811> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:13:19.581 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:13:19.583 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileLnYf5O _null_
[1;32mOK: The channel <^^^^^^testchannel13811> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13811 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13811 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13811 alphaj VERIFY: test-channel-does-not-exist.sh testchannel13811 alphaj
[1;36mCreating testchannel13811 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13811> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file2mpYPQ __
[1;32mOK: The channel <testchannel13811> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13811-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13811-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13811-02 alphaj VERIFY: test-channel-exists.sh testchannel13811-02 alphaj
[1;36mCreating testchannel13811-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13811-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filewAW8d9 __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13811-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel13811-02 sberbank
[1;34m
Verifing if the <testchannel13811-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:13:20.927 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:13:20.929 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filezHonUj _null_
[1;32mOK: The channel <testchannel13811-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13811-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13811-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13811-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel13811-02 sberbank
[1;36mCreating testchannel13811-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwMX0.5oB5apTIaG25lBGu0GLVKizclhnY8CbZh_m1My8YwiY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwMX0.5oB5apTIaG25lBGu0GLVKizclhnY8CbZh_m1My8YwiY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwMX0.5oB5apTIaG25lBGu0GLVKizclhnY8CbZh_m1My8YwiY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel13811-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwMX0.5oB5apTIaG25lBGu0GLVKizclhnY8CbZh_m1My8YwiY
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel13811-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13811-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:13:23.495 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:13:23.505 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:13:23.510 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:13:23.510 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel13811-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:13:22Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileqfHzLV _testchannel13811-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel13811 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13811 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel13811> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13811 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel13811 sberbank alphaj
[1;36mAdd alphaj to the testchannel13811 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel13811 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwNH0.g4emFv6536j_MF8YjUP_PzH5u_B-Yx_nIrTT_cBq9do"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwNH0.g4emFv6536j_MF8YjUP_PzH5u_B-Yx_nIrTT_cBq9do", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwNH0.g4emFv6536j_MF8YjUP_PzH5u_B-Yx_nIrTT_cBq9do
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel13811/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MjgwNH0.g4emFv6536j_MF8YjUP_PzH5u_B-Yx_nIrTT_cBq9do
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel13811 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:13:25.370 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:13:25.372 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:13:25.373 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:13:25.374 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/fileDp8FLV _null_
null
[1;32mOK: Organization <alphaj> is in the channel <testchannel13811>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel13811-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13811-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel13811-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13811-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel13811-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel13811-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel13811-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel13811-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filer5KjNX __
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel251 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel251 sberbank VERIFY: test-channel-exists.sh testchannel251 sberbank
[1;36mCreating testchannel251 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg1OX0.W4wkkpk3REQRF1jkoijVucyYCSS-ANFtjQOOfvHOAgM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg1OX0.W4wkkpk3REQRF1jkoijVucyYCSS-ANFtjQOOfvHOAgM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg1OX0.W4wkkpk3REQRF1jkoijVucyYCSS-ANFtjQOOfvHOAgM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel251","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg1OX0.W4wkkpk3REQRF1jkoijVucyYCSS-ANFtjQOOfvHOAgM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel251> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel251> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:21.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:14:21.354 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:14:21.355 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:14:21.355 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel251",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:14:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecr295p _testchannel251_
[1;32mOK: The channel <testchannel251> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel251 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel251 alphaj
[1;34m
Verifing if the <testchannel251> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filegNiSah __
[1;32mOK: The channel <testchannel251> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel251 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel251 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel251 sberbank
[1;36mCreating ^^^^^^testchannel251 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2Mn0.l4_03nCuTWtSmg56o8XSVVaLUsTbqg84kvtuQugzcDI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2Mn0.l4_03nCuTWtSmg56o8XSVVaLUsTbqg84kvtuQugzcDI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2Mn0.l4_03nCuTWtSmg56o8XSVVaLUsTbqg84kvtuQugzcDI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel251","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2Mn0.l4_03nCuTWtSmg56o8XSVVaLUsTbqg84kvtuQugzcDI
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel251\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel251\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel251\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel251> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:23.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:14:23.810 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileUGyYG2 _null_
[1;32mOK: The channel <^^^^^^testchannel251> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel251 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel251 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel251 alphaj VERIFY: test-channel-does-not-exist.sh testchannel251 alphaj
[1;36mCreating testchannel251 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel251> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileH4A5QW __
[1;32mOK: The channel <testchannel251> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel251-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel251-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel251-02 alphaj VERIFY: test-channel-exists.sh testchannel251-02 alphaj
[1;36mCreating testchannel251-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel251-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileC5vtLj __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel251-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel251-02 sberbank
[1;34m
Verifing if the <testchannel251-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:25.277 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:14:25.278 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file6IGcpw _null_
[1;32mOK: The channel <testchannel251-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel251-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel251-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel251-02 sberbank
[1;36mCreating testchannel251-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2NX0.c6PeVbTC99olQw-47OAkhhwWNZGs2zw9imhHj8SNtho"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2NX0.c6PeVbTC99olQw-47OAkhhwWNZGs2zw9imhHj8SNtho", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2NX0.c6PeVbTC99olQw-47OAkhhwWNZGs2zw9imhHj8SNtho
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel251-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2NX0.c6PeVbTC99olQw-47OAkhhwWNZGs2zw9imhHj8SNtho
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel251-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel251-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:28.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:14:28.198 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:14:28.205 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:14:28.206 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel251-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:14:26Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filedsDGnD _testchannel251-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel251 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel251 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel251> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel251 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel251 sberbank alphaj
[1;36mAdd alphaj to the testchannel251 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel251 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2OH0.m2LpBJ0l1Sr9goPk1FUSt19F27FMOM3A17utgF36QvI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2OH0.m2LpBJ0l1Sr9goPk1FUSt19F27FMOM3A17utgF36QvI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2OH0.m2LpBJ0l1Sr9goPk1FUSt19F27FMOM3A17utgF36QvI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel251/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg2OH0.m2LpBJ0l1Sr9goPk1FUSt19F27FMOM3A17utgF36QvI
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel251 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:30.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:14:30.193 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:14:30.195 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:14:30.195 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/filerfbZzI _null_
null
[1;32mOK: Organization <alphaj> is in the channel <testchannel251>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel251-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel251-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel251-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel251-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel251-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel251-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel251-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel251-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileR03kED __
[1;32mOK: Organization <sberbank> is in the channel <testchannel251-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel251 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel251 sberbank VERIFY: test-join-channel.sh testchannel251 sberbank
[1;36mJoining sberbank.example.network to the testchannel251 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel251 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3Nn0.FicBq5lWI6htdT9YKhX2rt7Eg70vR4R-S8Oi8h8q6K4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3Nn0.FicBq5lWI6htdT9YKhX2rt7Eg70vR4R-S8Oi8h8q6K4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3Nn0.FicBq5lWI6htdT9YKhX2rt7Eg70vR4R-S8Oi8h8q6K4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel251 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3Nn0.FicBq5lWI6htdT9YKhX2rt7Eg70vR4R-S8Oi8h8q6K4
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel251> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:37.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel251> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel251 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel251 alphaj
Step: 11_api Test 'Join <alphaj> to the <testchannel251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel251 alphaj VERIFY: test-join-channel.sh testchannel251 alphaj
[1;36mJoining alphaj.example.network to the testchannel251 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel251 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel251> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel251-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel251-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel251-02 sberbank VERIFY: test-join-channel.sh testchannel251-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel251-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel251-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3OH0.U3ds5Oxgqn3oSpnyDNMFyS7zP2LCmVRzG8utqMWTfJs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3OH0.U3ds5Oxgqn3oSpnyDNMFyS7zP2LCmVRzG8utqMWTfJs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3OH0.U3ds5Oxgqn3oSpnyDNMFyS7zP2LCmVRzG8utqMWTfJs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel251-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg3OH0.U3ds5Oxgqn3oSpnyDNMFyS7zP2LCmVRzG8utqMWTfJs
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel251-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:14:39.738 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel251-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel251-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel251-02 alphaj
Step: 13_api Test 'Join <alphaj> to the <testchannel251-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel251-02 alphaj VERIFY: test-join-channel.sh testchannel251-02 alphaj
[1;36mJoining alphaj.example.network to the testchannel251-02 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel251-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel251-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 13_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel251 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel251> channel'
RUNTEST: chaincode-install.sh testchannel251 sberbank VERIFY: test-chaincode-installed.sh testchannel251 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4MH0.DCaxGJvrEHPMHRRM2DI5sJva3LS2iqxoQOdHJuXpgig"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4MH0.DCaxGJvrEHPMHRRM2DI5sJva3LS2iqxoQOdHJuXpgig", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4MH0.DCaxGJvrEHPMHRRM2DI5sJva3LS2iqxoQOdHJuXpgig
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel251/chaincode-reference.js (deflated 27%)
adding: reference_testchannel251/index.js (deflated 27%)
adding: reference_testchannel251/package.json (deflated 41%)
adding: reference_testchannel251/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12276 Ð¼Ð°Ñ€ 24 18:14 /tmp/reference_testchannel251.zip
/tmp/reference_testchannel251.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel251:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel251' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel251-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel251-02 alphaj
Step: 15_api Test 'Install test chaincode by <alphaj> to the <testchannel251-02> channel'
RUNTEST: chaincode-install.sh testchannel251-02 alphaj VERIFY: test-chaincode-installed.sh testchannel251-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel251-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel251 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel251> channel'
RUNTEST: chaincode-instantiate.sh testchannel251 sberbank VERIFY: test-chaincode-instantiated.sh testchannel251 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4M30.PBbMODnKaPUEDd9VNBir9_4_fJeBkCHHmWfJU1ucp2Y"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4M30.PBbMODnKaPUEDd9VNBir9_4_fJeBkCHHmWfJU1ucp2Y", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4M30.PBbMODnKaPUEDd9VNBir9_4_fJeBkCHHmWfJU1ucp2Y
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel251/chaincodes {"channelId":"testchannel251","chaincodeId":"reference_testchannel251","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mjg4M30.PBbMODnKaPUEDd9VNBir9_4_fJeBkCHHmWfJU1ucp2Y
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel152 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel152 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel152 sberbank VERIFY: test-channel-exists.sh testchannel152 sberbank
[1;36mCreating testchannel152 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA0OH0.TG3d_H5Sk_bODlwR0hH91oZPMeBPNjIvLKX9xtcldfA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA0OH0.TG3d_H5Sk_bODlwR0hH91oZPMeBPNjIvLKX9xtcldfA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA0OH0.TG3d_H5Sk_bODlwR0hH91oZPMeBPNjIvLKX9xtcldfA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel152","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA0OH0.TG3d_H5Sk_bODlwR0hH91oZPMeBPNjIvLKX9xtcldfA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel152> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel152> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:30.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:17:30.954 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:17:30.957 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:17:30.957 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel152",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:17:29Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/files8uyoI _testchannel152_
[1;32mOK: The channel <testchannel152> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel152 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel152 alphaj
[1;34m
Verifing if the <testchannel152> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filewiK7fx __
[1;32mOK: The channel <testchannel152> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel152 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel152 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel152 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel152 sberbank
[1;36mCreating ^^^^^^testchannel152 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1MX0.9XqapZko_wnNRLp-cF2IB_p001wbRgrI6Q0FK3Oy2iM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1MX0.9XqapZko_wnNRLp-cF2IB_p001wbRgrI6Q0FK3Oy2iM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1MX0.9XqapZko_wnNRLp-cF2IB_p001wbRgrI6Q0FK3Oy2iM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel152","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1MX0.9XqapZko_wnNRLp-cF2IB_p001wbRgrI6Q0FK3Oy2iM
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel152\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel152\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel152\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel152> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:33.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:17:33.610 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileA5GZmq _null_
[1;32mOK: The channel <^^^^^^testchannel152> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel152 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel152 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel152 alphaj VERIFY: test-channel-does-not-exist.sh testchannel152 alphaj
[1;36mCreating testchannel152 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel152> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileYvEC5o __
[1;32mOK: The channel <testchannel152> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel152-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel152-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel152-02 alphaj VERIFY: test-channel-exists.sh testchannel152-02 alphaj
[1;36mCreating testchannel152-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel152-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileiIL5tH __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel152-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel152-02 sberbank
[1;34m
Verifing if the <testchannel152-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:34.947 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:17:34.949 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileIFu5MU _null_
[1;32mOK: The channel <testchannel152-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel152-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel152-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel152-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel152-02 sberbank
[1;36mCreating testchannel152-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1NX0.nPj_S4IdO_dn8cn-c68uUTj3yIDJrXUBBj89CdHt6HQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1NX0.nPj_S4IdO_dn8cn-c68uUTj3yIDJrXUBBj89CdHt6HQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1NX0.nPj_S4IdO_dn8cn-c68uUTj3yIDJrXUBBj89CdHt6HQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel152-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1NX0.nPj_S4IdO_dn8cn-c68uUTj3yIDJrXUBBj89CdHt6HQ
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel152-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel152-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:37.770 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:17:37.772 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:17:37.773 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:17:37.773 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel152-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:17:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1ivAnM _testchannel152-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel152 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel152 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel152> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel152 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel152 sberbank alphaj
[1;36mAdd alphaj to the testchannel152 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel152 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1OH0.hTjg60U2rWazpayT-pMhT6ksYjWUFOiKCxRHsWP-9sI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1OH0.hTjg60U2rWazpayT-pMhT6ksYjWUFOiKCxRHsWP-9sI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1OH0.hTjg60U2rWazpayT-pMhT6ksYjWUFOiKCxRHsWP-9sI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel152/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA1OH0.hTjg60U2rWazpayT-pMhT6ksYjWUFOiKCxRHsWP-9sI
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel152 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:39.666 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:17:39.669 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:17:39.670 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:17:39.671 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/fileIcD7QJ _null_
Result: null
[1;32mOK: Organization <alphaj> is in the channel <testchannel152>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel152-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel152-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel152-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel152-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel152-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel152-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel152-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel152-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileMpqUJL __
Result: 
[1;32mOK: Organization <sberbank> is in the channel <testchannel152-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel152 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel152 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel152> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel152 sberbank VERIFY: test-join-channel.sh testchannel152 sberbank
[1;36mJoining sberbank.example.network to the testchannel152 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel152 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2MH0.kKN_HIdOSJTfBU9Vi5r5vhDntxI5FRzXNoOpl2VLiQw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2MH0.kKN_HIdOSJTfBU9Vi5r5vhDntxI5FRzXNoOpl2VLiQw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2MH0.kKN_HIdOSJTfBU9Vi5r5vhDntxI5FRzXNoOpl2VLiQw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel152 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2MH0.kKN_HIdOSJTfBU9Vi5r5vhDntxI5FRzXNoOpl2VLiQw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel152> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:41.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel152> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel152 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel152 alphaj
Step: 11_api Test 'Join <alphaj> to the <testchannel152> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel152 alphaj VERIFY: test-join-channel.sh testchannel152 alphaj
[1;36mJoining alphaj.example.network to the testchannel152 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel152 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel152> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel152-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel152-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel152-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel152-02 sberbank VERIFY: test-join-channel.sh testchannel152-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel152-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel152-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Mn0.Xq2xMyU7fLekYrfvVM6aRxTnSSqnJ20iR8dkCiEo5iY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Mn0.Xq2xMyU7fLekYrfvVM6aRxTnSSqnJ20iR8dkCiEo5iY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Mn0.Xq2xMyU7fLekYrfvVM6aRxTnSSqnJ20iR8dkCiEo5iY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel152-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Mn0.Xq2xMyU7fLekYrfvVM6aRxTnSSqnJ20iR8dkCiEo5iY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel152-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:17:43.567 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel152-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel152-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel152-02 alphaj
Step: 13_api Test 'Join <alphaj> to the <testchannel152-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel152-02 alphaj VERIFY: test-join-channel.sh testchannel152-02 alphaj
[1;36mJoining alphaj.example.network to the testchannel152-02 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel152-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel152-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 13_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel152 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel152 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel152> channel'
RUNTEST: chaincode-install.sh testchannel152 sberbank VERIFY: test-chaincode-installed.sh testchannel152 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2NH0.FPB86OPKWLfFJsIH_f9NOD2avr7uxITB4hhG1CdU_jg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2NH0.FPB86OPKWLfFJsIH_f9NOD2avr7uxITB4hhG1CdU_jg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2NH0.FPB86OPKWLfFJsIH_f9NOD2avr7uxITB4hhG1CdU_jg
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel152/chaincode-reference.js (deflated 27%)
adding: reference_testchannel152/index.js (deflated 27%)
adding: reference_testchannel152/package.json (deflated 41%)
adding: reference_testchannel152/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12276 Ð¼Ð°Ñ€ 24 18:17 /tmp/reference_testchannel152.zip
/tmp/reference_testchannel152.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel152:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel152' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel152-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel152-02 alphaj
Step: 15_api Test 'Install test chaincode by <alphaj> to the <testchannel152-02> channel'
RUNTEST: chaincode-install.sh testchannel152-02 alphaj VERIFY: test-chaincode-installed.sh testchannel152-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel152-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel152 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel152 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel152> channel'
RUNTEST: chaincode-instantiate.sh testchannel152 sberbank VERIFY: test-chaincode-instantiated.sh testchannel152 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Nn0.8fg4eixggXE7wrcpyeQQNjAYJ3G3v5UeJWvgfp8y4AI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Nn0.8fg4eixggXE7wrcpyeQQNjAYJ3G3v5UeJWvgfp8y4AI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Nn0.8fg4eixggXE7wrcpyeQQNjAYJ3G3v5UeJWvgfp8y4AI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel152/chaincodes {"channelId":"testchannel152","chaincodeId":"reference_testchannel152","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzA2Nn0.8fg4eixggXE7wrcpyeQQNjAYJ3G3v5UeJWvgfp8y4AI
curlGetIt got _ {"txid":"e59ca37d283dc62df3517316928b2c72557666dd6599572d5c6676beb5750dc9","status":"VALID","blockNumber":"1"}200 _ result
body is {"txid":"e59ca37d283dc62df3517316928b2c72557666dd6599572d5c6676beb5750dc9","status":"VALID","blockNumber":"1"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel152 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel152' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_api: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel152 sberbank reference_testchannel152 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel152 sberbank reference_testchannel152
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alphaj>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel152 sberbank reference_testchannel152 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel152 sberbank reference_testchannel152
[1;36m
Invoke test chaincode on the <testchannel152> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzEwOX0.RbFNXL4NtGDywDmUwr2StdzY_JG1QJEUEz4vAAGvt-U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzEwOX0.RbFNXL4NtGDywDmUwr2StdzY_JG1QJEUEz4vAAGvt-U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzEwOX0.RbFNXL4NtGDywDmUwr2StdzY_JG1QJEUEz4vAAGvt-U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel152/chaincodes/reference_testchannel152 {"fcn":"put","args":["testchannel152","testchannel152"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzEwOX0.RbFNXL4NtGDywDmUwr2StdzY_JG1QJEUEz4vAAGvt-U
curlGetIt got _ {"txid":"e29ea4f02dcbd6e1012d4accb64717ff18f26fbf6dadbf45d2dd3ef4166a36eb","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"e29ea4f02dcbd6e1012d4accb64717ff18f26fbf6dadbf45d2dd3ef4166a36eb","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Chaincode reference_testchannel152 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel152> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel152 reference_testchannel152 '["range","testchannel152"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel152 reference_testchannel152 '["range","testchannel152"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel5415 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel5415 sberbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel5415 sberbank VERIFY: test-channel-exists.sh testchannel5415 sberbank
[1;36m
Creating the <testchannel5415> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel5415
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5415> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:48.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:18:48.826 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filesIPvY0 _null_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel5415 alphaj
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel5415 alphaj
[1;34m
Verifing if the <testchannel5415> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file5AYBgM __
[1;32mOK: The channel <testchannel5415> does not exist and in not visible to alphaj[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel5415 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel5415 sberbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel5415 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel5415 sberbank
[1;36m
Creating the <^^^^^^testchannel5415> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel5415
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel5415> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:50.470 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:18:50.471 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileBQF8yO _null_
[1;32mOK: The channel <^^^^^^testchannel5415> does not exist and in not visible to sberbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel5415 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel5415 alphaj
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5415 alphaj VERIFY: test-channel-does-not-exist.sh testchannel5415 alphaj
[1;36m
Creating the <testchannel5415> channel for alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel5415
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5415> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filezHjVrk __
[1;32mOK: The channel <testchannel5415> does not exist and in not visible to alphaj[m[m[m
Step 21_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel5415-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel5415-02 alphaj
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel5415-02 alphaj VERIFY: test-channel-exists.sh testchannel5415-02 alphaj
[1;36m
Creating the <testchannel5415-02> channel for alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel5415-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5415-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5415-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/filegYeBke __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 22_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel5415-02 sberbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel5415-02 sberbank
[1;34m
Verifing if the <testchannel5415-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:52.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:18:52.919 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filexlVQdr _null_
[1;32mOK: The channel <testchannel5415-02> does not exist and in not visible to sberbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel5415-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel5415-02 sberbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel5415-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel5415-02 sberbank
[1;36m
Creating the <testchannel5415-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel5415-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel5415-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel5415-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:54.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:18:54.412 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileEav2L0 _null_
[1;32mOK: The channel <testchannel5415-02> does not exist and in not visible to sberbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel5415 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel5415 sberbank alphaj
Step: 25_cli Test 'Add <alphaj> to channel <testchannel5415> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5415 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel5415 sberbank alphaj
[1;36m
Add alphaj to the testchannel5415 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel5415 alphaj
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5415 alphaj 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel5415 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:55.962 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:18:55.965 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileYF1qiy _null_
Result: null
[1;32mOK: Organization <alphaj> is in the channel <testchannel5415>.[m[m[m
Step 25_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel5415-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel5415-02 alphaj sberbank
Step: 26_cli Test 'Add <sberbank> to channel <testchannel5415-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel5415-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel5415-02 alphaj sberbank
[1;36m
Add sberbank to the testchannel5415-02 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-add-org.sh testchannel5415-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel5415-02 sberbank 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel5415-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileVOxUef __
Result: 
[1;32mOK: Organization <sberbank> is in the channel <testchannel5415-02>.[m[m[m
Step 26_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel5415 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel5415 sberbank
Step: 27_cli Test 'Join <sberbank> to the <testchannel5415> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel5415 sberbank VERIFY: test-join-channel.sh testchannel5415 sberbank
[1;36m
Joining  sberbank to the testchannel5415 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel5415
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel5415> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:18:58.487 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel5415 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel5415 alphaj
Step: 28_cli Test 'Join <alphaj> to the <testchannel5415> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel5415 alphaj VERIFY: test-join-channel.sh testchannel5415 alphaj
[1;36m
Joining  alphaj to the testchannel5415 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel5415
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel5415> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel5415-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel5415-02 sberbank
Step: 29_cli Test 'Join <sberbank> to the <testchannel5415-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel5415-02 sberbank VERIFY: test-join-channel.sh testchannel5415-02 sberbank
[1;36m
Joining  sberbank to the testchannel5415-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel5415-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel5415-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel5415-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:19:00.798 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel5415-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel5415-02 alphaj
Step: 30_cli Test 'Join <alphaj> to the <testchannel5415-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel5415-02 alphaj VERIFY: test-join-channel.sh testchannel5415-02 alphaj
[1;36m
Joining  alphaj to the testchannel5415-02 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel5415-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel5415-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel5415-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 30_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel5415 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel5415 sberbank
Step: 31_cli Test 'Install test chaincode by <sberbank> to the <testchannel5415> channel'
RUNTEST: chaincode-install.sh testchannel5415 sberbank VERIFY: test-chaincode-installed.sh testchannel5415 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5415 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel5415  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel5415'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel5415' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel5415-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel5415-02 alphaj
Step: 32_cli Test 'Install test chaincode by <alphaj> to the <testchannel5415-02> channel'
RUNTEST: chaincode-install.sh testchannel5415-02 alphaj VERIFY: test-chaincode-installed.sh testchannel5415-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;36m
Copying test chaincode in alphaj...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel5415-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel5415-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel5415-02  chaincode in alphaj...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel5415-02'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in alphaj[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel5415-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 32_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel5415 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel5415 sberbank
Step: 33_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel5415> channel'
RUNTEST: chaincode-instantiate.sh testchannel5415 sberbank VERIFY: test-chaincode-instantiated.sh testchannel5415 sberbank
[1;36m
Instantiate test chaincode in testchannel5415 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel5415 reference_testchannel5415[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel5415 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel5415' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel5415 sberbank reference_testchannel5415 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel5415 sberbank reference_testchannel5415
Step: 34_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alphaj>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel5415 sberbank reference_testchannel5415 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel5415 sberbank reference_testchannel5415
[1;36m
Invoke test chaincode on the <testchannel5415> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel5415 reference_testchannel5415 '["put","testchannel5415","testchannel5415"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel5415 reference_testchannel5415 '["put","testchannel5415","testchannel5415"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel5415> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel5415 reference_testchannel5415 '["range","testchannel5415"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel5415 reference_testchannel5415 '["range","testchannel5415"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 34_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13790 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13790 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13790 sberbank VERIFY: test-channel-exists.sh testchannel13790 sberbank
[1;36mCreating testchannel13790 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUxOX0.wc2KOeu6NtwcjTZsdmfpfwMdqLiXwmYzVNkqRhLHB2Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUxOX0.wc2KOeu6NtwcjTZsdmfpfwMdqLiXwmYzVNkqRhLHB2Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUxOX0.wc2KOeu6NtwcjTZsdmfpfwMdqLiXwmYzVNkqRhLHB2Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel13790","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUxOX0.wc2KOeu6NtwcjTZsdmfpfwMdqLiXwmYzVNkqRhLHB2Q
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel13790> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13790> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:21.432 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:25:21.435 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:25:21.438 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:25:21.438 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel13790",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:25:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileL6KHdH _testchannel13790_
[1;32mOK: The channel <testchannel13790> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13790 alphaj
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13790 alphaj
[1;34m
Verifing if the <testchannel13790> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file6RFr9v __
[1;32mOK: The channel <testchannel13790> does not exist and in not visible to alphaj[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel13790 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel13790 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13790 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13790 sberbank
[1;36mCreating ^^^^^^testchannel13790 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyMn0.fEe6rKen8YxSKIEE6l4wROX_mxD1RL0SWP_ZBnIASmA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyMn0.fEe6rKen8YxSKIEE6l4wROX_mxD1RL0SWP_ZBnIASmA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyMn0.fEe6rKen8YxSKIEE6l4wROX_mxD1RL0SWP_ZBnIASmA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel13790","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyMn0.fEe6rKen8YxSKIEE6l4wROX_mxD1RL0SWP_ZBnIASmA
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13790\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13790\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel13790\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13790> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:24.009 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:25:24.016 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileajClSk _null_
[1;32mOK: The channel <^^^^^^testchannel13790> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13790 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13790 alphaj
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13790 alphaj VERIFY: test-channel-does-not-exist.sh testchannel13790 alphaj
[1;36mCreating testchannel13790 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13790> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileaPn3Fi __
[1;32mOK: The channel <testchannel13790> does not exist and in not visible to alphaj[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13790-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13790-02 alphaj
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13790-02 alphaj VERIFY: test-channel-exists.sh testchannel13790-02 alphaj
[1;36mCreating testchannel13790-02 channel in alphaj.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13790-02> channel exists in alphaj.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/file7QEU2I __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13790-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel13790-02 sberbank
[1;34m
Verifing if the <testchannel13790-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:25.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:25:25.456 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileznIaHM _null_
[1;32mOK: The channel <testchannel13790-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel13790-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13790-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13790-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel13790-02 sberbank
[1;36mCreating testchannel13790-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyNX0.RuG-nD9POSt_7LlZJX0Y1Nh-Ozufoaww5BRiahgMyo0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyNX0.RuG-nD9POSt_7LlZJX0Y1Nh-Ozufoaww5BRiahgMyo0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyNX0.RuG-nD9POSt_7LlZJX0Y1Nh-Ozufoaww5BRiahgMyo0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel13790-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyNX0.RuG-nD9POSt_7LlZJX0Y1Nh-Ozufoaww5BRiahgMyo0
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel13790-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13790-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:28.219 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:25:28.221 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:25:28.222 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:25:28.222 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel13790-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:25:26Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filea4IEuN _testchannel13790-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel13790 sberbank alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13790 sberbank alphaj
Step: 8_api Test 'Add <alphaj> to channel <testchannel13790> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13790 sberbank alphaj VERIFY: test-channel-add-org.sh testchannel13790 sberbank alphaj
[1;36mAdd alphaj to the testchannel13790 channel using API...[m[m[m
[1;36mAdd alphaj to the testchannel13790 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyOH0.WgEpnXdSP6Qajy10hwrzcUD1wV1t_iYcpPQkuc5Sbl0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyOH0.WgEpnXdSP6Qajy10hwrzcUD1wV1t_iYcpPQkuc5Sbl0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyOH0.WgEpnXdSP6Qajy10hwrzcUD1wV1t_iYcpPQkuc5Sbl0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel13790/orgs {"orgId":"alphaj","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUyOH0.WgEpnXdSP6Qajy10hwrzcUD1wV1t_iYcpPQkuc5Sbl0
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alphaj.example.network/msp/admincerts/Admin@alphaj.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alphaj> added to testchannel13790 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:30.072 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:25:30.075 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:25:30.077 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:25:30.077 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/file7QyVSF _null_
null
[1;32mOK: Organization <alphaj> is in the channel <testchannel13790>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel13790-02 alphaj sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13790-02 alphaj sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel13790-02> created by the <alphaj> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13790-02 alphaj sberbank VERIFY: test-channel-add-org.sh testchannel13790-02 alphaj sberbank
[1;36mAdd sberbank to the testchannel13790-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel13790-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel13790-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
cat /tmp/fileE4fieC __

[1;32mOK: Organization <sberbank> is in the channel <testchannel13790-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel13790 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13790 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel13790> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13790 sberbank VERIFY: test-join-channel.sh testchannel13790 sberbank
[1;36mJoining sberbank.example.network to the testchannel13790 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel13790 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMH0.kLwPCOJKkv6jicUV-Lyq5IJSqgpJ-9TtV5Xqzikt5so"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMH0.kLwPCOJKkv6jicUV-Lyq5IJSqgpJ-9TtV5Xqzikt5so", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMH0.kLwPCOJKkv6jicUV-Lyq5IJSqgpJ-9TtV5Xqzikt5so
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel13790 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMH0.kLwPCOJKkv6jicUV-Lyq5IJSqgpJ-9TtV5Xqzikt5so
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13790> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:31.976 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13790> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel13790 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13790 alphaj
Step: 11_api Test 'Join <alphaj> to the <testchannel13790> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13790 alphaj VERIFY: test-join-channel.sh testchannel13790 alphaj
[1;36mJoining alphaj.example.network to the testchannel13790 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel13790 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel13790> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel13790-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13790-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel13790-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13790-02 sberbank VERIFY: test-join-channel.sh testchannel13790-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel13790-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel13790-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMn0.0Rstr2rIG3jux3scfhgii8VkMBwV85BibmU-aR-Ifq0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMn0.0Rstr2rIG3jux3scfhgii8VkMBwV85BibmU-aR-Ifq0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMn0.0Rstr2rIG3jux3scfhgii8VkMBwV85BibmU-aR-Ifq0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel13790-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzMn0.0Rstr2rIG3jux3scfhgii8VkMBwV85BibmU-aR-Ifq0
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13790-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:25:34.132 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13790-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel13790-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13790-02 alphaj
Step: 13_api Test 'Join <alphaj> to the <testchannel13790-02> chanel created by the <alphaj> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13790-02 alphaj VERIFY: test-join-channel.sh testchannel13790-02 alphaj
[1;36mJoining alphaj.example.network to the testchannel13790-02 channel using API...[m[m[m
[1;36mJoining alphaj.example.network to the testchannel13790-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alphaj has joined the <testchannel13790-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alphaj.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 13_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel13790 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13790 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel13790> channel'
RUNTEST: chaincode-install.sh testchannel13790 sberbank VERIFY: test-chaincode-installed.sh testchannel13790 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzNX0.VcQlb-UnMHiu_kM0jfHWTPQjsYCewhlzoO3pcuoFrgQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzNX0.VcQlb-UnMHiu_kM0jfHWTPQjsYCewhlzoO3pcuoFrgQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzNX0.VcQlb-UnMHiu_kM0jfHWTPQjsYCewhlzoO3pcuoFrgQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel13790/chaincode-reference.js (deflated 27%)
adding: reference_testchannel13790/index.js (deflated 27%)
adding: reference_testchannel13790/package.json (deflated 41%)
adding: reference_testchannel13790/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 24 18:25 /tmp/reference_testchannel13790.zip
/tmp/reference_testchannel13790.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel13790:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13790' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel13790-02 alphaj ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13790-02 alphaj
Step: 15_api Test 'Install test chaincode by <alphaj> to the <testchannel13790-02> channel'
RUNTEST: chaincode-install.sh testchannel13790-02 alphaj VERIFY: test-chaincode-installed.sh testchannel13790-02 alphaj
[1;36m
Installing test chaincode in alphaj...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode installed in alphaj org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13790-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel13790 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel13790 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel13790> channel'
RUNTEST: chaincode-instantiate.sh testchannel13790 sberbank VERIFY: test-chaincode-instantiated.sh testchannel13790 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzN30.SXwOctTBjjN7o-OiDUAhl-avMN0AroLu0yo9WNzovRI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzN30.SXwOctTBjjN7o-OiDUAhl-avMN0AroLu0yo9WNzovRI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzN30.SXwOctTBjjN7o-OiDUAhl-avMN0AroLu0yo9WNzovRI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel13790/chaincodes {"channelId":"testchannel13790","chaincodeId":"reference_testchannel13790","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzUzN30.SXwOctTBjjN7o-OiDUAhl-avMN0AroLu0yo9WNzovRI
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25668 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25668 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25668 sberbank VERIFY: test-channel-exists.sh testchannel25668 sberbank
[1;36mCreating testchannel25668 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2NH0.hLsCQVXetS-rhrDfxB66vYPqchfVZIycNdnJQVZMilE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2NH0.hLsCQVXetS-rhrDfxB66vYPqchfVZIycNdnJQVZMilE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2NH0.hLsCQVXetS-rhrDfxB66vYPqchfVZIycNdnJQVZMilE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel25668","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2NH0.hLsCQVXetS-rhrDfxB66vYPqchfVZIycNdnJQVZMilE
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel25668> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25668> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:06.612 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:06.615 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:26:06.617 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:26:06.617 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25668",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:26:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileqlVvjL _testchannel25668_
[1;32mOK: The channel <testchannel25668> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25668 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25668 alpha
[1;34m
Verifing if the <testchannel25668> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:26:07.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:07.426 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileG9OYpL _null_
[1;32mOK: The channel <testchannel25668> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel25668 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel25668 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25668 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25668 sberbank
[1;36mCreating ^^^^^^testchannel25668 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2OH0.6CpfQ7HBi1ZYOrL31-z2fEq7QAnUqC9n79hjvDv7R7Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2OH0.6CpfQ7HBi1ZYOrL31-z2fEq7QAnUqC9n79hjvDv7R7Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2OH0.6CpfQ7HBi1ZYOrL31-z2fEq7QAnUqC9n79hjvDv7R7Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel25668","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU2OH0.6CpfQ7HBi1ZYOrL31-z2fEq7QAnUqC9n79hjvDv7R7Q
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25668\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25668\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25668\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel25668> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:10.200 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:10.203 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filebbT9IB _null_
[1;32mOK: The channel <^^^^^^testchannel25668> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25668 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25668 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25668 alpha VERIFY: test-channel-does-not-exist.sh testchannel25668 alpha
[1;36mCreating testchannel25668 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3MH0.05oqCxr78Hgm8eSHD3MdIkT04wp7sq54MBrKZ-JNshI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3MH0.05oqCxr78Hgm8eSHD3MdIkT04wp7sq54MBrKZ-JNshI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3MH0.05oqCxr78Hgm8eSHD3MdIkT04wp7sq54MBrKZ-JNshI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel25668","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3MH0.05oqCxr78Hgm8eSHD3MdIkT04wp7sq54MBrKZ-JNshI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25668> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:26:12.792 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:12.794 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileoLOZug _null_
[1;32mOK: The channel <testchannel25668> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25668-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25668-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel25668-02 alpha VERIFY: test-channel-exists.sh testchannel25668-02 alpha
[1;36mCreating testchannel25668-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3M30.tykdr0s9kSsIjzW390d0qR9F7GyjfELzzuAs0-si6IM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3M30.tykdr0s9kSsIjzW390d0qR9F7GyjfELzzuAs0-si6IM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3M30.tykdr0s9kSsIjzW390d0qR9F7GyjfELzzuAs0-si6IM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel25668-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3M30.tykdr0s9kSsIjzW390d0qR9F7GyjfELzzuAs0-si6IM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel25668-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25668-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:26:15.289 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:15.292 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:26:15.293 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:26:15.293 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25668-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:26:14Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1FE4jZ _testchannel25668-02_
[1;32mOK: The channel <testchannel25668-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25668-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel25668-02 sberbank
[1;34m
Verifing if the <testchannel25668-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:15.940 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:15.943 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filerF8xiH _null_
[1;32mOK: The channel <testchannel25668-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25668-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25668-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25668-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel25668-02 sberbank
[1;36mCreating testchannel25668-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3Nn0.0nxBVHzSwel1ADBWhGtpUdJe9PBq6gfX0GOMQLBLpik"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3Nn0.0nxBVHzSwel1ADBWhGtpUdJe9PBq6gfX0GOMQLBLpik", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3Nn0.0nxBVHzSwel1ADBWhGtpUdJe9PBq6gfX0GOMQLBLpik
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel25668-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3Nn0.0nxBVHzSwel1ADBWhGtpUdJe9PBq6gfX0GOMQLBLpik
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25668-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:18.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:18.548 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filebxVK8i _null_
[1;32mOK: The channel <testchannel25668-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel25668 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25668 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel25668> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25668 sberbank alpha VERIFY: test-channel-add-org.sh testchannel25668 sberbank alpha
[1;36mAdd alpha to the testchannel25668 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel25668 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3OH0.mlZvFDPi2P4RLM4o_AU1LnhYwtI563vqTKyYKBn6Rdo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3OH0.mlZvFDPi2P4RLM4o_AU1LnhYwtI563vqTKyYKBn6Rdo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3OH0.mlZvFDPi2P4RLM4o_AU1LnhYwtI563vqTKyYKBn6Rdo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel25668/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU3OH0.mlZvFDPi2P4RLM4o_AU1LnhYwtI563vqTKyYKBn6Rdo
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel25668 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel25668 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:21.168 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:21.171 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:26:21.172 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:26:21.172 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileT5tgw8 _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel25668>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel25668-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25668-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel25668-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25668-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel25668-02 alpha sberbank
[1;36mAdd sberbank to the testchannel25668-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel25668-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4MX0.63Y61EpFZ_fSRItUfJ9U_11O_eL79dbER5W-1NO_o74"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4MX0.63Y61EpFZ_fSRItUfJ9U_11O_eL79dbER5W-1NO_o74", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4MX0.63Y61EpFZ_fSRItUfJ9U_11O_eL79dbER5W-1NO_o74
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel25668-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4MX0.63Y61EpFZ_fSRItUfJ9U_11O_eL79dbER5W-1NO_o74
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel25668-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel25668-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:26:23.819 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:26:23.823 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:26:23.824 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:26:23.825 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileRBrQSR _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel25668-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25668 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25668 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel25668> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25668 sberbank VERIFY: test-join-channel.sh testchannel25668 sberbank
[1;36mJoining sberbank.example.network to the testchannel25668 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel25668 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NH0._rhnleEk4m9ZkBj9wqbVsbBPCG_ab3_1hqTaF--Wqcc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NH0._rhnleEk4m9ZkBj9wqbVsbBPCG_ab3_1hqTaF--Wqcc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NH0._rhnleEk4m9ZkBj9wqbVsbBPCG_ab3_1hqTaF--Wqcc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel25668 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NH0._rhnleEk4m9ZkBj9wqbVsbBPCG_ab3_1hqTaF--Wqcc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel25668> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:26:25.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel25668> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25668 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25668 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel25668> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25668 alpha VERIFY: test-join-channel.sh testchannel25668 alpha
[1;36mJoining alpha.example.network to the testchannel25668 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel25668 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NX0.3dpk8RyuN98zv0Zir0LIglQZWe9y1N_BWmxgcTiFPOU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NX0.3dpk8RyuN98zv0Zir0LIglQZWe9y1N_BWmxgcTiFPOU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NX0.3dpk8RyuN98zv0Zir0LIglQZWe9y1N_BWmxgcTiFPOU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel25668 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzU4NX0.3dpk8RyuN98zv0Zir0LIglQZWe9y1N_BWmxgcTiFPOU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel25668> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:28:26.550 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel25668> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25668-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25668-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel25668-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25668-02 sberbank VERIFY: test-join-channel.sh testchannel25668-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel25668-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel25668-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzcwNn0.mRvBCF2l2pIhPdPS1NtYAlpHY7rkdELCxEh_KLob4OM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzcwNn0.mRvBCF2l2pIhPdPS1NtYAlpHY7rkdELCxEh_KLob4OM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzcwNn0.mRvBCF2l2pIhPdPS1NtYAlpHY7rkdELCxEh_KLob4OM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel25668-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzcwNn0.mRvBCF2l2pIhPdPS1NtYAlpHY7rkdELCxEh_KLob4OM
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel25668-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:30:27.895 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel25668-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25668-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25668-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel25668-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25668-02 alpha VERIFY: test-join-channel.sh testchannel25668-02 alpha
[1;36mJoining alpha.example.network to the testchannel25668-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel25668-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgyOH0.nzLWkwFEwhdRSu4YcM9-p0XQ5k789jWCKbsCgaonelk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgyOH0.nzLWkwFEwhdRSu4YcM9-p0XQ5k789jWCKbsCgaonelk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgyOH0.nzLWkwFEwhdRSu4YcM9-p0XQ5k789jWCKbsCgaonelk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel25668-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgyOH0.nzLWkwFEwhdRSu4YcM9-p0XQ5k789jWCKbsCgaonelk
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel25668-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:30:29.762 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel25668-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel25668 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25668 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel25668> channel'
RUNTEST: chaincode-install.sh testchannel25668 sberbank VERIFY: test-chaincode-installed.sh testchannel25668 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMH0.gXZnVK5jb_428xmaTNKaX-UFTgCz8JGmHUofZoIY4hg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMH0.gXZnVK5jb_428xmaTNKaX-UFTgCz8JGmHUofZoIY4hg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMH0.gXZnVK5jb_428xmaTNKaX-UFTgCz8JGmHUofZoIY4hg
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel25668/chaincode-reference.js (deflated 27%)
adding: reference_testchannel25668/index.js (deflated 27%)
adding: reference_testchannel25668/package.json (deflated 41%)
adding: reference_testchannel25668/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 24 18:30 /tmp/reference_testchannel25668.zip
/tmp/reference_testchannel25668.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel25668:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25668' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel25668-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25668-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel25668-02> channel'
RUNTEST: chaincode-install.sh testchannel25668-02 alpha VERIFY: test-chaincode-installed.sh testchannel25668-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMX0.T5BECWMzDT1pj2-_5MlIXX6RNjtCiGScX2_xl3ndXVA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMX0.T5BECWMzDT1pj2-_5MlIXX6RNjtCiGScX2_xl3ndXVA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzMX0.T5BECWMzDT1pj2-_5MlIXX6RNjtCiGScX2_xl3ndXVA
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel25668-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel25668-02/index.js (deflated 27%)
adding: reference_testchannel25668-02/package.json (deflated 41%)
adding: reference_testchannel25668-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 24 18:30 /tmp/reference_testchannel25668-02.zip
/tmp/reference_testchannel25668-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel25668-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25668-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel25668 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel25668 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel25668> channel'
RUNTEST: chaincode-instantiate.sh testchannel25668 sberbank VERIFY: test-chaincode-instantiated.sh testchannel25668 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzM30.0nrhlTx9ZELpNzt6K8I_x3hxptLYW0mYV962uQPbWuA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzM30.0nrhlTx9ZELpNzt6K8I_x3hxptLYW0mYV962uQPbWuA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzM30.0nrhlTx9ZELpNzt6K8I_x3hxptLYW0mYV962uQPbWuA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel25668/chaincodes {"channelId":"testchannel25668","chaincodeId":"reference_testchannel25668","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2MzgzM30.0nrhlTx9ZELpNzt6K8I_x3hxptLYW0mYV962uQPbWuA
curlGetIt got _ {"txid":"34237c6e9baa1081e2a55c393d929624f249eb93b3f0448d95005059d0e49005","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"34237c6e9baa1081e2a55c393d929624f249eb93b3f0448d95005059d0e49005","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel25668 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel25668' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_api: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel25668 sberbank reference_testchannel25668 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel25668 sberbank reference_testchannel25668
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel25668 sberbank reference_testchannel25668 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel25668 sberbank reference_testchannel25668
[1;36m
Invoke test chaincode on the <testchannel25668> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mzg3OX0.lKtYDL_48k30yFUGLs-YmlCdg3WcLNLZyII8QlnGO3k"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mzg3OX0.lKtYDL_48k30yFUGLs-YmlCdg3WcLNLZyII8QlnGO3k", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mzg3OX0.lKtYDL_48k30yFUGLs-YmlCdg3WcLNLZyII8QlnGO3k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel25668/chaincodes/reference_testchannel25668 {"fcn":"put","args":["testchannel25668","testchannel25668"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2Mzg3OX0.lKtYDL_48k30yFUGLs-YmlCdg3WcLNLZyII8QlnGO3k
curlGetIt got _ {"txid":"b0ff1a41ef6710749e423c4bd18ddd4e48eb15f4fc7fb8d1082ae5e2087f7571","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"b0ff1a41ef6710749e423c4bd18ddd4e48eb15f4fc7fb8d1082ae5e2087f7571","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel25668 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel25668> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel25668 reference_testchannel25668 '["range","testchannel25668"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel25668 reference_testchannel25668 '["range","testchannel25668"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel30853 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel30853 sberbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel30853 sberbank VERIFY: test-channel-exists.sh testchannel30853 sberbank
[1;36m
Creating the <testchannel30853> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel30853
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30853> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:39.673 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:39.675 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileDFL1BX _null_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel30853 alpha
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel30853 alpha
[1;34m
Verifing if the <testchannel30853> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:40.414 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:40.415 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filephYkzT _null_
[1;32mOK: The channel <testchannel30853> does not exist and in not visible to alpha[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel30853 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel30853 sberbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel30853 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel30853 sberbank
[1;36m
Creating the <^^^^^^testchannel30853> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel30853
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel30853> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:41.978 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:41.995 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileOoIdes _null_
[1;32mOK: The channel <^^^^^^testchannel30853> does not exist and in not visible to sberbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel30853 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel30853 alpha
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30853 alpha VERIFY: test-channel-does-not-exist.sh testchannel30853 alpha
[1;36m
Creating the <testchannel30853> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel30853
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30853> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:43.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:43.674 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileZRrv18 _null_
[1;32mOK: The channel <testchannel30853> does not exist and in not visible to alpha[m[m[m
Step 21_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel30853-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel30853-02 alpha
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel30853-02 alpha VERIFY: test-channel-exists.sh testchannel30853-02 alpha
[1;36m
Creating the <testchannel30853-02> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel30853-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30853-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30853-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:45.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:45.124 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file2yvFqO _null_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 22_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel30853-02 sberbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel30853-02 sberbank
[1;34m
Verifing if the <testchannel30853-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:45.787 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:45.790 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileqE1ynt _null_
[1;32mOK: The channel <testchannel30853-02> does not exist and in not visible to sberbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel30853-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel30853-02 sberbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel30853-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel30853-02 sberbank
[1;36m
Creating the <testchannel30853-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel30853-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel30853-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel30853-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:47.376 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:47.378 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileqwtL78 _null_
[1;32mOK: The channel <testchannel30853-02> does not exist and in not visible to sberbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel30853 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel30853 sberbank alpha
Step: 25_cli Test 'Add <alpha> to channel <testchannel30853> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30853 sberbank alpha VERIFY: test-channel-add-org.sh testchannel30853 sberbank alpha
[1;36m
Add alpha to the testchannel30853 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel30853 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel30853 alpha 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel30853 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:49.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:49.034 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file25cVaU _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 25_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel30853-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel30853-02 alpha sberbank
Step: 26_cli Test 'Add <sberbank> to channel <testchannel30853-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel30853-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel30853-02 alpha sberbank
[1;36m
Add sberbank to the testchannel30853-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel30853-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel30853-02 sberbank 7051 example.network[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel30853-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:50.402 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:31:50.403 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filePR6u3q _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 26_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel30853 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel30853 sberbank
Step: 27_cli Test 'Join <sberbank> to the <testchannel30853> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30853 sberbank VERIFY: test-join-channel.sh testchannel30853 sberbank
[1;36m
Joining  sberbank to the testchannel30853 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel30853
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel30853> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:51.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel30853 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel30853 alpha
Step: 28_cli Test 'Join <alpha> to the <testchannel30853> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30853 alpha VERIFY: test-join-channel.sh testchannel30853 alpha
[1;36m
Joining  alpha to the testchannel30853 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel30853
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel30853> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:53.383 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel30853-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel30853-02 sberbank
Step: 29_cli Test 'Join <sberbank> to the <testchannel30853-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30853-02 sberbank VERIFY: test-join-channel.sh testchannel30853-02 sberbank
[1;36m
Joining  sberbank to the testchannel30853-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel30853-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel30853-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel30853-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:31:54.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel30853-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel30853-02 alpha
Step: 30_cli Test 'Join <alpha> to the <testchannel30853-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel30853-02 alpha VERIFY: test-join-channel.sh testchannel30853-02 alpha
[1;36m
Joining  alpha to the testchannel30853-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel30853-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel30853-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel30853-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:31:56.247 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 30_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel30853 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel30853 sberbank
Step: 31_cli Test 'Install test chaincode by <sberbank> to the <testchannel30853> channel'
RUNTEST: chaincode-install.sh testchannel30853 sberbank VERIFY: test-chaincode-installed.sh testchannel30853 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel30853 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel30853  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel30853'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel30853' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel30853-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel30853-02 alpha
Step: 32_cli Test 'Install test chaincode by <alpha> to the <testchannel30853-02> channel'
RUNTEST: chaincode-install.sh testchannel30853-02 alpha VERIFY: test-chaincode-installed.sh testchannel30853-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel30853-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel30853-02[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel30853-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel30853-02'[m[m[m
Pulling cli.peer (192.168.99.1:5000/olegabu/fabric-tools-extended:latest)...
Get https://192.168.99.1:5000/v2/: http: server gave HTTP response to HTTPS client
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel30853-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 32_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel30853 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel30853 sberbank
Step: 33_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel30853> channel'
RUNTEST: chaincode-instantiate.sh testchannel30853 sberbank VERIFY: test-chaincode-instantiated.sh testchannel30853 sberbank
[1;36m
Instantiate test chaincode in testchannel30853 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel30853 reference_testchannel30853[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel30853 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel30853' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel30853 sberbank reference_testchannel30853 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel30853 sberbank reference_testchannel30853
Step: 34_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel30853 sberbank reference_testchannel30853 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel30853 sberbank reference_testchannel30853
[1;36m
Invoke test chaincode on the <testchannel30853> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel30853 reference_testchannel30853 '["put","testchannel30853","testchannel30853"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel30853 reference_testchannel30853 '["put","testchannel30853","testchannel30853"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel30853> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel30853 reference_testchannel30853 '["range","testchannel30853"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel30853 reference_testchannel30853 '["range","testchannel30853"]'[m[m[m
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 34_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23067 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel23067 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel23067 sberbank VERIFY: test-channel-exists.sh testchannel23067 sberbank
[1;36mCreating testchannel23067 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA4OX0.Ko4aLO5HzdVXYA_nuXqeUggZzG6Hpv6ccE6Py5CDRtc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA4OX0.Ko4aLO5HzdVXYA_nuXqeUggZzG6Hpv6ccE6Py5CDRtc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA4OX0.Ko4aLO5HzdVXYA_nuXqeUggZzG6Hpv6ccE6Py5CDRtc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel23067","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA4OX0.Ko4aLO5HzdVXYA_nuXqeUggZzG6Hpv6ccE6Py5CDRtc
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel23067> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23067> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:34:51.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:34:51.948 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:34:51.953 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:34:51.953 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel23067",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:34:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file2etAzc _testchannel23067_
[1;32mOK: The channel <testchannel23067> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel23067 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel23067 alpha
[1;34m
Verifing if the <testchannel23067> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:34:52.632 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:34:52.635 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filefsWm9S _null_
[1;32mOK: The channel <testchannel23067> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel23067 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel23067 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel23067 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel23067 sberbank
[1;36mCreating ^^^^^^testchannel23067 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5M30.aVTkyG7K2knIGAwi8dr4NaN-_Ii1aN7QaLugjERSXuk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5M30.aVTkyG7K2knIGAwi8dr4NaN-_Ii1aN7QaLugjERSXuk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5M30.aVTkyG7K2knIGAwi8dr4NaN-_Ii1aN7QaLugjERSXuk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel23067","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5M30.aVTkyG7K2knIGAwi8dr4NaN-_Ii1aN7QaLugjERSXuk
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel23067\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel23067\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel23067\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel23067> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:34:54.873 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:34:54.875 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filejVNPxd _null_
[1;32mOK: The channel <^^^^^^testchannel23067> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23067 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel23067 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel23067 alpha VERIFY: test-channel-does-not-exist.sh testchannel23067 alpha
[1;36mCreating testchannel23067 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5NX0.c6OP8TZToBL3r5KZOvNaC1-azgD1tNtjx3fQttY7T7M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5NX0.c6OP8TZToBL3r5KZOvNaC1-azgD1tNtjx3fQttY7T7M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5NX0.c6OP8TZToBL3r5KZOvNaC1-azgD1tNtjx3fQttY7T7M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel23067","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5NX0.c6OP8TZToBL3r5KZOvNaC1-azgD1tNtjx3fQttY7T7M
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel23067> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:34:57.160 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:34:57.163 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filervK2iE _null_
[1;32mOK: The channel <testchannel23067> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23067-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel23067-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel23067-02 alpha VERIFY: test-channel-exists.sh testchannel23067-02 alpha
[1;36mCreating testchannel23067-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5N30.Z4OWuK25199gWIju-mZT2gop-h_38PsrxMeTQ0jXy-I"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5N30.Z4OWuK25199gWIju-mZT2gop-h_38PsrxMeTQ0jXy-I", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5N30.Z4OWuK25199gWIju-mZT2gop-h_38PsrxMeTQ0jXy-I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel23067-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDA5N30.Z4OWuK25199gWIju-mZT2gop-h_38PsrxMeTQ0jXy-I
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel23067-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel23067-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:34:59.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:34:59.901 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:34:59.903 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:34:59.904 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel23067-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:34:58Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileYswV8v _testchannel23067-02_
[1;32mOK: The channel <testchannel23067-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel23067-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel23067-02 sberbank
[1;34m
Verifing if the <testchannel23067-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:35:00.600 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:35:00.603 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileBV3Nlg _null_
[1;32mOK: The channel <testchannel23067-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel23067-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel23067-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel23067-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel23067-02 sberbank
[1;36mCreating testchannel23067-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwMH0.d1BVJt9YXWOqyWGMWDTNUgh4PoNN6V_MrZpCUFUs30o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwMH0.d1BVJt9YXWOqyWGMWDTNUgh4PoNN6V_MrZpCUFUs30o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwMH0.d1BVJt9YXWOqyWGMWDTNUgh4PoNN6V_MrZpCUFUs30o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel23067-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwMH0.d1BVJt9YXWOqyWGMWDTNUgh4PoNN6V_MrZpCUFUs30o
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel23067-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:35:02.786 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:35:02.788 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filem3cOrB _null_
[1;32mOK: The channel <testchannel23067-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel23067 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel23067 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel23067> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23067 sberbank alpha VERIFY: test-channel-add-org.sh testchannel23067 sberbank alpha
[1;36mAdd alpha to the testchannel23067 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel23067 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwM30.Rh-jq8KskCirJD5MqVnYjzXRTIJnBSkAgjcfF6WA3rw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwM30.Rh-jq8KskCirJD5MqVnYjzXRTIJnBSkAgjcfF6WA3rw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwM30.Rh-jq8KskCirJD5MqVnYjzXRTIJnBSkAgjcfF6WA3rw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel23067/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwM30.Rh-jq8KskCirJD5MqVnYjzXRTIJnBSkAgjcfF6WA3rw
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel23067 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel23067 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:35:05.326 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:35:05.329 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:35:05.330 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:35:05.330 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file9KITuf _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel23067>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel23067-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel23067-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel23067-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel23067-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel23067-02 alpha sberbank
[1;36mAdd sberbank to the testchannel23067-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel23067-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwNX0.zrLnvrJwsZ156qLwaErMqys_uvWBhQJdFIJjsu3SaFM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwNX0.zrLnvrJwsZ156qLwaErMqys_uvWBhQJdFIJjsu3SaFM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwNX0.zrLnvrJwsZ156qLwaErMqys_uvWBhQJdFIJjsu3SaFM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel23067-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwNX0.zrLnvrJwsZ156qLwaErMqys_uvWBhQJdFIJjsu3SaFM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel23067-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel23067-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:35:08.198 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:35:08.200 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:35:08.201 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:35:08.201 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/filebyJ7R2 _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel23067-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel23067 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel23067 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel23067> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23067 sberbank VERIFY: test-join-channel.sh testchannel23067 sberbank
[1;36mJoining sberbank.example.network to the testchannel23067 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel23067 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwOH0.Vb2WNl82nl44kg088vtepdcREdnNhYB_kwImi9oBflc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwOH0.Vb2WNl82nl44kg088vtepdcREdnNhYB_kwImi9oBflc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwOH0.Vb2WNl82nl44kg088vtepdcREdnNhYB_kwImi9oBflc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel23067 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDEwOH0.Vb2WNl82nl44kg088vtepdcREdnNhYB_kwImi9oBflc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel23067> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:35:09.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel23067> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel23067 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel23067 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel23067> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23067 alpha VERIFY: test-join-channel.sh testchannel23067 alpha
[1;36mJoining alpha.example.network to the testchannel23067 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel23067 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDExMH0.Cwwevh1r_9QeIhi2AxyMqDkpWmplMP3PtHLbDSDxXNQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDExMH0.Cwwevh1r_9QeIhi2AxyMqDkpWmplMP3PtHLbDSDxXNQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDExMH0.Cwwevh1r_9QeIhi2AxyMqDkpWmplMP3PtHLbDSDxXNQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel23067 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDExMH0.Cwwevh1r_9QeIhi2AxyMqDkpWmplMP3PtHLbDSDxXNQ
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel23067> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:37:10.979 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel23067> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel23067-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel23067-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel23067-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23067-02 sberbank VERIFY: test-join-channel.sh testchannel23067-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel23067-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel23067-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDIzMX0.969ol9gd60bCNhffSP0OWeqIVPmSJs2nQoR8QU5VSp8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDIzMX0.969ol9gd60bCNhffSP0OWeqIVPmSJs2nQoR8QU5VSp8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDIzMX0.969ol9gd60bCNhffSP0OWeqIVPmSJs2nQoR8QU5VSp8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel23067-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDIzMX0.969ol9gd60bCNhffSP0OWeqIVPmSJs2nQoR8QU5VSp8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel23067-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:39:12.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel23067-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel23067-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel23067-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel23067-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel23067-02 alpha VERIFY: test-join-channel.sh testchannel23067-02 alpha
[1;36mJoining alpha.example.network to the testchannel23067-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel23067-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1Mn0.IDVGLfceFmrjQzZHU-nrZsnIf4DSqnYE63quqKyIQoU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1Mn0.IDVGLfceFmrjQzZHU-nrZsnIf4DSqnYE63quqKyIQoU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1Mn0.IDVGLfceFmrjQzZHU-nrZsnIf4DSqnYE63quqKyIQoU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel23067-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1Mn0.IDVGLfceFmrjQzZHU-nrZsnIf4DSqnYE63quqKyIQoU
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel23067-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:39:13.758 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel23067-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel23067 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel23067 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel23067> channel'
RUNTEST: chaincode-install.sh testchannel23067 sberbank VERIFY: test-chaincode-installed.sh testchannel23067 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1NH0.ffVvwvbQtqP1YroGa7bVO2D7Qde8xDrakwJa68VWtZQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1NH0.ffVvwvbQtqP1YroGa7bVO2D7Qde8xDrakwJa68VWtZQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1NH0.ffVvwvbQtqP1YroGa7bVO2D7Qde8xDrakwJa68VWtZQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel23067/chaincode-reference.js (deflated 27%)
adding: reference_testchannel23067/index.js (deflated 27%)
adding: reference_testchannel23067/package.json (deflated 41%)
adding: reference_testchannel23067/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 24 18:39 /tmp/reference_testchannel23067.zip
/tmp/reference_testchannel23067.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel23067:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel23067' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13790, Version: 1.0, Path: /tmp/reference_testchannel13790, Id: 1af28239cba804e369cceac84559a0c5d9563190fcf76dbd0896d96234f3a482
Name: reference_testchannel152, Version: 1.0, Path: /tmp/reference_testchannel152, Id: 8b29d85c1f7eb4c0d80377b98b8c3fd016a036e0a03e7878b4ed3ed78d4d41be
Name: reference_testchannel23067, Version: 1.0, Path: /tmp/reference_testchannel23067, Id: ba800a19aec99190b4dbe09697d7ba3b461e454e901a3214dad98bc901fff7e4
Name: reference_testchannel251, Version: 1.0, Path: /tmp/reference_testchannel251, Id: 908888cf91ccbff9ae11c34f88c72bd26a10840ed05e7b2dff0a7f9e76fd4269
Name: reference_testchannel25668, Version: 1.0, Path: /tmp/reference_testchannel25668, Id: 1f50e0954cdcc4e3cbfc53b0592df800f1c38f8dac019af2c00da1a67e16b4d6
Name: reference_testchannel32122, Version: 1.0, Path: /tmp/reference_testchannel32122, Id: 90d0f70053d3513124730a63bf253e852b0d2f66a18aec7807d96efe47cc4bfc
reference_testchannel23067
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel23067-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel23067-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel23067-02> channel'
RUNTEST: chaincode-install.sh testchannel23067-02 alpha VERIFY: test-chaincode-installed.sh testchannel23067-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1N30.ia69GN4Abkr3p8ZHXnUL2eBVEEM4vVWdkECJ1awSj4M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1N30.ia69GN4Abkr3p8ZHXnUL2eBVEEM4vVWdkECJ1awSj4M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM1N30.ia69GN4Abkr3p8ZHXnUL2eBVEEM4vVWdkECJ1awSj4M
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel23067-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel23067-02/index.js (deflated 27%)
adding: reference_testchannel23067-02/package.json (deflated 41%)
adding: reference_testchannel23067-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 24 18:39 /tmp/reference_testchannel23067-02.zip
/tmp/reference_testchannel23067-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel23067-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel23067-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
reference_testchannel23067-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel23067 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel23067 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel23067> channel'
RUNTEST: chaincode-instantiate.sh testchannel23067 sberbank VERIFY: test-chaincode-instantiated.sh testchannel23067 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM2MX0.CwDxxr794W1PJ5Pg6CM2guZsAiyYWJ6rtVvC2RsD51U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM2MX0.CwDxxr794W1PJ5Pg6CM2guZsAiyYWJ6rtVvC2RsD51U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM2MX0.CwDxxr794W1PJ5Pg6CM2guZsAiyYWJ6rtVvC2RsD51U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel23067/chaincodes {"channelId":"testchannel23067","chaincodeId":"reference_testchannel23067","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDM2MX0.CwDxxr794W1PJ5Pg6CM2guZsAiyYWJ6rtVvC2RsD51U
curlGetIt got _ {"txid":"c14b61fa8a916b438725ed51c63455b88c554cdfee242d978825178d87f77ba0","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"c14b61fa8a916b438725ed51c63455b88c554cdfee242d978825178d87f77ba0","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel23067 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel23067' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel23067:
Name: reference_testchannel23067, Version: 1.0, Path: /tmp/reference_testchannel23067, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel23067
[1;32mOK: The test chaincode installed in testchannel23067 channel by sberbank org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel23067 sberbank reference_testchannel23067 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel23067 sberbank reference_testchannel23067
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel23067 sberbank reference_testchannel23067 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel23067 sberbank reference_testchannel23067
[1;36m
Invoke test chaincode on the <testchannel23067> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDQxMX0.gcbzwstCgljaXS9jIQz3ZpD7Y5xqGMvfEhk--QQJcb0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDQxMX0.gcbzwstCgljaXS9jIQz3ZpD7Y5xqGMvfEhk--QQJcb0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDQxMX0.gcbzwstCgljaXS9jIQz3ZpD7Y5xqGMvfEhk--QQJcb0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel23067/chaincodes/reference_testchannel23067 {"fcn":"put","args":["testchannel23067","testchannel23067"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDQxMX0.gcbzwstCgljaXS9jIQz3ZpD7Y5xqGMvfEhk--QQJcb0
curlGetIt got _ {"txid":"5676e5ad527e7fe2fb999167c18755d9e7311b3a1ba80f261c6ee6d9524f6ab2","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"5676e5ad527e7fe2fb999167c18755d9e7311b3a1ba80f261c6ee6d9524f6ab2","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel23067 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel23067> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel23067 reference_testchannel23067 '["range","testchannel23067"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel23067 reference_testchannel23067 '["range","testchannel23067"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel23067 -C testchannel23067 -c '{"Args":["range","testchannel23067"]}'
[{"key":"testchannel23067","value":"testchannel23067"}]
[1;32mOK: Chaincode reference_testchannel23067 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel11638 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel11638 sberbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel11638 sberbank VERIFY: test-channel-exists.sh testchannel11638 sberbank
[1;36m
Creating the <testchannel11638> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel11638
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11638[m[m[m
example.network

Create channel sberbank testchannel11638
--2020-03-24 15:40:34--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:34--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:34--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:34--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:40:34.723 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:40:34.796 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:34.870 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:34.871 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:34.871 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:40:34.871 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:34.871 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:34.872 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:34.872 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:40:34.872 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:40:34.950 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:34.989 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11638.pb -o orderer.example.network:7050 -c testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:35.087 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:35.090 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:40:35.091 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:40:35.091 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel11638
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:35.470 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:35.497 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11638> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11638> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:40:36.702 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:36.705 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:40:36.706 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:40:36.706 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11638",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:40:35Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileWNQiCF _testchannel11638_
[1;32mOK: The channel <testchannel11638> exists and visible to sberbank[m[m[m
Step 18_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel11638 alpha
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel11638 alpha
[1;34m
Verifing if the <testchannel11638> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:40:37.464 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:37.467 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filevb0Lpx _null_
[1;32mOK: The channel <testchannel11638> does not exist and in not visible to alpha[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel11638 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel11638 sberbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel11638 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel11638 sberbank
[1;36m
Creating the <^^^^^^testchannel11638> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel11638
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel11638[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel11638
--2020-03-24 15:40:40--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:40--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:40--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:40--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:40:40.198 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:40:40.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:40.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:40.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:40:40.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:40:40.261 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:40:40.261 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:40:40.261 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:40:40.261 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:40.321 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:40.322 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:40.322 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:40:40.322 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:40.322 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:40.323 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:40.323 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:40:40.323 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:40:40.389 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel11638' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel11638.pb -o orderer.example.network:7050 -c ^^^^^^testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:40.476 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:40.478 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel11638.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel11638.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel11638
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel11638 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:40.754 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel11638' != '^^^^^^testchannel11638'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel11638> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:40:41.920 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:41.922 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filel6eqle _null_
[1;32mOK: The channel <^^^^^^testchannel11638> does not exist and in not visible to sberbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel11638 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel11638 alpha
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel11638 alpha VERIFY: test-channel-does-not-exist.sh testchannel11638 alpha
[1;36m
Creating the <testchannel11638> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel11638
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11638[m[m[m
example.network

Create channel alpha testchannel11638
--2020-03-24 15:40:44--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:44--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:44--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:44--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:40:44.800 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:40:44.864 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:44.922 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:44.923 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:40:44.924 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:40:45.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel11638.pb -o orderer.example.network:7050 -c testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:45.114 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:45.116 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel11638.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel11638.json: No such file or directory
>> Prepare config update from alpha for channel testchannel11638
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:45.327 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11638> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:40:46.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:46.637 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file1vFlB0 _null_
[1;32mOK: The channel <testchannel11638> does not exist and in not visible to alpha[m[m[m
Step 21_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel11638-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel11638-02 alpha
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel11638-02 alpha VERIFY: test-channel-exists.sh testchannel11638-02 alpha
[1;36m
Creating the <testchannel11638-02> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel11638-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11638-02[m[m[m
example.network

Create channel alpha testchannel11638-02
--2020-03-24 15:40:49--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:49--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:49--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:49--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:40:49.373 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:40:49.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:49.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:49.440 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:40:49.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:40:49.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:40:49.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:40:49.441 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:40:49.441 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:49.506 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:49.507 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:40:49.507 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:49.507 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:49.507 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:49.508 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:40:49.508 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:40:49.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:49.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel11638-02.pb -o orderer.example.network:7050 -c testchannel11638-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:49.684 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:49.686 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:40:49.694 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:40:49.694 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel11638-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:50.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:50.151 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel11638-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel11638-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:40:51.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:51.312 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:40:51.313 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:40:51.313 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel11638-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:40:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filee357B0 _testchannel11638-02_
[1;32mOK: The channel <testchannel11638-02> exists and visible to alpha[m[m[m
Step 22_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel11638-02 sberbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel11638-02 sberbank
[1;34m
Verifing if the <testchannel11638-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:40:52.118 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:52.121 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filepJfvwK _null_
[1;32mOK: The channel <testchannel11638-02> does not exist and in not visible to sberbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel11638-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel11638-02 sberbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel11638-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel11638-02 sberbank
[1;36m
Creating the <testchannel11638-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel11638-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel11638-02[m[m[m
example.network

Create channel sberbank testchannel11638-02
--2020-03-24 15:40:54--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:54--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:54--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:54--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:40:54.887 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:40:54.955 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:55.044 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:55.045 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:40:55.045 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:40:55.045 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:40:55.045 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:40:55.046 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:40:55.046 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:40:55.128 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel11638-02.pb -o orderer.example.network:7050 -c testchannel11638-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:55.221 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:55.223 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel11638-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel11638-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel11638-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:40:55.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel11638-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:40:56.936 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:40:56.939 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGYLfMK _null_
[1;32mOK: The channel <testchannel11638-02> does not exist and in not visible to sberbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel11638 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel11638 sberbank alpha
Step: 25_cli Test 'Add <alpha> to channel <testchannel11638> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11638 sberbank alpha VERIFY: test-channel-add-org.sh testchannel11638 sberbank alpha
[1;36m
Add alpha to the testchannel11638 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel11638 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11638 alpha 7051 example.network[m[m[m
--2020-03-24 15:40:59--  http://www.alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:59--  http://www.alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:40:59--  http://www.alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel11638, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11638.pb -o orderer.example.network:7050 -c testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:00.064 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:00.067 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:41:00.069 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:41:00.069 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel11638
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:00.485 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:00.498 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel11638 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel11638 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:41:01.623 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:01.628 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-24 15:41:01.630 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-24 15:41:01.630 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filecQQMtG _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel11638>.[m[m[m
Step 25_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel11638-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel11638-02 alpha sberbank
Step: 26_cli Test 'Add <sberbank> to channel <testchannel11638-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel11638-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel11638-02 alpha sberbank
[1;36m
Add sberbank to the testchannel11638-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel11638-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel11638-02 sberbank 7051 example.network[m[m[m
--2020-03-24 15:41:04--  http://www.sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:04--  http://www.sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:04--  http://www.sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel11638-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel11638-02.pb -o orderer.example.network:7050 -c testchannel11638-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:04.287 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:04.289 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:41:04.290 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:41:04.291 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel11638-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel11638-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:04.690 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:04.704 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel11638-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel11638-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:41:05.767 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:05.770 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-24 15:41:05.772 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-24 15:41:05.772 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileYttMX4 _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel11638-02>.[m[m[m
Step 26_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel11638 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel11638 sberbank
Step: 27_cli Test 'Join <sberbank> to the <testchannel11638> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel11638 sberbank VERIFY: test-join-channel.sh testchannel11638 sberbank
[1;36m
Joining  sberbank to the testchannel11638 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel11638
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel11638[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=afdb5ea95c2a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:41:08--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:08--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:08--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:08--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel11638
Execute: channel fetch 0 crypto-config/configtx/testchannel11638.pb -o orderer.example.network:7050 -c testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:08.590 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:08.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:41:08.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:08.838 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel11638 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel11638> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:41:10.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel11638> channel[m[m[m
Step 27_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel11638 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel11638 alpha
Step: 28_cli Test 'Join <alpha> to the <testchannel11638> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel11638 alpha VERIFY: test-join-channel.sh testchannel11638 alpha
[1;36m
Joining  alpha to the testchannel11638 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel11638
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel11638[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=70e425696523
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:41:12--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:12--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:12--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:12--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel11638
Execute: channel fetch 0 crypto-config/configtx/testchannel11638.pb -o orderer.example.network:7050 -c testchannel11638 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:12.567 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:12.570 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:41:12.643 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:12.811 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel11638 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel11638> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:41:13.948 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel11638> channel[m[m[m
Step 28_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel11638-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel11638-02 sberbank
Step: 29_cli Test 'Join <sberbank> to the <testchannel11638-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel11638-02 sberbank VERIFY: test-join-channel.sh testchannel11638-02 sberbank
[1;36m
Joining  sberbank to the testchannel11638-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel11638-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel11638-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b93863cf11cf
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:41:16--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:16--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:16--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:16--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel11638-02
Execute: channel fetch 0 crypto-config/configtx/testchannel11638-02.pb -o orderer.example.network:7050 -c testchannel11638-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:16.691 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:16.696 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:41:16.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:16.915 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel11638-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel11638-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:41:18.117 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel11638-02> channel[m[m[m
Step 29_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel11638-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel11638-02 alpha
Step: 30_cli Test 'Join <alpha> to the <testchannel11638-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel11638-02 alpha VERIFY: test-join-channel.sh testchannel11638-02 alpha
[1;36m
Joining  alpha to the testchannel11638-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel11638-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel11638-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=7716af98d7b6
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:41:20--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:20--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:21--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:41:21--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel11638-02
Execute: channel fetch 0 crypto-config/configtx/testchannel11638-02.pb -o orderer.example.network:7050 -c testchannel11638-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:41:21.092 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:21.094 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:41:21.174 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:41:21.324 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel11638-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel11638-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:41:22.516 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel11638-02> channel[m[m[m
Step 30_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel11638 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel11638 sberbank
Step: 31_cli Test 'Install test chaincode by <sberbank> to the <testchannel11638> channel'
RUNTEST: chaincode-install.sh testchannel11638 sberbank VERIFY: test-chaincode-installed.sh testchannel11638 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11638 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel11638[m[m[m
[1;36m
Installing testchannel11638  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel11638'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=32723bbe243b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel11638  /opt/chaincode/node/reference_testchannel11638 node 1.0
[34m2020-03-24 15:41:27.873 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:41:27.873 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-24 15:41:28.198 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel11638' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638, Id: 0112b3026aac87cac76dcd1c6c2d10b104f59cab5ff99ca038a1dcd8bd3e1de7
Name: reference_testchannel13790, Version: 1.0, Path: /tmp/reference_testchannel13790, Id: 1af28239cba804e369cceac84559a0c5d9563190fcf76dbd0896d96234f3a482
Name: reference_testchannel152, Version: 1.0, Path: /tmp/reference_testchannel152, Id: 8b29d85c1f7eb4c0d80377b98b8c3fd016a036e0a03e7878b4ed3ed78d4d41be
Name: reference_testchannel23067, Version: 1.0, Path: /tmp/reference_testchannel23067, Id: ba800a19aec99190b4dbe09697d7ba3b461e454e901a3214dad98bc901fff7e4
Name: reference_testchannel251, Version: 1.0, Path: /tmp/reference_testchannel251, Id: 908888cf91ccbff9ae11c34f88c72bd26a10840ed05e7b2dff0a7f9e76fd4269
Name: reference_testchannel25668, Version: 1.0, Path: /tmp/reference_testchannel25668, Id: 1f50e0954cdcc4e3cbfc53b0592df800f1c38f8dac019af2c00da1a67e16b4d6
Name: reference_testchannel32122, Version: 1.0, Path: /tmp/reference_testchannel32122, Id: 90d0f70053d3513124730a63bf253e852b0d2f66a18aec7807d96efe47cc4bfc
reference_testchannel11638
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 31_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel11638-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel11638-02 alpha
Step: 32_cli Test 'Install test chaincode by <alpha> to the <testchannel11638-02> channel'
RUNTEST: chaincode-install.sh testchannel11638-02 alpha VERIFY: test-chaincode-installed.sh testchannel11638-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel11638-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel11638-02[m[m[m
[1;36m
Installing testchannel11638-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel11638-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=0b44ac9dc5e3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel11638-02  /opt/chaincode/node/reference_testchannel11638-02 node 1.0
[34m2020-03-24 15:41:37.233 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:41:37.233 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-24 15:41:37.365 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel11638-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638-02, Id: 0035d8a02fa0e80469f210085159dfec8336d9584c4f0d023be9cb045816d297
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
reference_testchannel11638-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 32_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel11638 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel11638 sberbank
Step: 33_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel11638> channel'
RUNTEST: chaincode-instantiate.sh testchannel11638 sberbank VERIFY: test-chaincode-instantiated.sh testchannel11638 sberbank
[1;36m
Instantiate test chaincode in testchannel11638 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel11638 reference_testchannel11638[m[m[m
Instantiate chaincode testchannel11638 reference_testchannel11638 '[]' 1.0  
[34m2020-03-24 15:41:43.425 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:41:43.425 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel11638 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel11638 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel11638' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel11638:
Name: reference_testchannel11638, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638, Escc: escc, Vscc: vscc
reference_testchannel11638
[1;32mOK: The test chaincode installed in testchannel11638 channel by sberbank org[m[m[m
Step 33_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel11638 sberbank reference_testchannel11638 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel11638 sberbank reference_testchannel11638
Step: 34_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel11638 sberbank reference_testchannel11638 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel11638 sberbank reference_testchannel11638
[1;36m
Invoke test chaincode on the <testchannel11638> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel11638 reference_testchannel11638 '["put","testchannel11638","testchannel11638"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel11638 reference_testchannel11638 '["put","testchannel11638","testchannel11638"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode invoke -n reference_testchannel11638 -C testchannel11638 -c '{"Args":["put","testchannel11638","testchannel11638"]}'
[34m2020-03-24 15:42:31.667 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel11638) orderer endpoint: orderer.example.network:7050
[34m2020-03-24 15:42:31.716 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel11638 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel11638> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel11638 reference_testchannel11638 '["range","testchannel11638"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel11638 reference_testchannel11638 '["range","testchannel11638"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel11638 -C testchannel11638 -c '{"Args":["range","testchannel11638"]}'
[{"key":"testchannel11638","value":"testchannel11638"}]
[1;32mOK: Chaincode reference_testchannel11638 invoked sucsessfuly.[m[m[m
Step 34_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29641 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29641 sverbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel29641 sverbank VERIFY: test-channel-exists.sh testchannel29641 sverbank
[1;36mCreating testchannel29641 channel in sverbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29641> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileGrZZir __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 1_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29641 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel29641 alpha
[1;34m
Verifing if the <testchannel29641> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:02.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:43:02.151 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileTr1n0L _null_
[1;32mOK: The channel <testchannel29641> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel29641 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel29641 sverbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel29641 sverbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel29641 sverbank
[1;36mCreating ^^^^^^testchannel29641 channel in sverbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel29641> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileHESQEE __
[1;32mOK: The channel <^^^^^^testchannel29641> does not exist and in not visible to sverbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29641 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29641 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29641 alpha VERIFY: test-channel-does-not-exist.sh testchannel29641 alpha
[1;36mCreating testchannel29641 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4M30.Pmh_FUEbM3sEcaGuZxk0CWfFJsaX184huJgJAz6GCIA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4M30.Pmh_FUEbM3sEcaGuZxk0CWfFJsaX184huJgJAz6GCIA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4M30.Pmh_FUEbM3sEcaGuZxk0CWfFJsaX184huJgJAz6GCIA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel29641","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4M30.Pmh_FUEbM3sEcaGuZxk0CWfFJsaX184huJgJAz6GCIA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel29641> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29641> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:05.484 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:43:05.487 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:43:05.489 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:43:05.489 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29641",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:43:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filetHdbgi _testchannel29641_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 4_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29641-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel29641-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel29641-02 alpha VERIFY: test-channel-exists.sh testchannel29641-02 alpha
[1;36mCreating testchannel29641-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4NX0.t4KeAOqvDtCU84md7aEkV0cRI7MiealXDkPTO1DdI7I"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4NX0.t4KeAOqvDtCU84md7aEkV0cRI7MiealXDkPTO1DdI7I", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4NX0.t4KeAOqvDtCU84md7aEkV0cRI7MiealXDkPTO1DdI7I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel29641-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU4NX0.t4KeAOqvDtCU84md7aEkV0cRI7MiealXDkPTO1DdI7I
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel29641-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel29641-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:08.552 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:43:08.554 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:43:08.556 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:43:08.556 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel29641-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:43:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileInQz6l _testchannel29641-02_
[1;32mOK: The channel <testchannel29641-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29641-02 sverbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel29641-02 sverbank
[1;34m
Verifing if the <testchannel29641-02> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileOFEx0g __
[1;32mOK: The channel <testchannel29641-02> does not exist and in not visible to sverbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel29641-02 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel29641-02 sverbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel29641-02 sverbank VERIFY: test-channel-does-not-exist.sh testchannel29641-02 sverbank
[1;36mCreating testchannel29641-02 channel in sverbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel29641-02> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileFH7bvP __
[1;32mOK: The channel <testchannel29641-02> does not exist and in not visible to sverbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel29641 sverbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29641 sverbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel29641> created by the <sverbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29641 sverbank alpha VERIFY: test-channel-add-org.sh testchannel29641 sverbank alpha
[1;36mAdd alpha to the testchannel29641 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel29641 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel29641 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileyIp3Qk __

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel29641-02 alpha sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel29641-02 alpha sverbank
Step: 9_api Test 'Add <sverbank> to channel <testchannel29641-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel29641-02 alpha sverbank VERIFY: test-channel-add-org.sh testchannel29641-02 alpha sverbank
[1;36mAdd sverbank to the testchannel29641-02 channel using API...[m[m[m
[1;36mAdd sverbank to the testchannel29641-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5MH0.YoUSVn9eMIDLWloG1plOTgvxieKR601t5HlJOBchAzM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5MH0.YoUSVn9eMIDLWloG1plOTgvxieKR601t5HlJOBchAzM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5MH0.YoUSVn9eMIDLWloG1plOTgvxieKR601t5HlJOBchAzM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel29641-02/orgs {"orgId":"sverbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5MH0.YoUSVn9eMIDLWloG1plOTgvxieKR601t5HlJOBchAzM
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sverbank> added to testchannel29641-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:11.939 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:43:11.941 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:43:11.942 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:43:11.943 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/fileUzvwuZ _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel29641 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29641 sverbank
Step: 10_api Test 'Join <sverbank> to the <testchannel29641> chanel created by the <sverbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29641 sverbank VERIFY: test-join-channel.sh testchannel29641 sverbank
[1;36mJoining sverbank.example.network to the testchannel29641 channel using API...[m[m[m
[1;36mJoining sverbank.example.network to the testchannel29641 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sverbank has joined the <testchannel29641> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 10_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel29641 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29641 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel29641> chanel created by the <sverbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29641 alpha VERIFY: test-join-channel.sh testchannel29641 alpha
[1;36mJoining alpha.example.network to the testchannel29641 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel29641 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5Mn0.A0adY2h00WqynZpo_jME-YD7Fg-wiV6_yBXQc3ZAvRw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5Mn0.A0adY2h00WqynZpo_jME-YD7Fg-wiV6_yBXQc3ZAvRw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5Mn0.A0adY2h00WqynZpo_jME-YD7Fg-wiV6_yBXQc3ZAvRw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel29641 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5Mn0.A0adY2h00WqynZpo_jME-YD7Fg-wiV6_yBXQc3ZAvRw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel29641> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:14.119 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel29641> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel29641-02 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29641-02 sverbank
Step: 12_api Test 'Join <sverbank> to the <testchannel29641-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29641-02 sverbank VERIFY: test-join-channel.sh testchannel29641-02 sverbank
[1;36mJoining sverbank.example.network to the testchannel29641-02 channel using API...[m[m[m
[1;36mJoining sverbank.example.network to the testchannel29641-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sverbank has joined the <testchannel29641-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 12_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel29641-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel29641-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel29641-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel29641-02 alpha VERIFY: test-join-channel.sh testchannel29641-02 alpha
[1;36mJoining alpha.example.network to the testchannel29641-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel29641-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5NH0.URPz_G0vH-80n7orXZetOwX-2QlmqnFv97YDvhBbuTA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5NH0.URPz_G0vH-80n7orXZetOwX-2QlmqnFv97YDvhBbuTA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5NH0.URPz_G0vH-80n7orXZetOwX-2QlmqnFv97YDvhBbuTA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel29641-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5NH0.URPz_G0vH-80n7orXZetOwX-2QlmqnFv97YDvhBbuTA
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel29641-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:43:16.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel29641-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel29641 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel29641 sverbank
Step: 14_api Test 'Install test chaincode by <sverbank> to the <testchannel29641> channel'
RUNTEST: chaincode-install.sh testchannel29641 sverbank VERIFY: test-chaincode-installed.sh testchannel29641 sverbank
[1;36m
Installing test chaincode in sverbank...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode installed in sverbank org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel29641' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
[31m2020-03-24 15:43:19.005 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel29641-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel29641-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel29641-02> channel'
RUNTEST: chaincode-install.sh testchannel29641-02 alpha VERIFY: test-chaincode-installed.sh testchannel29641-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5OX0.Aytt8YtWhVDSC4wDUeufsQmhWPZGCtJ7hu76uetQNL4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5OX0.Aytt8YtWhVDSC4wDUeufsQmhWPZGCtJ7hu76uetQNL4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDU5OX0.Aytt8YtWhVDSC4wDUeufsQmhWPZGCtJ7hu76uetQNL4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel29641-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel29641-02/index.js (deflated 27%)
adding: reference_testchannel29641-02/package.json (deflated 41%)
adding: reference_testchannel29641-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 24 18:43 /tmp/reference_testchannel29641-02.zip
/tmp/reference_testchannel29641-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel29641-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel29641-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638-02, Id: 0035d8a02fa0e80469f210085159dfec8336d9584c4f0d023be9cb045816d297
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
Name: reference_testchannel29641-02, Version: 1.0, Path: /tmp/reference_testchannel29641-02, Id: ee1468faa491ee9bad568553dd93432fff2c8cae18a879a0df288e7134c465a7
reference_testchannel29641-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel29641 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel29641 sverbank
Step: 16_api Test 'Instantiate test chaincode by <sverbank> to the <testchannel29641> channel'
RUNTEST: chaincode-instantiate.sh testchannel29641 sverbank VERIFY: test-chaincode-instantiated.sh testchannel29641 sverbank
[1;36m
Installing test chaincode in sverbank...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel29641 channel by sverbank org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel29641' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[31m2020-03-24 15:43:26.178 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_api: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel29641 sverbank reference_testchannel29641 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel29641 sverbank reference_testchannel29641
Step: 17_api Test 'Test chaincode invocation and query:  <sverbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel29641 sverbank reference_testchannel29641 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel29641 sverbank reference_testchannel29641
[1;36m
Invoke test chaincode on the <testchannel29641> channel'[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel29641> channel'[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./chaincode-query.sh testchannel29641 reference_testchannel29641 '["range","testchannel29641"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel29641 reference_testchannel29641 '["range","testchannel29641"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051 peer chaincode query -n reference_testchannel29641 -C testchannel29641 -c '{"Args":["range","testchannel29641"]}'
[31m2020-03-24 15:43:59.718 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21222 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21222 sverbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21222 sverbank VERIFY: test-channel-exists.sh testchannel21222 sverbank
[1;36m
Creating the <testchannel21222> channel for sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel21222
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21222[m[m[m
example.network

Create channel sverbank testchannel21222
--2020-03-24 15:44:02--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:02--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:02--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:02--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:44:02.712 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:44:02.792 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:02.865 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:02.866 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[35m2020-03-24 15:44:02.866 UTC [common.tools.configtxgen] main -> FATA 012[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create application group: failed to create application org: 1 - Error loading MSP configuration for org sverbank: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: stat /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: no such file or directory
[31m2020-03-24 15:44:02.928 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel21222.pb -o orderer.example.network:7050 -c testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:03.022 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel21222.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21222.json: No such file or directory
>> Prepare config update from sverbank for channel testchannel21222
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sverbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:03.248 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21222> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileZnkjtV __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21222 alpha
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21222 alpha
[1;34m
Verifing if the <testchannel21222> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:04.729 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:04.731 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file6hDLm4 _null_
[1;32mOK: The channel <testchannel21222> does not exist and in not visible to alpha[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel21222 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel21222 sverbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel21222 sverbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel21222 sverbank
[1;36m
Creating the <^^^^^^testchannel21222> channel for sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh ^^^^^^testchannel21222
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel21222[m[m[m
example.network

Create channel sverbank ^^^^^^testchannel21222
--2020-03-24 15:44:07--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:07--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:07--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:07--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:44:07.461 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:44:07.543 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:07.630 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:07.631 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[35m2020-03-24 15:44:07.631 UTC [common.tools.configtxgen] main -> FATA 012[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create application group: failed to create application org: 1 - Error loading MSP configuration for org sverbank: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: stat /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: no such file or directory
[31m2020-03-24 15:44:07.687 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel21222.pb -o orderer.example.network:7050 -c ^^^^^^testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:07.751 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel21222.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel21222.json: No such file or directory
>> Prepare config update from sverbank for channel ^^^^^^testchannel21222
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sverbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel21222 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:07.962 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel21222> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileEYd1l6 __
[1;32mOK: The channel <^^^^^^testchannel21222> does not exist and in not visible to sverbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21222 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21222 alpha
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21222 alpha VERIFY: test-channel-does-not-exist.sh testchannel21222 alpha
[1;36m
Creating the <testchannel21222> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel21222
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21222[m[m[m
example.network

Create channel alpha testchannel21222
--2020-03-24 15:44:11--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:11--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:11--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:11--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:44:11.839 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:44:11.932 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:12.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:12.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:12.017 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:44:12.017 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:12.017 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:44:12.018 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:12.018 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:12.018 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:44:12.018 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:44:12.019 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:12.019 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:12.019 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:44:12.019 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:44:12.019 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:44:12.115 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:12.155 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21222.pb -o orderer.example.network:7050 -c testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:12.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:12.260 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:44:12.262 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:44:12.262 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel21222
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:12.689 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:12.701 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21222> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21222> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:14.075 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:14.077 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:44:14.079 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:44:14.080 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21222",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:44:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileZuuSkQ _testchannel21222_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 21_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21222-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21222-02 alpha
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21222-02 alpha VERIFY: test-channel-exists.sh testchannel21222-02 alpha
[1;36m
Creating the <testchannel21222-02> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel21222-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21222-02[m[m[m
example.network

Create channel alpha testchannel21222-02
--2020-03-24 15:44:16--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:16--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:16--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:16--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:44:16.780 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:44:16.858 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:16.924 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:16.925 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:44:16.926 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:44:16.926 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:16.926 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:16.926 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:44:16.927 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:44:16.927 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:44:17.016 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:17.060 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel21222-02.pb -o orderer.example.network:7050 -c testchannel21222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:17.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:17.158 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:44:17.159 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:44:17.160 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel21222-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:17.654 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:17.671 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel21222-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21222-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:19.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:19.300 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:44:19.304 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:44:19.305 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel21222-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:44:17Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file8yzpnk _testchannel21222-02_
[1;32mOK: The channel <testchannel21222-02> exists and visible to alpha[m[m[m
Step 22_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21222-02 sverbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel21222-02 sverbank
[1;34m
Verifing if the <testchannel21222-02> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileUH4eZg __
[1;32mOK: The channel <testchannel21222-02> does not exist and in not visible to sverbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel21222-02 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21222-02 sverbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21222-02 sverbank VERIFY: test-channel-does-not-exist.sh testchannel21222-02 sverbank
[1;36m
Creating the <testchannel21222-02> channel for sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel21222-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel21222-02[m[m[m
example.network

Create channel sverbank testchannel21222-02
--2020-03-24 15:44:22--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:22--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:22--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:22--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:44:22.472 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:44:22.552 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:44:22.623 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:44:22.624 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:44:22.624 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[35m2020-03-24 15:44:22.624 UTC [common.tools.configtxgen] main -> FATA 012[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create application group: failed to create application org: 1 - Error loading MSP configuration for org sverbank: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: stat /etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts: no such file or directory
[31m2020-03-24 15:44:22.682 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel21222-02.pb -o orderer.example.network:7050 -c testchannel21222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:22.754 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel21222-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21222-02.json: No such file or directory
>> Prepare config update from sverbank for channel testchannel21222-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sverbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:22.971 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21222-02> channel exists in sverbank.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileVdNI2u __
[1;32mOK: The channel <testchannel21222-02> does not exist and in not visible to sverbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel21222 sverbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21222 sverbank alpha
Step: 25_cli Test 'Add <alpha> to channel <testchannel21222> created by the <sverbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21222 sverbank alpha VERIFY: test-channel-add-org.sh testchannel21222 sverbank alpha
[1;36m
Add alpha to the testchannel21222 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-add-org.sh testchannel21222 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21222 alpha 7051 example.network[m[m[m
--2020-03-24 15:44:26--  http://www.alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:26--  http://www.alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:26--  http://www.alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel21222, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel21222.pb -o orderer.example.network:7050 -c testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:26.496 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel21222.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel21222.json: No such file or directory
>> Prepare config update from alpha for channel testchannel21222
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:26.770 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel21222 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
cat /tmp/fileyfw3Ux __

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 25_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel21222-02 alpha sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21222-02 alpha sverbank
Step: 26_cli Test 'Add <sverbank> to channel <testchannel21222-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21222-02 alpha sverbank VERIFY: test-channel-add-org.sh testchannel21222-02 alpha sverbank
[1;36m
Add sverbank to the testchannel21222-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel21222-02 sverbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel21222-02 sverbank 7051 example.network[m[m[m
--2020-03-24 15:44:30--  http://www.sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem
Resolving www.sverbank.example.network (www.sverbank.example.network)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.sverbank.example.networkâ€™
--2020-03-24 15:44:30--  http://www.sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem
Resolving www.sverbank.example.network (www.sverbank.example.network)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.sverbank.example.networkâ€™
--2020-03-24 15:44:30--  http://www.sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem
Resolving www.sverbank.example.network (www.sverbank.example.network)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.sverbank.example.networkâ€™
>> Add new org 'sverbank' to channel testchannel21222-02, anchor peer at port 7051
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/admincerts/Admin@sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/cacerts/ca.sverbank.example.network-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sverbank.example.network/msp/tlscacerts/tlsca.sverbank.example.network-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel21222-02.pb -o orderer.example.network:7050 -c testchannel21222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:30.648 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:30.651 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:44:30.653 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:44:30.653 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sverbank for channel testchannel21222-02
>> sverbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel21222-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:31.093 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel21222-02': initializing channelconfig failed: could not create channel Application sub-group config: setting up the MSP manager failed: getCertFromPem error: could not decode pem bytes [[]]
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sverbank> added to testchannel21222-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:32.231 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:32.234 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:44:32.236 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:44:32.236 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
null
cat /tmp/filemZyhfX _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 26_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21222 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21222 sverbank
Step: 27_cli Test 'Join <sverbank> to the <testchannel21222> chanel created by the <sverbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21222 sverbank VERIFY: test-join-channel.sh testchannel21222 sverbank
[1;36m
Joining  sverbank to the testchannel21222 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel21222
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21222[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051
CORE_PEER_LOCALMSPID=sverbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9c260cb88e16
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sverbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:44:35--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:35--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:35--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:35--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sverbank to channel testchannel21222
Execute: channel fetch 0 crypto-config/configtx/testchannel21222.pb -o orderer.example.network:7050 -c testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:35.099 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[31m2020-03-24 15:44:35.161 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sverbank has joined the <testchannel21222> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21222 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21222 alpha
Step: 28_cli Test 'Join <alpha> to the <testchannel21222> chanel created by the <sverbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21222 alpha VERIFY: test-join-channel.sh testchannel21222 alpha
[1;36m
Joining  alpha to the testchannel21222 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel21222
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21222[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b97fdc509312
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:44:38--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:38--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:38--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:38--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel21222
Execute: channel fetch 0 crypto-config/configtx/testchannel21222.pb -o orderer.example.network:7050 -c testchannel21222 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:38.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:38.528 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:44:38.596 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:38.748 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel21222 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel21222> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:40.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel21222> channel[m[m[m
Step 28_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21222-02 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21222-02 sverbank
Step: 29_cli Test 'Join <sverbank> to the <testchannel21222-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21222-02 sverbank VERIFY: test-join-channel.sh testchannel21222-02 sverbank
[1;36m
Joining  sverbank to the testchannel21222-02 channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-join.sh testchannel21222-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21222-02[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051
CORE_PEER_LOCALMSPID=sverbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=f43852938f50
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sverbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:44:42--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:42--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:42--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:42--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sverbank to channel testchannel21222-02
Execute: channel fetch 0 crypto-config/configtx/testchannel21222-02.pb -o orderer.example.network:7050 -c testchannel21222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[31m2020-03-24 15:44:42.786 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[31m2020-03-24 15:44:42.851 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sverbank has joined the <testchannel21222-02> channel...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sverbank.example.network
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_cli: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel21222-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21222-02 alpha
Step: 30_cli Test 'Join <alpha> to the <testchannel21222-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21222-02 alpha VERIFY: test-join-channel.sh testchannel21222-02 alpha
[1;36m
Joining  alpha to the testchannel21222-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel21222-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel21222-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4b0d9e822776
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:44:46--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:46--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:46--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:44:46--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel21222-02
Execute: channel fetch 0 crypto-config/configtx/testchannel21222-02.pb -o orderer.example.network:7050 -c testchannel21222-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:44:46.270 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:46.274 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:44:46.351 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:44:46.498 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel21222-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel21222-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:44:47.644 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel21222-02> channel[m[m[m
Step 30_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel21222 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21222 sverbank
Step: 31_cli Test 'Install test chaincode by <sverbank> to the <testchannel21222> channel'
RUNTEST: chaincode-install.sh testchannel21222 sverbank VERIFY: test-chaincode-installed.sh testchannel21222 sverbank
[1;36m
Installing test chaincode in sverbank...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;36m
Copying test chaincode in sverbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21222 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel21222[m[m[m
[1;36m
Installing testchannel21222  chaincode in sverbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel21222'[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051
CORE_PEER_LOCALMSPID=sverbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/peers/peer0.sverbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=661d96f9fa27
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sverbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel21222  /opt/chaincode/node/reference_testchannel21222 node 1.0
[31m2020-03-24 15:44:53.678 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in sverbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sverbank org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21222' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
[31m2020-03-24 15:44:56.868 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel21222-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21222-02 alpha
Step: 32_cli Test 'Install test chaincode by <alpha> to the <testchannel21222-02> channel'
RUNTEST: chaincode-install.sh testchannel21222-02 alpha VERIFY: test-chaincode-installed.sh testchannel21222-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel21222-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel21222-02[m[m[m
[1;36m
Installing testchannel21222-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel21222-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=cd395ddd4272
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel21222-02  /opt/chaincode/node/reference_testchannel21222-02 node 1.0
[34m2020-03-24 15:45:02.851 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:45:02.853 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-24 15:45:03.066 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21222-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638-02, Id: 0035d8a02fa0e80469f210085159dfec8336d9584c4f0d023be9cb045816d297
Name: reference_testchannel21222-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel21222-02, Id: 77c0b732cf649070d872599cfade5eab919ce0461d9edf9c240e38de2d2ef96c
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
Name: reference_testchannel29641-02, Version: 1.0, Path: /tmp/reference_testchannel29641-02, Id: ee1468faa491ee9bad568553dd93432fff2c8cae18a879a0df288e7134c465a7
reference_testchannel21222-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 32_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel21222 sverbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel21222 sverbank
Step: 33_cli Test 'Instantiate test chaincode by <sverbank> to the <testchannel21222> channel'
RUNTEST: chaincode-instantiate.sh testchannel21222 sverbank VERIFY: test-chaincode-instantiated.sh testchannel21222 sverbank
[1;36m
Instantiate test chaincode in testchannel21222 in sverbank...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel21222 reference_testchannel21222[m[m[m
Instantiate chaincode testchannel21222 reference_testchannel21222 '[]' 1.0  
[31m2020-03-24 15:45:09.468 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel21222 channel by sverbank org...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel21222' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
[31m2020-03-24 15:45:12.666 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel21222 sverbank reference_testchannel21222 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel21222 sverbank reference_testchannel21222
Step: 34_cli Test 'Test chaincode invocation and query:  <sverbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel21222 sverbank reference_testchannel21222 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel21222 sverbank reference_testchannel21222
[1;36m
Invoke test chaincode on the <testchannel21222> channel'[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./chaincode-invoke.sh testchannel21222 reference_testchannel21222 '["put","testchannel21222","testchannel21222"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel21222 reference_testchannel21222 '["put","testchannel21222","testchannel21222"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051 peer chaincode invoke -n reference_testchannel21222 -C testchannel21222 -c '{"Args":["put","testchannel21222","testchannel21222"]}'
[31m2020-03-24 15:45:30.986 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel21222> channel'[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./chaincode-query.sh testchannel21222 reference_testchannel21222 '["range","testchannel21222"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel21222 reference_testchannel21222 '["range","testchannel21222"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sverbank.example.network:7051 peer chaincode query -n reference_testchannel21222 -C testchannel21222 -c '{"Args":["range","testchannel21222"]}'
[31m2020-03-24 15:45:49.641 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sverbank.example.network/users/Admin@sverbank.example.network/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 34_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel12917 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12917 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel12917 sberbank VERIFY: test-channel-exists.sh testchannel12917 sberbank
[1;36mCreating testchannel12917 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkxOH0.isCIO4J5S21dXdk_ab1ztXS-fvpQL6WvRdVLCJsRTRk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkxOH0.isCIO4J5S21dXdk_ab1ztXS-fvpQL6WvRdVLCJsRTRk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkxOH0.isCIO4J5S21dXdk_ab1ztXS-fvpQL6WvRdVLCJsRTRk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel12917","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkxOH0.isCIO4J5S21dXdk_ab1ztXS-fvpQL6WvRdVLCJsRTRk
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel12917> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12917> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:40.954 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:40.957 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:48:40.966 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:48:40.967 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel12917",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:48:39Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileLOtGr0 _testchannel12917_
[1;32mOK: The channel <testchannel12917> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12917 alfa
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel12917 alfa
[1;34m
Verifing if the <testchannel12917> channel exists in alfa.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alfa.example.network
cat /tmp/fileVxy8fL __
[1;32mOK: The channel <testchannel12917> does not exist and in not visible to alfa[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel12917 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel12917 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel12917 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel12917 sberbank
[1;36mCreating ^^^^^^testchannel12917 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyMX0.agjazhi6ppIUcQP8IaQhYToC8kKB-N8_yV9XyUsnUKk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyMX0.agjazhi6ppIUcQP8IaQhYToC8kKB-N8_yV9XyUsnUKk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyMX0.agjazhi6ppIUcQP8IaQhYToC8kKB-N8_yV9XyUsnUKk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel12917","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyMX0.agjazhi6ppIUcQP8IaQhYToC8kKB-N8_yV9XyUsnUKk
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel12917\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel12917\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel12917\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel12917> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:43.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:43.560 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileLNIocI _null_
[1;32mOK: The channel <^^^^^^testchannel12917> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel12917 alfa ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12917 alfa
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12917 alfa VERIFY: test-channel-does-not-exist.sh testchannel12917 alfa
[1;36mCreating testchannel12917 channel in alfa.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12917> channel exists in alfa.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alfa.example.network
cat /tmp/filePkB5JG __
[1;32mOK: The channel <testchannel12917> does not exist and in not visible to alfa[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel12917-02 alfa ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel12917-02 alfa
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel12917-02 alfa VERIFY: test-channel-exists.sh testchannel12917-02 alfa
[1;36mCreating testchannel12917-02 channel in alfa.example.network using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel12917-02> channel exists in alfa.example.network...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alfa.example.network
cat /tmp/filepsPOAX __
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12917-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel12917-02 sberbank
[1;34m
Verifing if the <testchannel12917-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:44.952 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:44.954 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileWUrtQa _null_
[1;32mOK: The channel <testchannel12917-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel12917-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel12917-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel12917-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel12917-02 sberbank
[1;36mCreating testchannel12917-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyNX0.V84FxzDrD9jzsSboPplu6oVQLHP4JR3hxLYYh5EjxmM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyNX0.V84FxzDrD9jzsSboPplu6oVQLHP4JR3hxLYYh5EjxmM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyNX0.V84FxzDrD9jzsSboPplu6oVQLHP4JR3hxLYYh5EjxmM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel12917-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyNX0.V84FxzDrD9jzsSboPplu6oVQLHP4JR3hxLYYh5EjxmM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel12917-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel12917-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:47.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:47.708 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:48:47.709 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:48:47.709 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel12917-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:48:46Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filewR5XeX _testchannel12917-02_
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel12917 sberbank alfa ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12917 sberbank alfa
Step: 8_api Test 'Add <alfa> to channel <testchannel12917> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12917 sberbank alfa VERIFY: test-channel-add-org.sh testchannel12917 sberbank alfa
[1;36mAdd alfa to the testchannel12917 channel using API...[m[m[m
[1;36mAdd alfa to the testchannel12917 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyOH0.G8Jc1y7maYj_n8Flmxfcrzew24gG7SB18TND96wwxbo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyOH0.G8Jc1y7maYj_n8Flmxfcrzew24gG7SB18TND96wwxbo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyOH0.G8Jc1y7maYj_n8Flmxfcrzew24gG7SB18TND96wwxbo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel12917/orgs {"orgId":"alfa","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkyOH0.G8Jc1y7maYj_n8Flmxfcrzew24gG7SB18TND96wwxbo
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alfa.example.network/msp/admincerts/Admin@alfa.example.network-cert.pem'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alfa.example.network/msp/admincerts/Admin@alfa.example.network-cert.pem'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/peerOrganizations/alfa.example.network/msp/admincerts/Admin@alfa.example.network-cert.pem'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <alfa> added to testchannel12917 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:49.871 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:49.874 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:48:49.876 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:48:49.876 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
null
cat /tmp/files6D45c _null_
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel12917-02 alfa sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel12917-02 alfa sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel12917-02> created by the <alfa> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel12917-02 alfa sberbank VERIFY: test-channel-add-org.sh testchannel12917-02 alfa sberbank
[1;36mAdd sberbank to the testchannel12917-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel12917-02 channel using API...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
curlItGet http://127.0.0.1:/users {"username":"user4","password":"passw"}
curlGetIt got _ 000 _ result
body is empty, code is 000
Got JWT: 000
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel12917-02 ...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.alfa.example.network
cat /tmp/fileSLwMRj __

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 9_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel12917 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12917 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel12917> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12917 sberbank VERIFY: test-join-channel.sh testchannel12917 sberbank
[1;36mJoining sberbank.example.network to the testchannel12917 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel12917 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzMH0.zFKYzVeCwGhM4aKJRWqxw9mE7XdJzYLGbWh7J5dguXY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzMH0.zFKYzVeCwGhM4aKJRWqxw9mE7XdJzYLGbWh7J5dguXY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzMH0.zFKYzVeCwGhM4aKJRWqxw9mE7XdJzYLGbWh7J5dguXY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel12917 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzMH0.zFKYzVeCwGhM4aKJRWqxw9mE7XdJzYLGbWh7J5dguXY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel12917> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:51.767 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel12917> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel12917 alfa ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel12917 alfa
Step: 11_api Test 'Join <alfa> to the <testchannel12917> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel12917 alfa VERIFY: test-join-channel.sh testchannel12917 alfa
[1;36mJoining alfa.example.network to the testchannel12917 channel using API...[m[m[m
[1;36mJoining alfa.example.network to the testchannel12917 channel using API...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel489 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel489 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel489 sberbank VERIFY: test-channel-exists.sh testchannel489 sberbank
[1;36mCreating testchannel489 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzNn0.rhpwUw9PskHtw25jKBR0BIwRU08WFNhbELzMlRX-PqE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzNn0.rhpwUw9PskHtw25jKBR0BIwRU08WFNhbELzMlRX-PqE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzNn0.rhpwUw9PskHtw25jKBR0BIwRU08WFNhbELzMlRX-PqE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel489","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDkzNn0.rhpwUw9PskHtw25jKBR0BIwRU08WFNhbELzMlRX-PqE
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel489> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel489> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:48:58.950 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:58.952 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:48:58.954 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:48:58.954 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel489",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:48:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filei3Jm3M _testchannel489_
[1;32mOK: The channel <testchannel489> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel489 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel489 alpha
[1;34m
Verifing if the <testchannel489> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:48:59.841 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:48:59.844 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filegmS1DB _null_
[1;32mOK: The channel <testchannel489> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel489 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel489 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel489 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel489 sberbank
[1;36mCreating ^^^^^^testchannel489 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0MH0.oAEwDrb7ya3Lls5a96Zai0nPxTdtMHZdc1CV0wIOJzg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0MH0.oAEwDrb7ya3Lls5a96Zai0nPxTdtMHZdc1CV0wIOJzg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0MH0.oAEwDrb7ya3Lls5a96Zai0nPxTdtMHZdc1CV0wIOJzg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel489","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0MH0.oAEwDrb7ya3Lls5a96Zai0nPxTdtMHZdc1CV0wIOJzg
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel489\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel489\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel489\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel489> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:49:02.317 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:02.318 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filey3H6lo _null_
[1;32mOK: The channel <^^^^^^testchannel489> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel489 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel489 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel489 alpha VERIFY: test-channel-does-not-exist.sh testchannel489 alpha
[1;36mCreating testchannel489 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0Mn0.W4fSJDxND8_M1MDBiroGuJ0O2TcRSgaTNOKUmMLvqv8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0Mn0.W4fSJDxND8_M1MDBiroGuJ0O2TcRSgaTNOKUmMLvqv8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0Mn0.W4fSJDxND8_M1MDBiroGuJ0O2TcRSgaTNOKUmMLvqv8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel489","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0Mn0.W4fSJDxND8_M1MDBiroGuJ0O2TcRSgaTNOKUmMLvqv8
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel489> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:49:04.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:04.583 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filemN8wHD _null_
[1;32mOK: The channel <testchannel489> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel489-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel489-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel489-02 alpha VERIFY: test-channel-exists.sh testchannel489-02 alpha
[1;36mCreating testchannel489-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0NH0.ZNRTwFQpvcDT8Au5CXm7bZX3GJIhP3RI3y_1rC1hA5I"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0NH0.ZNRTwFQpvcDT8Au5CXm7bZX3GJIhP3RI3y_1rC1hA5I", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0NH0.ZNRTwFQpvcDT8Au5CXm7bZX3GJIhP3RI3y_1rC1hA5I
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel489-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0NH0.ZNRTwFQpvcDT8Au5CXm7bZX3GJIhP3RI3y_1rC1hA5I
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel489-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel489-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:49:07.144 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:07.148 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:49:07.150 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:49:07.150 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel489-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:49:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileXfwvCn _testchannel489-02_
[1;32mOK: The channel <testchannel489-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel489-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel489-02 sberbank
[1;34m
Verifing if the <testchannel489-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:49:07.796 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:07.799 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filey2MK95 _null_
[1;32mOK: The channel <testchannel489-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel489-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel489-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel489-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel489-02 sberbank
[1;36mCreating testchannel489-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0OH0.UI8FZwtVCERxquoJhX-dvnZps9fD8b1zzMfYIclOYJg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0OH0.UI8FZwtVCERxquoJhX-dvnZps9fD8b1zzMfYIclOYJg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0OH0.UI8FZwtVCERxquoJhX-dvnZps9fD8b1zzMfYIclOYJg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel489-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk0OH0.UI8FZwtVCERxquoJhX-dvnZps9fD8b1zzMfYIclOYJg
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel489-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:49:10.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:10.628 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filebUCaQZ _null_
[1;32mOK: The channel <testchannel489-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel489 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel489 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel489> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel489 sberbank alpha VERIFY: test-channel-add-org.sh testchannel489 sberbank alpha
[1;36mAdd alpha to the testchannel489 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel489 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1MX0.9fZpb_w495jsLIA60MGyMCid_1CsOAISgiOk4R7y6W4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1MX0.9fZpb_w495jsLIA60MGyMCid_1CsOAISgiOk4R7y6W4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1MX0.9fZpb_w495jsLIA60MGyMCid_1CsOAISgiOk4R7y6W4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel489/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1MX0.9fZpb_w495jsLIA60MGyMCid_1CsOAISgiOk4R7y6W4
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel489 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel489 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:49:13.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:13.227 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:49:13.228 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:49:13.228 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileanrZ6M _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel489>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel489-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel489-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel489-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel489-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel489-02 alpha sberbank
[1;36mAdd sberbank to the testchannel489-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel489-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1M30.YFswDSgBysNcIpXXzzpF9ga4oUFwt4QoxKMhKRMAEU4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1M30.YFswDSgBysNcIpXXzzpF9ga4oUFwt4QoxKMhKRMAEU4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1M30.YFswDSgBysNcIpXXzzpF9ga4oUFwt4QoxKMhKRMAEU4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel489-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1M30.YFswDSgBysNcIpXXzzpF9ga4oUFwt4QoxKMhKRMAEU4
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel489-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel489-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:49:15.808 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:49:15.811 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:49:15.813 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:49:15.813 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileeZlRmw _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel489-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel489 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel489 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel489> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel489 sberbank VERIFY: test-join-channel.sh testchannel489 sberbank
[1;36mJoining sberbank.example.network to the testchannel489 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel489 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1Nn0.fQrBrGiRxOf_u82CQD0oBfmnEQJ_0RtI_0BC5_AJ-Gc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1Nn0.fQrBrGiRxOf_u82CQD0oBfmnEQJ_0RtI_0BC5_AJ-Gc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1Nn0.fQrBrGiRxOf_u82CQD0oBfmnEQJ_0RtI_0BC5_AJ-Gc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel489 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1Nn0.fQrBrGiRxOf_u82CQD0oBfmnEQJ_0RtI_0BC5_AJ-Gc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel489> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:49:17.618 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel489> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel489 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel489 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel489> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel489 alpha VERIFY: test-join-channel.sh testchannel489 alpha
[1;36mJoining alpha.example.network to the testchannel489 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel489 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1OH0.dOxFeI8pzTrBQ0ZROcLZu1SOSJnPTzsCOw8etXJ27q8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1OH0.dOxFeI8pzTrBQ0ZROcLZu1SOSJnPTzsCOw8etXJ27q8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1OH0.dOxFeI8pzTrBQ0ZROcLZu1SOSJnPTzsCOw8etXJ27q8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel489 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NDk1OH0.dOxFeI8pzTrBQ0ZROcLZu1SOSJnPTzsCOw8etXJ27q8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel489> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:51:19.337 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel489> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel489-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel489-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel489-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel489-02 sberbank VERIFY: test-join-channel.sh testchannel489-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel489-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel489-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTA3OX0.4DIP3v3kjd5kmvzEoECWlKbzwWKKJtEv73o23ElUGOo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTA3OX0.4DIP3v3kjd5kmvzEoECWlKbzwWKKJtEv73o23ElUGOo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTA3OX0.4DIP3v3kjd5kmvzEoECWlKbzwWKKJtEv73o23ElUGOo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel489-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTA3OX0.4DIP3v3kjd5kmvzEoECWlKbzwWKKJtEv73o23ElUGOo
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel489-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:53:20.703 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel489-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel489-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel489-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel489-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel489-02 alpha VERIFY: test-join-channel.sh testchannel489-02 alpha
[1;36mJoining alpha.example.network to the testchannel489-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel489-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMX0.XKRf-f50wbXZh5VHREHI8_oA7ki_pTmc_r109JyITvk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMX0.XKRf-f50wbXZh5VHREHI8_oA7ki_pTmc_r109JyITvk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMX0.XKRf-f50wbXZh5VHREHI8_oA7ki_pTmc_r109JyITvk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel489-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMX0.XKRf-f50wbXZh5VHREHI8_oA7ki_pTmc_r109JyITvk
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel489-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:53:22.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel489-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel489 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel489 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel489> channel'
RUNTEST: chaincode-install.sh testchannel489 sberbank VERIFY: test-chaincode-installed.sh testchannel489 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMn0.Ib79NsGuHi_LGnojgKvNI77jl2j2oFHvhu-PMZytzHM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMn0.Ib79NsGuHi_LGnojgKvNI77jl2j2oFHvhu-PMZytzHM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwMn0.Ib79NsGuHi_LGnojgKvNI77jl2j2oFHvhu-PMZytzHM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel489/chaincode-reference.js (deflated 27%)
adding: reference_testchannel489/index.js (deflated 27%)
adding: reference_testchannel489/package.json (deflated 41%)
adding: reference_testchannel489/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12276 Ð¼Ð°Ñ€ 24 18:53 /tmp/reference_testchannel489.zip
/tmp/reference_testchannel489.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel489:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel489' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638, Id: 0112b3026aac87cac76dcd1c6c2d10b104f59cab5ff99ca038a1dcd8bd3e1de7
Name: reference_testchannel13790, Version: 1.0, Path: /tmp/reference_testchannel13790, Id: 1af28239cba804e369cceac84559a0c5d9563190fcf76dbd0896d96234f3a482
Name: reference_testchannel152, Version: 1.0, Path: /tmp/reference_testchannel152, Id: 8b29d85c1f7eb4c0d80377b98b8c3fd016a036e0a03e7878b4ed3ed78d4d41be
Name: reference_testchannel23067, Version: 1.0, Path: /tmp/reference_testchannel23067, Id: ba800a19aec99190b4dbe09697d7ba3b461e454e901a3214dad98bc901fff7e4
Name: reference_testchannel251, Version: 1.0, Path: /tmp/reference_testchannel251, Id: 908888cf91ccbff9ae11c34f88c72bd26a10840ed05e7b2dff0a7f9e76fd4269
Name: reference_testchannel25668, Version: 1.0, Path: /tmp/reference_testchannel25668, Id: 1f50e0954cdcc4e3cbfc53b0592df800f1c38f8dac019af2c00da1a67e16b4d6
Name: reference_testchannel32122, Version: 1.0, Path: /tmp/reference_testchannel32122, Id: 90d0f70053d3513124730a63bf253e852b0d2f66a18aec7807d96efe47cc4bfc
Name: reference_testchannel489, Version: 1.0, Path: /tmp/reference_testchannel489, Id: fee19d71ef2dc4cea163ba279044cd5308486d4c73e5dd1e3c39df4c90eac378
reference_testchannel489
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel489-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel489-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel489-02> channel'
RUNTEST: chaincode-install.sh testchannel489-02 alpha VERIFY: test-chaincode-installed.sh testchannel489-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwNn0.HdXOLPjhlQQVfkm7zUTNvquDdlwET0bsLbb4McB0S8A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwNn0.HdXOLPjhlQQVfkm7zUTNvquDdlwET0bsLbb4McB0S8A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIwNn0.HdXOLPjhlQQVfkm7zUTNvquDdlwET0bsLbb4McB0S8A
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel489-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel489-02/index.js (deflated 27%)
adding: reference_testchannel489-02/package.json (deflated 41%)
adding: reference_testchannel489-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12300 Ð¼Ð°Ñ€ 24 18:53 /tmp/reference_testchannel489-02.zip
/tmp/reference_testchannel489-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel489-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel489-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638-02, Id: 0035d8a02fa0e80469f210085159dfec8336d9584c4f0d023be9cb045816d297
Name: reference_testchannel21222-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel21222-02, Id: 77c0b732cf649070d872599cfade5eab919ce0461d9edf9c240e38de2d2ef96c
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
Name: reference_testchannel29641-02, Version: 1.0, Path: /tmp/reference_testchannel29641-02, Id: ee1468faa491ee9bad568553dd93432fff2c8cae18a879a0df288e7134c465a7
Name: reference_testchannel489-02, Version: 1.0, Path: /tmp/reference_testchannel489-02, Id: 144a49d1f23b975a465eab4768b2a1a1c10b23ca2b8deb8c583512cc118bee26
reference_testchannel489-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel489 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel489 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel489> channel'
RUNTEST: chaincode-instantiate.sh testchannel489 sberbank VERIFY: test-chaincode-instantiated.sh testchannel489 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIxMH0.qDt4xmb4tljoMMqdxto2a0r0y6fhsxhoEsR1gTWAGfQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIxMH0.qDt4xmb4tljoMMqdxto2a0r0y6fhsxhoEsR1gTWAGfQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIxMH0.qDt4xmb4tljoMMqdxto2a0r0y6fhsxhoEsR1gTWAGfQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel489/chaincodes {"channelId":"testchannel489","chaincodeId":"reference_testchannel489","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTIxMH0.qDt4xmb4tljoMMqdxto2a0r0y6fhsxhoEsR1gTWAGfQ
curlGetIt got _ {"txid":"447b99cdebab9b262cef15efb4af4da8c401bdb290dce04fa46eb2d977813547","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"447b99cdebab9b262cef15efb4af4da8c401bdb290dce04fa46eb2d977813547","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel489 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel489' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel489:
Name: reference_testchannel489, Version: 1.0, Path: /tmp/reference_testchannel489, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel489
[1;32mOK: The test chaincode installed in testchannel489 channel by sberbank org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel489 sberbank reference_testchannel489 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel489 sberbank reference_testchannel489
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel489 sberbank reference_testchannel489 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel489 sberbank reference_testchannel489
[1;36m
Invoke test chaincode on the <testchannel489> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTI2MH0.bNynD9ffpzvCVRUfKG43csw7XQ8z2fDzKemGoO2-lNQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTI2MH0.bNynD9ffpzvCVRUfKG43csw7XQ8z2fDzKemGoO2-lNQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTI2MH0.bNynD9ffpzvCVRUfKG43csw7XQ8z2fDzKemGoO2-lNQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel489/chaincodes/reference_testchannel489 {"fcn":"put","args":["testchannel489","testchannel489"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTA2NTI2MH0.bNynD9ffpzvCVRUfKG43csw7XQ8z2fDzKemGoO2-lNQ
curlGetIt got _ {"txid":"4f3afa02263e2195e77631c818bf019620ea48ebcdff7402f5c298ef5fc98432","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"4f3afa02263e2195e77631c818bf019620ea48ebcdff7402f5c298ef5fc98432","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel489 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel489> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel489 reference_testchannel489 '["range","testchannel489"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel489 reference_testchannel489 '["range","testchannel489"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel489 -C testchannel489 -c '{"Args":["range","testchannel489"]}'
[{"key":"testchannel489","value":"testchannel489"}]
[1;32mOK: Chaincode reference_testchannel489 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel15937 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15937 sberbank
Step: 18_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15937 sberbank VERIFY: test-channel-exists.sh testchannel15937 sberbank
[1;36m
Creating the <testchannel15937> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel15937
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15937[m[m[m
example.network

Create channel sberbank testchannel15937
--2020-03-24 15:54:44--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:44--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:44--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:44--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:54:44.380 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:54:44.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:44.505 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:44.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:54:44.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:54:44.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:54:44.506 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:54:44.507 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:54:44.507 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:44.610 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:44.610 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:44.611 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:44.612 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:54:44.612 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:44.612 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:44.612 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:44.613 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:54:44.613 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:54:44.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:44.743 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15937.pb -o orderer.example.network:7050 -c testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:44.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:44.888 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:54:44.889 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:54:44.889 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel15937
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:45.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:45.540 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15937> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15937> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:54:46.887 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:46.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:54:46.892 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:54:46.892 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15937",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:54:45Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDS5zSC _testchannel15937_
[1;32mOK: The channel <testchannel15937> exists and visible to sberbank[m[m[m
Step 18_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15937 alpha
Step: 19_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel15937 alpha
[1;34m
Verifing if the <testchannel15937> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:54:47.857 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:47.859 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileJ2i7Xu _null_
[1;32mOK: The channel <testchannel15937> does not exist and in not visible to alpha[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel15937 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel15937 sberbank
Step: 20_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel15937 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel15937 sberbank
[1;36m
Creating the <^^^^^^testchannel15937> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel15937
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel15937[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel15937
--2020-03-24 15:54:50--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:50--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:50--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:50--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:54:50.813 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:54:50.903 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:54:50.904 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:51.011 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:51.012 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:54:51.012 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:51.012 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:51.012 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:51.013 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:54:51.013 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:54:51.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel15937' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel15937.pb -o orderer.example.network:7050 -c ^^^^^^testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:51.260 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:51.263 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel15937.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel15937.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel15937
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel15937 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:51.490 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel15937' != '^^^^^^testchannel15937'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel15937> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:54:53.580 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:53.585 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileFtjVYq _null_
[1;32mOK: The channel <^^^^^^testchannel15937> does not exist and in not visible to sberbank[m[m[m
Step 20_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel15937 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15937 alpha
Step: 21_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel15937 alpha VERIFY: test-channel-does-not-exist.sh testchannel15937 alpha
[1;36m
Creating the <testchannel15937> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel15937
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15937[m[m[m
example.network

Create channel alpha testchannel15937
--2020-03-24 15:54:56--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:56--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:56--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:54:56--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:54:56.487 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:54:56.556 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:56.615 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:56.616 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:56.616 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:54:56.616 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:54:56.616 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:54:56.617 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:54:56.617 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:54:56.617 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:54:56.704 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel15937.pb -o orderer.example.network:7050 -c testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:56.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:56.805 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel15937.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel15937.json: No such file or directory
>> Prepare config update from alpha for channel testchannel15937
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:54:57.126 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15937> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:54:58.850 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:54:58.852 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileqzD4DS _null_
[1;32mOK: The channel <testchannel15937> does not exist and in not visible to alpha[m[m[m
Step 21_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel15937-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15937-02 alpha
Step: 22_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel15937-02 alpha VERIFY: test-channel-exists.sh testchannel15937-02 alpha
[1;36m
Creating the <testchannel15937-02> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel15937-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15937-02[m[m[m
example.network

Create channel alpha testchannel15937-02
--2020-03-24 15:55:01--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:01--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:01--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:01--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:55:01.785 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:55:01.866 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:55:01.932 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:55:01.933 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-24 15:55:01.933 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:55:01.933 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:55:01.933 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:55:01.933 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-24 15:55:01.934 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:55:02.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:02.071 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15937-02.pb -o orderer.example.network:7050 -c testchannel15937-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:02.195 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:02.201 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:55:02.203 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-24 15:55:02.203 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel15937-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:02.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:02.793 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15937-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15937-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:55:04.443 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:04.445 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:55:04.448 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:55:04.448 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15937-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-24T15:55:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file2kUTtR _testchannel15937-02_
[1;32mOK: The channel <testchannel15937-02> exists and visible to alpha[m[m[m
Step 22_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15937-02 sberbank
Step: 23_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel15937-02 sberbank
[1;34m
Verifing if the <testchannel15937-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:55:05.511 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:05.515 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file4391cW _null_
[1;32mOK: The channel <testchannel15937-02> does not exist and in not visible to sberbank[m[m[m
Step 23_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel15937-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15937-02 sberbank
Step: 24_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel15937-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel15937-02 sberbank
[1;36m
Creating the <testchannel15937-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel15937-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15937-02[m[m[m
example.network

Create channel sberbank testchannel15937-02
--2020-03-24 15:55:08--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:08--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:08--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:08--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-24 15:55:08.331 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-24 15:55:08.415 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:55:08.479 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:55:08.480 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:55:08.481 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-24 15:55:08.481 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-24 15:55:08.481 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-24 15:55:08.481 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-24 15:55:08.482 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-24 15:55:08.482 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-24 15:55:08.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel15937-02.pb -o orderer.example.network:7050 -c testchannel15937-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:08.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:08.665 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel15937-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel15937-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel15937-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:08.912 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15937-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:55:10.781 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:10.785 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileazk5od _null_
[1;32mOK: The channel <testchannel15937-02> does not exist and in not visible to sberbank[m[m[m
Step 24_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel15937 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15937 sberbank alpha
Step: 25_cli Test 'Add <alpha> to channel <testchannel15937> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15937 sberbank alpha VERIFY: test-channel-add-org.sh testchannel15937 sberbank alpha
[1;36m
Add alpha to the testchannel15937 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel15937 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel15937 alpha 7051 example.network[m[m[m
--2020-03-24 15:55:13--  http://www.alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:13--  http://www.alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:13--  http://www.alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.12
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.12|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel15937, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel15937.pb -o orderer.example.network:7050 -c testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:13.744 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:13.746 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:55:13.748 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:55:13.748 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel15937
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:14.230 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:14.256 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel15937 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel15937 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:55:15.546 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:15.550 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-24 15:55:15.552 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-24 15:55:15.552 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNLVENDQWMrZ0F3SUJBZ0lSQUxieDRuSEtKdGRYMWlNMHJJbVlBanN3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd1lERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEpEQWlCZ05WQkFNTUcwRmtiV2x1UUdGc2NHaGhMbVY0CllXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTXpkTDQ4a1hZS0gKamZiK283ditFNVhqU2tkVjk5U1E5NmFDZkZkOVFRZHEwSzNCaWZzZUlHdkZ2Mk5ySnR2WkpZZ1kzOVhsZlJkagp1cFQ4cWMvN3JEcWpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkCkl3UWtNQ0tBSUpjR2lCMnVxR0pUb0JwTjR5L1djbDN1M3hVbWcvMURoY0xMNEg1SVFDT1BNQW9HQ0NxR1NNNDkKQkFNQ0EwZ0FNRVVDSVFDdzZvSUJSaE9iWFhuM2swYzM0Z0o2VU15TVdVNW11RWZ6ekpUTklCTHY3QUlnV0Y2UQpGSmg1dXNYRkVXZjRBcCthNzJBOE1yMStLZ0hXajZSdVo2bld6ZG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaVENDQWd5Z0F3SUJBZ0lSQU5DU1JvOElSVFh6UXdLTUVhcGUyczh3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1qSXdNall3TUZvWERUTXcKTURNeU1ESXdNall3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWlPd0xPOUF0ZVpGOG90QjFwNFYzdUNQd2dWQXJXeGovUHB6VQpEVE1RcGU3eURPcnI4Q3dvR0hHYUt3SFhnNVlZSERqTE8vR1NSVVlhTjJlOFBJVVV1Nk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDWEJvZ2RycWhpVTZBYVRlTXYxbkpkN3Q4VkpvUDlRNFhDeStCKwpTRUFqanpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCZ1NBVDlWT0FJOFU4aEVObS9OOXNTWFFYdFpCOVlGQnRqCkdoRlhWdFo3VVFJZ1hsejl4SkhoS2p1ZDh2cUFHSDZRM2xXaXdTeVMwZlpoZitVRFVGZ1MyZ1U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQUpra1FuaEg2SVlndUNjSk9tWjhpTGt3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakl5TURJMk1EQmEKRncwek1EQXpNakF5TURJMk1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTNU1OM1RaYTk0Tld3b0s4YldsV010MVZRZgpDZ3lMZlVXRjdZMnk4cnZZdGJFVGsxeHNmTVdLWVlnVVc1YVhZOExWRWgvUHprMHhuNE1vckNWWWpZcElvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUVQYzRmYXdQM1lOWVVHL0I1cDhBQ1BlQVFTZAoxQUlwUzJPaitpTnIrYlFJTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUYreXFhc3M3NU5pdEplUUMvQXBsWUhlCjFuN1RuQnVUUzBSUVhrRVBtUjVCQWlBMFJJbmZRUGY2b29EZ2s4L0xFLzg3cHlBSlBNUGhpVFBLTGJReHQ5VjUKdmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileNGiDPB _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel15937>.[m[m[m
Step 25_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel15937-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15937-02 alpha sberbank
Step: 26_cli Test 'Add <sberbank> to channel <testchannel15937-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15937-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel15937-02 alpha sberbank
[1;36m
Add sberbank to the testchannel15937-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel15937-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel15937-02 sberbank 7051 example.network[m[m[m
--2020-03-24 15:55:18--  http://www.sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:18--  http://www.sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:18--  http://www.sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.8
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.8|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel15937-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel15937-02.pb -o orderer.example.network:7050 -c testchannel15937-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:18.432 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:18.435 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-24 15:55:18.437 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-24 15:55:18.437 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel15937-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15937-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:18.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:18.920 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel15937-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel15937-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:55:20.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:20.208 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-24 15:55:20.210 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-24 15:55:20.211 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRtZ0F3SUJBZ0lSQU5EUndVRUhTN0U1VlRKaEFPeGJ6SVF3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTQTgrQitOSUVTUkI3NmFDOHg5Z2djcStRV0FDZUE2WjBGRTZiR0ErdllpdS9uMEFkZEY5LzFqK1FBT0FzbQpXSDJTcFgwOGJiZStOMGNPMnVyV0UveitvMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NBVExNelRRYmhJbXViUEdNWUt1YlhYckExOUZ3bXREK2VrWDBHemkzTUwKMXpBS0JnZ3Foa2pPUFFRREFnTkhBREJFQWlCOXZKbCtrWDlVVzVTa3J6U2lDM0tYbmI0TWVGa0dKTTI5QSswcQpxREtMOUFJZ0lpTml2clltays0dlZGYVN4ZG1oeEswQ01Mc0JWd1RodWhGSXNqR1g0ZGM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNkRENDQWhxZ0F3SUJBZ0lSQU41eWQ1MkZBa2tjcDZLSjZRdlVHeU13Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpJeU1ESTEKTURCYUZ3MHpNREF6TWpBeU1ESTFNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVJnWkwwSTNOVk5VZXpPY2pNUQpzbWYwQzF5MnlKb3FRYm9lTmhhdG91MFN3U2U0RTNSMmZQdkNIWVUzWlJzY0FuZnIwUFdKbjZoSnNLcjZITTdBClJObkdvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJQk1zek5OQnVFaWE1czhZeGdxNQp0ZGVzRFgwWENhMFA1NlJmUWJPTGN3dlhNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNGVGV0R2k3NndwK2IrCjBRd2p2cE45KzFISGRITTZmek1KWHpMR0ZqcjZSQUlnTi8yclc4blpJcjJQRjREM2lMY3BuRzE3R2JZN0lUaUsKMW9OcWg1RFRCMHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWlDZ0F3SUJBZ0lSQUxxNFJtWlN4c2Z2aGFSZ3FuUkRHUjh3Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qSXkKTURJMU1EQmFGdzB6TURBek1qQXlNREkxTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBUmR6cW5mazhBWgp2MVRrckU3dWFHU2JoR1piNUQ5ZlNjKzdnUlZGeDVHZjZQMTdyZW8yaXlrM1k2RUxoeXJwL1ZVQnV3UjhSbXhMCnQrbktML3JJVUxzV28yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlNQnl1ZVZQMno5aQprSDVnVjVPdGxmTC94cnV2RDg1RWNHS2dOOUU2MlA4Nk1Bb0dDQ3FHU000OUJBTUNBMGNBTUVRQ0lHdjE0eGtkClpVM3NTWlFaWFJGN05lMUdxM2wzeFI0WFNiQTMvQlJWUUMxUkFpQk02SnlKeCtmQ0ZwMzU4YkVERER4eW9IZm0KTWlGY29IbXpVL0VOQzBaZ3h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/file2P6FAp _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel15937-02>.[m[m[m
Step 26_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel15937 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15937 sberbank
Step: 27_cli Test 'Join <sberbank> to the <testchannel15937> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15937 sberbank VERIFY: test-join-channel.sh testchannel15937 sberbank
[1;36m
Joining  sberbank to the testchannel15937 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel15937
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel15937[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=50baae604485
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:55:23--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:23--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:23--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:23--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel15937
Execute: channel fetch 0 crypto-config/configtx/testchannel15937.pb -o orderer.example.network:7050 -c testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:23.238 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:23.247 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:55:23.367 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:23.539 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel15937 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel15937> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:55:25.252 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel15937> channel[m[m[m
Step 27_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel15937 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15937 alpha
Step: 28_cli Test 'Join <alpha> to the <testchannel15937> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15937 alpha VERIFY: test-join-channel.sh testchannel15937 alpha
[1;36m
Joining  alpha to the testchannel15937 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel15937
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel15937[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c0909342e60d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:55:28--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:28--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:28--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:28--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel15937
Execute: channel fetch 0 crypto-config/configtx/testchannel15937.pb -o orderer.example.network:7050 -c testchannel15937 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:28.328 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:28.331 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:55:28.403 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:28.602 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel15937 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel15937> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:55:30.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel15937> channel[m[m[m
Step 28_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel15937-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15937-02 sberbank
Step: 29_cli Test 'Join <sberbank> to the <testchannel15937-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15937-02 sberbank VERIFY: test-join-channel.sh testchannel15937-02 sberbank
[1;36m
Joining  sberbank to the testchannel15937-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel15937-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel15937-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2f64364aed80
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:55:33--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:33--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:33--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:33--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel15937-02
Execute: channel fetch 0 crypto-config/configtx/testchannel15937-02.pb -o orderer.example.network:7050 -c testchannel15937-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:33.312 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:33.316 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:55:33.433 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:33.642 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel15937-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel15937-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-24 15:55:35.214 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel15937-02> channel[m[m[m
Step 29_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel15937-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15937-02 alpha
Step: 30_cli Test 'Join <alpha> to the <testchannel15937-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15937-02 alpha VERIFY: test-join-channel.sh testchannel15937-02 alpha
[1;36m
Joining  alpha to the testchannel15937-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel15937-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel15937-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3c69924537ff
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-24 15:55:37--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:37--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:37--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-24 15:55:37--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel15937-02
Execute: channel fetch 0 crypto-config/configtx/testchannel15937-02.pb -o orderer.example.network:7050 -c testchannel15937-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-24 15:55:37.816 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:37.819 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-24 15:55:37.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-24 15:55:38.049 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel15937-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel15937-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-24 15:55:39.456 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel15937-02> channel[m[m[m
Step 30_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel15937 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel15937 sberbank
Step: 31_cli Test 'Install test chaincode by <sberbank> to the <testchannel15937> channel'
RUNTEST: chaincode-install.sh testchannel15937 sberbank VERIFY: test-chaincode-installed.sh testchannel15937 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel15937 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel15937[m[m[m
[1;36m
Installing testchannel15937  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel15937'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=44421a1ea846
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel15937  /opt/chaincode/node/reference_testchannel15937 node 1.0
[34m2020-03-24 15:55:45.566 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:55:45.566 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-24 15:55:45.904 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel15937' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638, Id: 0112b3026aac87cac76dcd1c6c2d10b104f59cab5ff99ca038a1dcd8bd3e1de7
Name: reference_testchannel13790, Version: 1.0, Path: /tmp/reference_testchannel13790, Id: 1af28239cba804e369cceac84559a0c5d9563190fcf76dbd0896d96234f3a482
Name: reference_testchannel152, Version: 1.0, Path: /tmp/reference_testchannel152, Id: 8b29d85c1f7eb4c0d80377b98b8c3fd016a036e0a03e7878b4ed3ed78d4d41be
Name: reference_testchannel15937, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel15937, Id: b921b342e4009ff3ea93ff47921fc6a0e10aa916d54807d8ad90a48a7bdcc7a1
Name: reference_testchannel23067, Version: 1.0, Path: /tmp/reference_testchannel23067, Id: ba800a19aec99190b4dbe09697d7ba3b461e454e901a3214dad98bc901fff7e4
Name: reference_testchannel251, Version: 1.0, Path: /tmp/reference_testchannel251, Id: 908888cf91ccbff9ae11c34f88c72bd26a10840ed05e7b2dff0a7f9e76fd4269
Name: reference_testchannel25668, Version: 1.0, Path: /tmp/reference_testchannel25668, Id: 1f50e0954cdcc4e3cbfc53b0592df800f1c38f8dac019af2c00da1a67e16b4d6
Name: reference_testchannel32122, Version: 1.0, Path: /tmp/reference_testchannel32122, Id: 90d0f70053d3513124730a63bf253e852b0d2f66a18aec7807d96efe47cc4bfc
Name: reference_testchannel489, Version: 1.0, Path: /tmp/reference_testchannel489, Id: fee19d71ef2dc4cea163ba279044cd5308486d4c73e5dd1e3c39df4c90eac378
reference_testchannel15937
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 31_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel15937-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel15937-02 alpha
Step: 32_cli Test 'Install test chaincode by <alpha> to the <testchannel15937-02> channel'
RUNTEST: chaincode-install.sh testchannel15937-02 alpha VERIFY: test-chaincode-installed.sh testchannel15937-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel15937-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel15937-02[m[m[m
[1;36m
Installing testchannel15937-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel15937-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=650aae0e2a14
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel15937-02  /opt/chaincode/node/reference_testchannel15937-02 node 1.0
[34m2020-03-24 15:55:57.647 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:55:57.648 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-24 15:55:58.135 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel15937-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11638-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11638-02, Id: 0035d8a02fa0e80469f210085159dfec8336d9584c4f0d023be9cb045816d297
Name: reference_testchannel15937-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel15937-02, Id: cd1d2b103d420032fa5168da9aa0ae5db8341399d991362a2aabdf51d9a046f4
Name: reference_testchannel21222-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel21222-02, Id: 77c0b732cf649070d872599cfade5eab919ce0461d9edf9c240e38de2d2ef96c
Name: reference_testchannel23067-02, Version: 1.0, Path: /tmp/reference_testchannel23067-02, Id: 0f3b0fbf10657074c3dfb4dd5a9061c72247d376f74cb15b392da518c65b7646
Name: reference_testchannel25668-02, Version: 1.0, Path: /tmp/reference_testchannel25668-02, Id: d019d4c967a2cbeebcba95c5f1700b2993fd7a364d074278ace80266489b1010
Name: reference_testchannel29641-02, Version: 1.0, Path: /tmp/reference_testchannel29641-02, Id: ee1468faa491ee9bad568553dd93432fff2c8cae18a879a0df288e7134c465a7
Name: reference_testchannel489-02, Version: 1.0, Path: /tmp/reference_testchannel489-02, Id: 144a49d1f23b975a465eab4768b2a1a1c10b23ca2b8deb8c583512cc118bee26
reference_testchannel15937-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 32_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel15937 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel15937 sberbank
Step: 33_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel15937> channel'
RUNTEST: chaincode-instantiate.sh testchannel15937 sberbank VERIFY: test-chaincode-instantiated.sh testchannel15937 sberbank
[1;36m
Instantiate test chaincode in testchannel15937 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel15937 reference_testchannel15937[m[m[m
Instantiate chaincode testchannel15937 reference_testchannel15937 '[]' 1.0  
[34m2020-03-24 15:56:05.633 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-24 15:56:05.633 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel15937 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel15937 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel15937' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel15937:
Name: reference_testchannel15937, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel15937, Escc: escc, Vscc: vscc
reference_testchannel15937
[1;32mOK: The test chaincode installed in testchannel15937 channel by sberbank org[m[m[m
Step 33_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel15937 sberbank reference_testchannel15937 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel15937 sberbank reference_testchannel15937
Step: 34_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel15937 sberbank reference_testchannel15937 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel15937 sberbank reference_testchannel15937
[1;36m
Invoke test chaincode on the <testchannel15937> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel15937 reference_testchannel15937 '["put","testchannel15937","testchannel15937"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel15937 reference_testchannel15937 '["put","testchannel15937","testchannel15937"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode invoke -n reference_testchannel15937 -C testchannel15937 -c '{"Args":["put","testchannel15937","testchannel15937"]}'
[34m2020-03-24 15:56:57.599 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel15937) orderer endpoint: orderer.example.network:7050
[34m2020-03-24 15:56:57.651 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel15937 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel15937> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel15937 reference_testchannel15937 '["range","testchannel15937"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel15937 reference_testchannel15937 '["range","testchannel15937"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel15937 -C testchannel15937 -c '{"Args":["range","testchannel15937"]}'
[{"key":"testchannel15937","value":"testchannel15937"}]
[1;32mOK: Chaincode reference_testchannel15937 invoked sucsessfuly.[m[m[m
Step 34_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel401 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel401 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel401 org1 VERIFY: test-channel-exists.sh testchannel401 org1
[1;36m
Creating the <testchannel401> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel401
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel401[m[m[m
example.com

Create channel org1 testchannel401
--2020-03-25 08:33:40--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:40--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:40--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:40--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:33:40.243 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:33:40.306 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:40.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:40.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:33:40.307 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:33:40.308 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:33:40.308 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:33:40.308 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:33:40.309 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:40.366 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:40.367 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:40.368 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:33:40.368 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:40.368 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:33:40.369 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:40.369 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:40.370 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:40.371 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-25 08:33:40.372 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:40.372 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:40.373 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:40.374 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-25 08:33:40.374 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:33:40.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:40.484 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel401.pb -o orderer.example.com:7050 -c testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:40.587 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:40.589 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:33:40.592 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 08:33:40.592 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel401
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:40.900 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:40.915 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel401> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel401> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:33:43.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:43.694 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 08:33:43.697 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 08:33:43.697 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel401",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T08:33:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file4Uc8DC _testchannel401_
[1;32mOK: The channel <testchannel401> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel401 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel401 org2
[1;34m
Verifing if the <testchannel401> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:33:46.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:46.963 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filehE5gz1 _null_
[1;32mOK: The channel <testchannel401> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel401 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel401 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel401 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel401 org1
[1;36m
Creating the <^^^^^^testchannel401> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel401
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel401[m[m[m
example.com

Create channel org1 ^^^^^^testchannel401
--2020-03-25 08:33:50--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:50--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:50--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:50--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:33:50.195 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:33:50.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:50.254 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:50.255 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:33:50.255 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:33:50.255 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:33:50.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:33:50.256 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:33:50.257 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:50.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:50.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:50.323 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:33:50.323 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:50.324 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:33:50.324 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:50.324 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:50.325 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:50.326 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-25 08:33:50.327 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:50.328 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:50.328 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:50.329 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-25 08:33:50.330 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:33:50.404 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel401' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel401.pb -o orderer.example.com:7050 -c ^^^^^^testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:50.489 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:50.491 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel401.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel401 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:50.687 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel401' != '^^^^^^testchannel401'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel401> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:33:53.583 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:53.586 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file6Fnr3S _null_
[1;32mOK: The channel <^^^^^^testchannel401> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel401 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel401 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel401 org2 VERIFY: test-channel-does-not-exist.sh testchannel401 org2
[1;36m
Creating the <testchannel401> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel401
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel401[m[m[m
example.com

Create channel org2 testchannel401
--2020-03-25 08:33:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:33:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:33:57.489 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:33:57.576 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:57.577 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:57.578 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:33:57.578 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:33:57.578 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:33:57.579 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:33:57.579 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:33:57.579 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:57.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:33:57.660 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:33:57.661 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:33:57.661 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:33:57.661 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:33:57.662 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:57.662 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:57.663 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:57.664 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-25 08:33:57.665 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:33:57.665 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:33:57.666 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:33:57.667 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-25 08:33:57.668 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:33:57.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel401.pb -o orderer.example.com:7050 -c testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:57.867 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:33:57.871 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel401.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel401.json: No such file or directory
>> Prepare config update from org2 for channel testchannel401
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 106
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:33:58.087 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel401> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:00.602 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:00.605 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileL1yyok _null_
[1;32mOK: The channel <testchannel401> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel401-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel401-02 org2
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel401-02 org2 VERIFY: test-channel-exists.sh testchannel401-02 org2
[1;36m
Creating the <testchannel401-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel401-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel401-02[m[m[m
example.com

Create channel org2 testchannel401-02
--2020-03-25 08:34:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:03--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:34:03.955 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:34:04.040 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:34:04.041 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:34:04.041 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:34:04.041 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:34:04.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:34:04.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:34:04.042 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:34:04.043 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:34:04.113 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:34:04.114 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:34:04.115 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:34:04.115 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:34:04.116 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:34:04.116 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:34:04.116 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:34:04.117 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:34:04.118 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-25 08:34:04.119 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:34:04.119 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:34:04.120 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:34:04.121 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-25 08:34:04.122 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:34:04.193 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:04.235 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel401-02.pb -o orderer.example.com:7050 -c testchannel401-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:04.356 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:04.361 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:34:04.366 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 08:34:04.367 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel401-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:04.800 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:04.833 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel401-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel401-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:07.860 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:07.863 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 08:34:07.865 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 08:34:07.865 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel401-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T08:34:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecvOKuV _testchannel401-02_
[1;32mOK: The channel <testchannel401-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel401-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel401-02 org1
[1;34m
Verifing if the <testchannel401-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:09.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:09.968 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filetGmSaf _null_
[1;32mOK: The channel <testchannel401-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel401-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel401-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel401-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel401-02 org1
[1;36m
Creating the <testchannel401-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel401-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel401-02[m[m[m
example.com

Create channel org1 testchannel401-02
--2020-03-25 08:34:12--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:12--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:12--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:12--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:34:12.979 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:34:13.059 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:34:13.060 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:34:13.060 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:34:13.060 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:34:13.061 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:34:13.061 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:34:13.061 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:34:13.062 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:34:13.140 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:34:13.141 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:34:13.142 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:34:13.142 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:34:13.143 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:34:13.143 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:34:13.143 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:34:13.144 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:34:13.146 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-25 08:34:13.147 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:34:13.147 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:34:13.148 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:34:13.150 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-25 08:34:13.151 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:34:13.221 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel401-02.pb -o orderer.example.com:7050 -c testchannel401-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:13.326 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:13.330 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel401-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel401-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel401-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:13.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel401-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:16.129 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:16.131 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file9QSBwE _null_
[1;32mOK: The channel <testchannel401-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel401 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel401 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel401> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel401 org1 org2 VERIFY: test-channel-add-org.sh testchannel401 org1 org2
[1;36m
Add org2 to the testchannel401 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel401 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel401 org2 7051 example.com[m[m[m
--2020-03-25 08:34:19--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.108
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.108|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:19--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.108
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.108|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:19--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.108
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.108|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel401, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel401.pb -o orderer.example.com:7050 -c testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:19.215 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:19.217 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 08:34:19.219 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 08:34:19.219 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel401
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:19.559 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:19.584 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel401 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel401 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:22.148 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:22.151 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-25 08:34:22.153 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-25 08:34:22.153 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRUI0U2Mra0VRMllEY01OeFVrNUtGekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpVd09EQTFNREJhRncwek1EQXpNak13T0RBMU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQXFyc3Q1WVlOK05oKzJYRk9qcEpjMnVhUkxxSk9wY2IKOXloRXRGS1gwSngwTUhYdS9HQy9qOGUzMGlMclJEb3Mydk11SGJlbnVEMW93TGhwNUdWU2g2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnOU1IamVlU0lMZ0hJCldyNVk0RmNkN1cwK1VwQnVhSHNoYWlmR2hlRkh4MTR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUlvb1BQVGQKRVRXSVBqSVBEVjZ4Q2VNWU44SzF3Zi9tUy9DVE11RHhqdVpRQWlCTis4S1V6WHk2NDJFL3crakpYWmlLR1h4VAoySWFHdzJGMVZTeENuQnk1S2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRRlVkVklvOU0yUHh5bXVaN1RvU3ZoekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpVd09EQTFNREJhRncwek1EQXpNak13T0RBMU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSUtvRHZPQUJTQnBXUS8vNE8rT0gzK0pDWVhKUmtoM2xTL3VDUE0ycEw2dUtHTWIzcGV4Y1lnNmRzTGh2M0hTSQp1U3pmVUVqKyswSEQwNklPRTZhQzg2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRDAKd2VONTVJZ3VBY2hhdmxqZ1Z4M3RiVDVTa0c1b2V5RnFKOGFGNFVmSFhqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBMVNzbUF5Q1c4aTNJZU9BL3JmcUNZd3p6TU5NN09NbVJ6WFJtb1FzNU1qb0NJQWlnNmJOQXl4cTJYKzhIClN4REFIb2FJbHdxdWhRL2tVTS9tOUo3ejJCMUwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpOdTZzbjlqL3dQYTQ3cTlWUEVhbjB3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STFNRGd3TlRBd1doY05NekF3TXpJek1EZ3cKTlRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCR0RpM0xHbVdOVXJURWFlekp4MnZueUdoVVRZK0RJRndxTFpyckFpWDZQc1ZoeC9wRFRkUHZZVwoyNXBvTmpPbnBNMzJvU0prS0h5OUxuZys5NEhWSVg2amJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWcreDM0aFdpcDZRdTRuR2FXekFkMEFITDdiSXB3QjQvZXdnSGFFb1JicFhnd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTHBLRGlEbDdFaVY0dXFVaUJBT2JuRjI2N3dDZVg1aVNobjgvUU91ZFB0WEFpQnIzOFBNCjFEQzVhK0s2MzVra3BqQ0RpSFlpVWlRSWdoSFhDZDFwRy8vWUxnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileN7ZnSW _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel401>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel401-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel401-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel401-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel401-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel401-02 org2 org1
[1;36m
Add org1 to the testchannel401-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel401-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel401-02 org1 7051 example.com[m[m[m
--2020-03-25 08:34:25--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.107
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 790 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™

          Admin@org   0%[                    ]       0  --.-KB/s               Admin@org1.example. 100%[===================>]     790  --.-KB/s    in 0s      

2020-03-25 08:34:25 (61.7 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ saved [790/790]

--2020-03-25 08:34:25--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.107
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 863 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™

          ca.org1.e   0%[                    ]       0  --.-KB/s               ca.org1.example.com 100%[===================>]     863  --.-KB/s    in 0s      

2020-03-25 08:34:25 (101 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ saved [863/863]

--2020-03-25 08:34:25--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.107
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 875 [application/x-x509-ca-cert]
Saving to: â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™

          tlsca.org   0%[                    ]       0  --.-KB/s               tlsca.org1.example. 100%[===================>]     875  --.-KB/s    in 0s      

2020-03-25 08:34:25 (73.2 MB/s) - â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ saved [875/875]

>> Add new org 'org1' to channel testchannel401-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel401-02.pb -o orderer.example.com:7050 -c testchannel401-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:25.427 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:25.431 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 08:34:25.433 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 08:34:25.434 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel401-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel401-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:25.775 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:25.793 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel401-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel401-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:28.002 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:28.007 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-25 08:34:28.009 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-25 08:34:28.010 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUkxWkFmcUhQWUU0N0tDVFBrdnc4aEV3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1EZ3dNekF3V2hjTk16QXdNekl6TURnd016QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkRVNkovdEFVTmZ1cTZHUHBMZXBzWXR1dzgvRHNWT3gKYmVQNDcvVTdiU2FtMXA5RXdndmJYK1lBQ05xeWtFYWVnRDFYS1Q4MHovSzdlei9XUGJDa094dWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUFObGtaUVVzbWxOCkZ0OWxJbmFiTlNVTFQ2Z24vRCt6NWkvTlhVRFgrVi80TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUFueExQek8Kam9JRnZVUHhvTGsrSTRxd2pHRWdXSEg0cDdObDhoeHE2UTZWQWlCbmQrYUlVaWZSRTc0U0tqNkpOWjNtdnlkVwpLQ2UzQnVSdldvd2tiaWlHWnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRSDRKeDJHd0xVRjZhREE3VUJQTUJ5REFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpVd09EQXpNREJhRncwek1EQXpNak13T0RBek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKN1duaCtELzVGRE8wbU9oQXNvamJnTnFOcEhlNEJvalY1TlV6cHBob3FnWlIrTFN2WjB5d1d4TW9jSTBiRDB5RQowci90aDlENlRRb00xTzV1cHZrN2VxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQUQKWlpHVUZMSnBUUmJmWlNKMm16VWxDMCtvSi93L3MrWXZ6VjFBMS9sZitEQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUF1TExScmhSN3REYlBJdnlsTGhyYUZEejZaajRsQllScTFReFl0NDVMaitnSWdVSlZFb2tGc0xnK003ZXFQCkhZSHVvZlZBcHZBYnRQeFBJNWxqeTRpTDMzND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQU5ZUmUxN1pOY2pWTkdlVE5kSmQ4RWt3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STFNRGd3TXpBd1doY05NekF3TXpJek1EZ3cKTXpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTXhmUWJjZHZNcDBRV3ZEVml3ZEFRYkFMQzROMTg3YTVyMDhIZlZpazNScUE1S0JOcFZNSkxqego2N2VHbHUwcjM5Uk0yQWxZMCs2VFh4empsZ3h1MUJlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdram5vL1gxd1pibEU2STZaWlNBRTBGdEZDTUhkdWQ3d3dqN0VlaXBCdnBFd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTER0MWE2SXhvRkM2RTdKS0dUVW1QMHBvRXpSc0xZMXJiVFNlRUVSWUUybkFpQjlITzlECkdjeWducnZOT3dkbzRwc1p5SjI3bURPSE9lOVpXZE4zdnIzeXBBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileaEhW86 _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel401-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel401 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel401 org1
Step: 10_cli Test 'Join <org1> to the <testchannel401> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel401 org1 VERIFY: test-join-channel.sh testchannel401 org1
[1;36m
Joining  org1 to the testchannel401 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel401
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel401[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=77bd6574d534
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 08:34:30--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:30--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:30--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:30--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel401
Execute: channel fetch 0 crypto-config/configtx/testchannel401.pb -o orderer.example.com:7050 -c testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:31.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:31.079 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:34:31.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:31.220 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel401 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel401> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:33.522 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel401> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel401 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel401 org2
Step: 11_cli Test 'Join <org2> to the <testchannel401> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel401 org2 VERIFY: test-join-channel.sh testchannel401 org2
[1;36m
Joining  org2 to the testchannel401 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel401
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel401[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=db340cc242ae
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 08:34:36--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:36--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:36--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:36--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel401
Execute: channel fetch 0 crypto-config/configtx/testchannel401.pb -o orderer.example.com:7050 -c testchannel401 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:36.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:36.758 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:34:36.822 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:36.884 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel401 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel401> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:39.203 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel401> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel401-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel401-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel401-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel401-02 org1 VERIFY: test-join-channel.sh testchannel401-02 org1
[1;36m
Joining  org1 to the testchannel401-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel401-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel401-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=6e6b311c0575
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 08:34:42--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:42--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:42--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:42--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel401-02
Execute: channel fetch 0 crypto-config/configtx/testchannel401-02.pb -o orderer.example.com:7050 -c testchannel401-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:42.340 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:42.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:34:42.413 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:42.468 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel401-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel401-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:44.889 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel401-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel401-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel401-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel401-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel401-02 org2 VERIFY: test-join-channel.sh testchannel401-02 org2
[1;36m
Joining  org2 to the testchannel401-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel401-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel401-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3725514180a9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 08:34:48--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:48--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:48--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:34:48--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.107
Connecting to www.example.com (www.example.com)|192.168.99.107|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel401-02
Execute: channel fetch 0 crypto-config/configtx/testchannel401-02.pb -o orderer.example.com:7050 -c testchannel401-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:34:48.179 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:48.182 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:34:48.244 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:34:48.303 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel401-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel401-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:34:50.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel401-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel401 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel401 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel401> channel'
RUNTEST: chaincode-install.sh testchannel401 org1 VERIFY: test-chaincode-installed.sh testchannel401 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel401 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel401[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel401  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel401'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=e71c73fd2584
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel401  /opt/chaincode/node/reference_testchannel401 node 1.0
[34m2020-03-25 08:34:55.283 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 08:34:55.283 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-25 08:34:55.287 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel401'
Error: error getting chaincode code reference_testchannel401: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel401'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel401' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel401-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel401-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel401-02> channel'
RUNTEST: chaincode-install.sh testchannel401-02 org2 VERIFY: test-chaincode-installed.sh testchannel401-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel401-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel401-02[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel401-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel401-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=6666a019e2b3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel401-02  /opt/chaincode/node/reference_testchannel401-02 node 1.0
[34m2020-03-25 08:35:02.689 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 08:35:02.692 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-25 08:35:02.694 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel401-02'
Error: error getting chaincode code reference_testchannel401-02: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel401-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel401-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel401 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel401 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel401> channel'
RUNTEST: chaincode-instantiate.sh testchannel401 org1 VERIFY: test-chaincode-instantiated.sh testchannel401 org1
[1;36m
Instantiate test chaincode in testchannel401 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel401 reference_testchannel401[m[m[m
Instantiate chaincode testchannel401 reference_testchannel401 '[]' 1.0  
[34m2020-03-25 08:35:09.327 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 08:35:09.328 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode (reference_testchannel401:1.0)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel401 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel401' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel401:

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel401 org1 reference_testchannel401 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel401 org1 reference_testchannel401
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel401 org1 reference_testchannel401 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel401 org1 reference_testchannel401
[1;36m
Invoke test chaincode on the <testchannel401> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel401 reference_testchannel401 '["put","testchannel401","testchannel401"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel401 reference_testchannel401 '["put","testchannel401","testchannel401"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel401 -C testchannel401 -c '{"Args":["put","testchannel401","testchannel401"]}'
[34m2020-03-25 08:35:30.547 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel401) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel401 has been successfully instantiated and try again: chaincode reference_testchannel401 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel401> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel401 reference_testchannel401 '["range","testchannel401"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel401 reference_testchannel401 '["range","testchannel401"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel401 -C testchannel401 -c '{"Args":["range","testchannel401"]}'
Error: endorsement failure during query. response: status:500 message:"make sure the chaincode reference_testchannel401 has been successfully instantiated and try again: chaincode reference_testchannel401 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel15556 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15556 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15556 org1 VERIFY: test-channel-exists.sh testchannel15556 org1
[1;36m
Creating the <testchannel15556> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel15556
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel15556[m[m[m
example.com

Create channel org1 testchannel15556
--2020-03-25 08:48:27--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.109
Connecting to www.example.com (www.example.com)|192.168.99.109|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:48:27--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.109
Connecting to www.example.com (www.example.com)|192.168.99.109|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:48:27--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.109
Connecting to www.example.com (www.example.com)|192.168.99.109|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 08:48:27--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.109
Connecting to www.example.com (www.example.com)|192.168.99.109|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 08:48:27.857 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 08:48:27.922 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:48:27.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:48:27.923 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 08:48:27.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 08:48:27.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 08:48:27.924 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 08:48:27.925 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 08:48:27.925 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:48:28.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 08:48:28.010 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 08:48:28.011 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 08:48:28.011 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 08:48:28.012 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 08:48:28.012 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:48:28.013 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:48:28.014 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:48:28.015 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-25 08:48:28.015 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 08:48:28.015 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 08:48:28.016 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 08:48:28.017 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-25 08:48:28.018 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 08:48:28.089 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:48:28.123 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel15556.pb -o orderer.example.com:7050 -c testchannel15556 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:48:28.204 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:48:28.206 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 08:48:28.208 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 08:48:28.209 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel15556
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel15556 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-25 08:48:28.584 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:48:28.608 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel15556> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15556> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 08:48:30.941 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 08:48:30.946 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 08:48:30.948 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 08:48:30.948 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel15556",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T08:48:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileGAi9Iu _testchannel15556_
[1;32mOK: The channel <testchannel15556> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel15556 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel15556 org2
[1;34m
Verifing if the <testchannel15556> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel3846 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3846 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3846 sberbank VERIFY: test-channel-exists.sh testchannel3846 sberbank
[1;36m
Creating the <testchannel3846> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel3846
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3846[m[m[m
example.network

Create channel sberbank testchannel3846
--2020-03-25 11:30:22--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:22--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:22--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:22--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 11:30:22.902 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 11:30:22.974 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:22.974 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 11:30:22.975 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:23.058 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:23.059 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:23.062 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-25 11:30:23.062 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:23.062 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:23.062 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:23.063 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-25 11:30:23.063 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 11:30:23.153 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:23.195 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3846.pb -o orderer.example.network:7050 -c testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:23.292 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:23.294 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:30:23.295 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:30:23.295 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel3846
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:23.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:23.743 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3846> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3846> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:30:25.018 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:25.021 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:30:25.027 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:30:25.027 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3846",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:30:23Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filedGKiXy _testchannel3846_
[1;32mOK: The channel <testchannel3846> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel3846 alpha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel3846 alpha
[1;34m
Verifing if the <testchannel3846> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:30:25.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:25.796 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileB6tlFl _null_
[1;32mOK: The channel <testchannel3846> does not exist and in not visible to alpha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel3846 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel3846 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel3846 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel3846 sberbank
[1;36m
Creating the <^^^^^^testchannel3846> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel3846
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel3846[m[m[m
example.network

Create channel sberbank ^^^^^^testchannel3846
--2020-03-25 11:30:28--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:28--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:28--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:28--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 11:30:28.678 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 11:30:28.777 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 11:30:28.778 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 11:30:28.778 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:28.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:28.851 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:28.852 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:28.854 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-25 11:30:28.854 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:28.854 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:28.855 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:28.855 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-25 11:30:28.856 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 11:30:28.921 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel3846' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel3846.pb -o orderer.example.network:7050 -c ^^^^^^testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:29.063 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:29.064 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel3846.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel3846.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel3846
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel3846 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:29.338 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel3846' != '^^^^^^testchannel3846'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel3846> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:30:31.332 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:31.334 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileKgU7nV _null_
[1;32mOK: The channel <^^^^^^testchannel3846> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel3846 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel3846 alpha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel3846 alpha VERIFY: test-channel-does-not-exist.sh testchannel3846 alpha
[1;36m
Creating the <testchannel3846> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel3846
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3846[m[m[m
example.network

Create channel alpha testchannel3846
--2020-03-25 11:30:34--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:34--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:34--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:34--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 11:30:34.571 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 11:30:34.648 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 11:30:34.716 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:34.717 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:34.718 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:34.719 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-25 11:30:34.719 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:34.719 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:34.720 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:34.720 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-25 11:30:34.720 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 11:30:34.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel3846.pb -o orderer.example.network:7050 -c testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:34.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:34.887 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel3846.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel3846.json: No such file or directory
>> Prepare config update from alpha for channel testchannel3846
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:35.161 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3846> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:30:36.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:36.387 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileHKeEcs _null_
[1;32mOK: The channel <testchannel3846> does not exist and in not visible to alpha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel3846-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3846-02 alpha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel3846-02 alpha VERIFY: test-channel-exists.sh testchannel3846-02 alpha
[1;36m
Creating the <testchannel3846-02> channel for alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel3846-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3846-02[m[m[m
example.network

Create channel alpha testchannel3846-02
--2020-03-25 11:30:39--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:39--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:39--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:39--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 11:30:39.234 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 11:30:39.311 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:39.311 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:39.311 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 11:30:39.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 11:30:39.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 11:30:39.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 11:30:39.312 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 11:30:39.312 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 11:30:39.377 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:39.378 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:39.378 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:39.380 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-25 11:30:39.380 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:39.380 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:39.380 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:39.381 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-25 11:30:39.381 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 11:30:39.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:39.497 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel3846-02.pb -o orderer.example.network:7050 -c testchannel3846-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:39.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:39.595 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:30:39.596 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:30:39.597 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel3846-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:40.139 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:40.154 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel3846-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3846-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:30:41.617 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:41.619 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:30:41.621 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:30:41.621 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel3846-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:30:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileLiB7QJ _testchannel3846-02_
[1;32mOK: The channel <testchannel3846-02> exists and visible to alpha[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel3846-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel3846-02 sberbank
[1;34m
Verifing if the <testchannel3846-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:30:42.487 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:42.492 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filee7lA1M _null_
[1;32mOK: The channel <testchannel3846-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel3846-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel3846-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel3846-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel3846-02 sberbank
[1;36m
Creating the <testchannel3846-02> channel for sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel3846-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel3846-02[m[m[m
example.network

Create channel sberbank testchannel3846-02
--2020-03-25 11:30:45--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:45--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:45--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:45--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-25 11:30:45.698 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-25 11:30:45.799 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:45.879 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:45.880 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:45.882 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-25 11:30:45.882 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-25 11:30:45.882 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-25 11:30:45.883 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-25 11:30:45.883 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-25 11:30:45.883 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-25 11:30:45.983 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel3846-02.pb -o orderer.example.network:7050 -c testchannel3846-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:46.107 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:46.109 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel3846-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel3846-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel3846-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:46.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel3846-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:30:47.767 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:47.769 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGnHgog _null_
[1;32mOK: The channel <testchannel3846-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel3846 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3846 sberbank alpha
Step: 8_cli Test 'Add <alpha> to channel <testchannel3846> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3846 sberbank alpha VERIFY: test-channel-add-org.sh testchannel3846 sberbank alpha
[1;36m
Add alpha to the testchannel3846 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel3846 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel3846 alpha 7051 example.network[m[m[m
--2020-03-25 11:30:50--  http://www.alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.15
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/admincerts/Admin@alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:50--  http://www.alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.15
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/cacerts/ca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:50--  http://www.alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pem
Resolving www.alpha.example.network (www.alpha.example.network)... 172.19.0.15
Connecting to www.alpha.example.network (www.alpha.example.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.example.network/msp/tlscacerts/tlsca.alpha.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel3846, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel3846.pb -o orderer.example.network:7050 -c testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:50.783 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:50.785 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:30:50.791 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:30:50.791 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel3846
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:51.387 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:51.406 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel3846 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel3846 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:30:52.826 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:52.836 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-25 11:30:52.839 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-25 11:30:52.839 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWnBwN2lkZDNIaU9BUGsvb0hKc3h3akFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzVoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zd0hoY05NakF3TXpJMU1URXlNakF3V2hjTk16QXcKTXpJek1URXlNakF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVvQmsrSmk0Q2NrNkMKTUVtWDludVZXdmMrT2orR2ltRmlkODgvUmtJMWxzL3FVdUNLSERPNkNIUEthUzQrZGJvaU55WXFtWC84M21JZgpJY3A2NHJBMXFhTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FndHFQN0pjZWwvUy94eGdObnduREx3WGhsSHZBKzRLeVZwbTM4SERqTmkrNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnYm5xc0dCbTJmV2o1WEpJbGpUK09NSHpyTXZuZ01QU0lqK0dJZU83T2xoZ0NJRVR4S0xPbgpzbmlXVGJrSUNiREQ3ejBkRXQxL2NYTktFcGtCR0dNYW82ZG4KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUl6SzFGOG1yZCswdDllVFh1MXp1Vnd3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU5URXhNakl3TUZvWERUTXcKTURNeU16RXhNakl3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTlZSkl0bU5BL3k0TTQ1RDdzN3p0cEpKcWJyVmxnUWJJTmM5bgpqN2dHRFNtKzIwVWdid3hmbmJGL2pQMEszSW94TUt0ajZaVndPaUJNWXB0bkoxUG1ZNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDMm8vc2x4Nlg5TC9IR0EyZkNjTXZCZUdVZThEN2dySldtYmZ3YwpPTTJMN2pBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTVRdHRUOWRWdFNxV2ZqWm9acmo5UDdHZGMxSW1wREdKCnppbWtGWlhGcVVrQ0lFeXpZZ0F1K2JvV0NFcTMyai8weVhmR1RPQzNFZFRsMVRjTm42eXZMa2x2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiRENDQWhPZ0F3SUJBZ0lRWER0Mlk3SUlZYzBFOC9MWC9LQ2JSakFLQmdncWhrak9QUVFEQWpDQmdERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFa01DSUdBMVVFCkF4TWJkR3h6WTJFdVlXeHdhR0V1WlhoaGJYQnNaUzV1WlhSM2IzSnJNQjRYRFRJd01ETXlOVEV4TWpJd01Gb1gKRFRNd01ETXlNekV4TWpJd01Gb3dnWUF4Q3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eQpibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0CmNHeGxMbTVsZEhkdmNtc3hKREFpQmdOVkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXkKYXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkVwbnAxTHlBRmhTTWNrTnlJUkIzMG53VkUyOQp6R2Q5YmZHLzBOSFE4UzZZeG9IZUhkTUZNZFQ3RzlGejJrVmRnbUpWSWlJVmtVbnJuS3JtdmdrK1U3K2piVEJyCk1BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFwQmdOVkhRNEVJZ1Fnb0RtZndFRkoxVUZORnJSNnBsenJ1bXQvbXY0bwpPdW1xb3R2cWtydEVxVUF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVlVvYXpyTGNReVFsa0o2akR0Z1p0QUo3CnViUUpvUHUwQXBObGhVUWtwSjhDSUNCWDlhT3RYdnMwWDZJRGliQS9DYVZXbGlOaGpiaGoxUUsrMWhQaEVZYlEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/filenoIpLt _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel3846>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel3846-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3846-02 alpha sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel3846-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3846-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel3846-02 alpha sberbank
[1;36m
Add sberbank to the testchannel3846-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel3846-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel3846-02 sberbank 7051 example.network[m[m[m
--2020-03-25 11:30:55--  http://www.sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.6
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.6|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/admincerts/Admin@sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:55--  http://www.sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.6
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.6|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/cacerts/ca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:30:55--  http://www.sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pem
Resolving www.sberbank.example.network (www.sberbank.example.network)... 172.19.0.6
Connecting to www.sberbank.example.network (www.sberbank.example.network)|172.19.0.6|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.example.network/msp/tlscacerts/tlsca.sberbank.example.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel3846-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel3846-02.pb -o orderer.example.network:7050 -c testchannel3846-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:55.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:55.899 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:30:55.900 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:30:55.901 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel3846-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel3846-02 -o orderer.example.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:30:56.322 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:56.336 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel3846-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel3846-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:30:57.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:30:57.756 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-25 11:30:57.758 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-25 11:30:57.758 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRpZ0F3SUJBZ0lRSmNyUzF2TTdNRm1xZ3JPeFF6anhGREFLQmdncWhrak9QUVFEQWpDQmd6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RWtNQ0lHCkExVUVBeE1iWTJFdWMySmxjbUpoYm1zdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUI0WERUSXdNRE15TlRFeE1qSXcKTUZvWERUTXdNRE15TXpFeE1qSXdNRm93WXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbQpiM0p1YVdFeEZqQVVCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SnpBbEJnTlZCQU1NSGtGa2JXbHVRSE5pClpYSmlZVzVyTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkhjOGNIWC9pZlQrMk05N1Z3eFMrVUlUWDhDL29BdW9CZXZYKzVwTzVRV240cGgrSkZPZHVHU1QrR2JlbHkzWgpESDNkbWcrb3hpY2lpWFU4ak14bGIrT2pUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFCkFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUtXMzlxVmJnMlhKei9BNUpOcVZmVnhhOUlCSDZCUVZWaVpBalBFMUtRTDAKTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDb2hKYU1CWGxCN0NFZGMyVFYvbkZEdFkraDY1cU95c255bjBmTApNZ25wM2dJZ0lUTVNIbFVmOERwUjZEQzJPMUVhRHRBRmhKeTVkbmg3KzZQd0Z2L3ZWelU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNjekNDQWhtZ0F3SUJBZ0lRWnpiNGhsOVJXdGdvNWlZSGt5L3puekFLQmdncWhrak9QUVFEQWpDQmd6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RWtNQ0lHCkExVUVBeE1iWTJFdWMySmxjbUpoYm1zdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUI0WERUSXdNRE15TlRFeE1qSXcKTUZvWERUTXdNRE15TXpFeE1qSXdNRm93Z1lNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNFd0h3WURWUVFLRXhoelltVnlZbUZ1CmF5NWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WQkFNVEcyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXUKYm1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCS0hQSFlkcUNjNlZDOFdBa2FKWQpvbG8yeVRsbFcrTzRndWk1UkpUc2V1Y3lPTVMyaUV6SmNQUFlVRGhEL05uc0xpUlFrcytDaTBWc1pCTWZGOXExClc2NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUIKQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWdwYmYycFZ1RFpjblA4RGtrMnBWOQpYRnIwZ0Vmb0ZCVldKa0NNOFRVcEF2UXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBUFg3NStnL2ozbytRSzlhClpXVEQ0U2VwMzN3d210enE1bmhnZno4aktoY3lBaUF6RVNiWEpEWVdVUDF0YmtOVkIzWmhiYnlnWG9PQzdPbFoKNWV0WmNtWWlCdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWgrZ0F3SUJBZ0lRRXZJRGFqZ1pnbmZnUnl5MmIrdTJ6VEFLQmdncWhrak9QUVFEQWpDQmhqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RW5NQ1VHCkExVUVBeE1lZEd4elkyRXVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU5URXgKTWpJd01Gb1hEVE13TURNeU16RXhNakl3TUZvd2dZWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRApZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1TRXdId1lEVlFRS0V4aHpZbVZ5ClltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsQmdOVkJBTVRIblJzYzJOaExuTmlaWEppWVc1ckxtVjQKWVcxd2JHVXVibVYwZDI5eWF6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFVktOSjBsaHNYTgpXOFAwLytWbGtKeTB4Skxzbk1ySlBaR0hNd2c2bUpISXVyVHFRdjNRRVhjTWV4Q2lIanZBMjQ5bHpqV1o5Z1ZPClNpaEcvcHRaZnRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0QKQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlZIUTRFSWdRZ0QzSWRzV3lzNS9saQo5TS84ZndnQmxaV2pVMVZkRUtIazRSbDBHczRQYmVRd0NnWUlLb1pJemowRUF3SURTQUF3UlFJaEFPR0lRazNjCnNBbytiODVHZnc1SU5QbDNnTzcwRE9pdkMreWo3VWdJUnpxZkFpQm1kM21yRHFHeGJHY2NoZk9vOEFvMVJoMjcKYVQ2VldKUk51MzJsWHRPKzBRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileeVMLzt _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel3846-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel3846 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3846 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel3846> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3846 sberbank VERIFY: test-join-channel.sh testchannel3846 sberbank
[1;36m
Joining  sberbank to the testchannel3846 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel3846
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3846[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=923610b1c731
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 11:31:00--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:00--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:00--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:00--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel3846
Execute: channel fetch 0 crypto-config/configtx/testchannel3846.pb -o orderer.example.network:7050 -c testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:31:00.688 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:00.690 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:31:00.784 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:00.937 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel3846 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel3846> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:31:02.181 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel3846> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel3846 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3846 alpha
Step: 11_cli Test 'Join <alpha> to the <testchannel3846> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3846 alpha VERIFY: test-join-channel.sh testchannel3846 alpha
[1;36m
Joining  alpha to the testchannel3846 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel3846
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3846[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=ac8aed0804bd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 11:31:05--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:05--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:05--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:05--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel3846
Execute: channel fetch 0 crypto-config/configtx/testchannel3846.pb -o orderer.example.network:7050 -c testchannel3846 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:31:05.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:05.315 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:31:05.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:05.586 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel3846 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel3846> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:31:07.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel3846> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel3846-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3846-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel3846-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3846-02 sberbank VERIFY: test-join-channel.sh testchannel3846-02 sberbank
[1;36m
Joining  sberbank to the testchannel3846-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel3846-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3846-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c6e98d82197d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 11:31:10--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:10--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:10--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:10--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel3846-02
Execute: channel fetch 0 crypto-config/configtx/testchannel3846-02.pb -o orderer.example.network:7050 -c testchannel3846-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:31:10.689 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:10.693 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:31:10.819 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:10.988 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel3846-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel3846-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:31:12.562 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel3846-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel3846-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3846-02 alpha
Step: 13_cli Test 'Join <alpha> to the <testchannel3846-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3846-02 alpha VERIFY: test-join-channel.sh testchannel3846-02 alpha
[1;36m
Joining  alpha to the testchannel3846-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel3846-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel3846-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=ff027ffdbef1
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-25 11:31:15--  http://www.example.network/msp/admincerts/Admin@example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/admincerts/Admin@example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:15--  http://www.example.network/msp/cacerts/ca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/cacerts/ca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:15--  http://www.example.network/msp/tlscacerts/tlsca.example.network-cert.pem
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-25 11:31:15--  http://www.example.network/msp/orderer.example.network/tls/server.crt
Resolving www.example.network (www.example.network)... 172.19.0.4
Connecting to www.example.network (www.example.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.network/msp/orderer.example.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel3846-02
Execute: channel fetch 0 crypto-config/configtx/testchannel3846-02.pb -o orderer.example.network:7050 -c testchannel3846-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem
[34m2020-03-25 11:31:15.341 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:15.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:31:15.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:31:15.585 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel3846-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel3846-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:31:17.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel3846-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel3846 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel3846 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel3846> channel'
RUNTEST: chaincode-install.sh testchannel3846 sberbank VERIFY: test-chaincode-installed.sh testchannel3846 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel3846 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel3846[m[m[m
[1;36m
Installing testchannel3846  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel3846'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/users/Admin@sberbank.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.example.network/peers/peer0.sberbank.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c66768ec240e
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel3846  /opt/chaincode/node/reference_testchannel3846 node 1.0
[34m2020-03-25 11:31:23.342 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 11:31:23.342 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-25 11:31:23.462 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel3846' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel3846, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel3846, Id: 2aaf12481493a6ebc43708c41339f8d4d8fa476da1b0f226b1200fbce0cd88bf
reference_testchannel3846
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel3846-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel3846-02 alpha
Step: 15_cli Test 'Install test chaincode by <alpha> to the <testchannel3846-02> channel'
RUNTEST: chaincode-install.sh testchannel3846-02 alpha VERIFY: test-chaincode-installed.sh testchannel3846-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel3846-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel3846-02[m[m[m
[1;36m
Installing testchannel3846-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel3846-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.example.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/users/Admin@alpha.example.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.example.network/peers/peer0.alpha.example.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2858f8ac26dd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel3846-02  /opt/chaincode/node/reference_testchannel3846-02 node 1.0
[34m2020-03-25 11:31:37.469 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 11:31:37.469 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-25 11:31:37.594 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel3846-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel3846-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel3846-02, Id: a9b524d1c356227301747ecf98ddb38bebaffc048715a5bc605d149c10b7f1d2
reference_testchannel3846-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel3846 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel3846 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel3846> channel'
RUNTEST: chaincode-instantiate.sh testchannel3846 sberbank VERIFY: test-chaincode-instantiated.sh testchannel3846 sberbank
[1;36m
Instantiate test chaincode in testchannel3846 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel3846 reference_testchannel3846[m[m[m
Instantiate chaincode testchannel3846 reference_testchannel3846 '[]' 1.0  
[34m2020-03-25 11:31:44.439 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-25 11:31:44.439 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel3846 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel3846 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel3846' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel3846:
Name: reference_testchannel3846, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel3846, Escc: escc, Vscc: vscc
reference_testchannel3846
[1;32mOK: The test chaincode installed in testchannel3846 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel3846 sberbank reference_testchannel3846 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel3846 sberbank reference_testchannel3846
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel3846 sberbank reference_testchannel3846 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel3846 sberbank reference_testchannel3846
[1;36m
Invoke test chaincode on the <testchannel3846> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel3846 reference_testchannel3846 '["put","testchannel3846","testchannel3846"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel3846 reference_testchannel3846 '["put","testchannel3846","testchannel3846"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode invoke -n reference_testchannel3846 -C testchannel3846 -c '{"Args":["put","testchannel3846","testchannel3846"]}'
[34m2020-03-25 11:32:39.715 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel3846) orderer endpoint: orderer.example.network:7050
[34m2020-03-25 11:32:39.767 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel3846 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel3846> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel3846 reference_testchannel3846 '["range","testchannel3846"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel3846 reference_testchannel3846 '["range","testchannel3846"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel3846 -C testchannel3846 -c '{"Args":["range","testchannel3846"]}'
[{"key":"testchannel3846","value":"testchannel3846"}]
[1;32mOK: Chaincode reference_testchannel3846 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel20893 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel20893 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel20893 sberbank VERIFY: test-channel-exists.sh testchannel20893 sberbank
[1;36mCreating testchannel20893 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzMX0.ABUnrjOhb0vQw-5uGVj8APcELsdxvdygmb_lRPPXN8o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzMX0.ABUnrjOhb0vQw-5uGVj8APcELsdxvdygmb_lRPPXN8o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzMX0.ABUnrjOhb0vQw-5uGVj8APcELsdxvdygmb_lRPPXN8o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel20893","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzMX0.ABUnrjOhb0vQw-5uGVj8APcELsdxvdygmb_lRPPXN8o
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel20893> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20893> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:33:54.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:33:54.713 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:33:54.714 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:33:54.714 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel20893",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:33:53Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileEwEU1I _testchannel20893_
[1;32mOK: The channel <testchannel20893> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20893 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel20893 alpha
[1;34m
Verifing if the <testchannel20893> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:33:55.558 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:33:55.560 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filegN1yKA _null_
[1;32mOK: The channel <testchannel20893> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel20893 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel20893 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel20893 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel20893 sberbank
[1;36mCreating ^^^^^^testchannel20893 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzNn0.Y4Aa-6pXNZDu7jubVvYptTPyJB5FO9IAbvPqDp6Q80M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzNn0.Y4Aa-6pXNZDu7jubVvYptTPyJB5FO9IAbvPqDp6Q80M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzNn0.Y4Aa-6pXNZDu7jubVvYptTPyJB5FO9IAbvPqDp6Q80M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel20893","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzNn0.Y4Aa-6pXNZDu7jubVvYptTPyJB5FO9IAbvPqDp6Q80M
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel20893\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel20893\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel20893\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel20893> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:33:58.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:33:58.890 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filem0rnv7 _null_
[1;32mOK: The channel <^^^^^^testchannel20893> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel20893 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20893 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel20893 alpha VERIFY: test-channel-does-not-exist.sh testchannel20893 alpha
[1;36mCreating testchannel20893 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzOX0.7OfjX80t40kCDQgHdX4kF3nBcbvpn-9cm3yXOhNM1LQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzOX0.7OfjX80t40kCDQgHdX4kF3nBcbvpn-9cm3yXOhNM1LQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzOX0.7OfjX80t40kCDQgHdX4kF3nBcbvpn-9cm3yXOhNM1LQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel20893","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjAzOX0.7OfjX80t40kCDQgHdX4kF3nBcbvpn-9cm3yXOhNM1LQ
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20893> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:34:02.785 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:02.788 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileStzBoc _null_
[1;32mOK: The channel <testchannel20893> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel20893-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel20893-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel20893-02 alpha VERIFY: test-channel-exists.sh testchannel20893-02 alpha
[1;36mCreating testchannel20893-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0M30.TR5m57EUonXuEl_stYKcaOPBZ1c1fjoxMRX5bb56648"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0M30.TR5m57EUonXuEl_stYKcaOPBZ1c1fjoxMRX5bb56648", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0M30.TR5m57EUonXuEl_stYKcaOPBZ1c1fjoxMRX5bb56648
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel20893-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0M30.TR5m57EUonXuEl_stYKcaOPBZ1c1fjoxMRX5bb56648
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel20893-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel20893-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:34:06.587 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:06.589 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:34:06.594 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:34:06.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel20893-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:34:04Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1tucc9 _testchannel20893-02_
[1;32mOK: The channel <testchannel20893-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20893-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel20893-02 sberbank
[1;34m
Verifing if the <testchannel20893-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:34:07.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:07.767 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileh1fHXc _null_
[1;32mOK: The channel <testchannel20893-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel20893-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel20893-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel20893-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel20893-02 sberbank
[1;36mCreating testchannel20893-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0OH0.m_eAyQ1VUhNFdRSmZagGnLoZQm42qCxE6VjZBDBEX_c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0OH0.m_eAyQ1VUhNFdRSmZagGnLoZQm42qCxE6VjZBDBEX_c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0OH0.m_eAyQ1VUhNFdRSmZagGnLoZQm42qCxE6VjZBDBEX_c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel20893-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA0OH0.m_eAyQ1VUhNFdRSmZagGnLoZQm42qCxE6VjZBDBEX_c
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel20893-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:34:11.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:11.084 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileydUfwR _null_
[1;32mOK: The channel <testchannel20893-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel20893 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel20893 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel20893> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20893 sberbank alpha VERIFY: test-channel-add-org.sh testchannel20893 sberbank alpha
[1;36mAdd alpha to the testchannel20893 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel20893 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1MX0.Fwi0nhcQM2eBnxzsZ2_tzS8pp5bxIjss9jKatZJMQ6w"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1MX0.Fwi0nhcQM2eBnxzsZ2_tzS8pp5bxIjss9jKatZJMQ6w", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1MX0.Fwi0nhcQM2eBnxzsZ2_tzS8pp5bxIjss9jKatZJMQ6w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel20893/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1MX0.Fwi0nhcQM2eBnxzsZ2_tzS8pp5bxIjss9jKatZJMQ6w
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel20893 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel20893 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:34:14.525 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:14.527 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:34:14.529 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:34:14.529 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWnBwN2lkZDNIaU9BUGsvb0hKc3h3akFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzVoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zd0hoY05NakF3TXpJMU1URXlNakF3V2hjTk16QXcKTXpJek1URXlNakF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVvQmsrSmk0Q2NrNkMKTUVtWDludVZXdmMrT2orR2ltRmlkODgvUmtJMWxzL3FVdUNLSERPNkNIUEthUzQrZGJvaU55WXFtWC84M21JZgpJY3A2NHJBMXFhTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FndHFQN0pjZWwvUy94eGdObnduREx3WGhsSHZBKzRLeVZwbTM4SERqTmkrNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnYm5xc0dCbTJmV2o1WEpJbGpUK09NSHpyTXZuZ01QU0lqK0dJZU83T2xoZ0NJRVR4S0xPbgpzbmlXVGJrSUNiREQ3ejBkRXQxL2NYTktFcGtCR0dNYW82ZG4KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUl6SzFGOG1yZCswdDllVFh1MXp1Vnd3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU5URXhNakl3TUZvWERUTXcKTURNeU16RXhNakl3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTlZSkl0bU5BL3k0TTQ1RDdzN3p0cEpKcWJyVmxnUWJJTmM5bgpqN2dHRFNtKzIwVWdid3hmbmJGL2pQMEszSW94TUt0ajZaVndPaUJNWXB0bkoxUG1ZNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDMm8vc2x4Nlg5TC9IR0EyZkNjTXZCZUdVZThEN2dySldtYmZ3YwpPTTJMN2pBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTVRdHRUOWRWdFNxV2ZqWm9acmo5UDdHZGMxSW1wREdKCnppbWtGWlhGcVVrQ0lFeXpZZ0F1K2JvV0NFcTMyai8weVhmR1RPQzNFZFRsMVRjTm42eXZMa2x2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiRENDQWhPZ0F3SUJBZ0lRWER0Mlk3SUlZYzBFOC9MWC9LQ2JSakFLQmdncWhrak9QUVFEQWpDQmdERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFa01DSUdBMVVFCkF4TWJkR3h6WTJFdVlXeHdhR0V1WlhoaGJYQnNaUzV1WlhSM2IzSnJNQjRYRFRJd01ETXlOVEV4TWpJd01Gb1gKRFRNd01ETXlNekV4TWpJd01Gb3dnWUF4Q3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eQpibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0CmNHeGxMbTVsZEhkdmNtc3hKREFpQmdOVkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXkKYXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkVwbnAxTHlBRmhTTWNrTnlJUkIzMG53VkUyOQp6R2Q5YmZHLzBOSFE4UzZZeG9IZUhkTUZNZFQ3RzlGejJrVmRnbUpWSWlJVmtVbnJuS3JtdmdrK1U3K2piVEJyCk1BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFwQmdOVkhRNEVJZ1Fnb0RtZndFRkoxVUZORnJSNnBsenJ1bXQvbXY0bwpPdW1xb3R2cWtydEVxVUF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVlVvYXpyTGNReVFsa0o2akR0Z1p0QUo3CnViUUpvUHUwQXBObGhVUWtwSjhDSUNCWDlhT3RYdnMwWDZJRGliQS9DYVZXbGlOaGpiaGoxUUsrMWhQaEVZYlEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileIiaIxz _alpha_
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel20893>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel20893-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel20893-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel20893-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel20893-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel20893-02 alpha sberbank
[1;36mAdd sberbank to the testchannel20893-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel20893-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1NX0.5zVk_pNM5LGJ1yMMQVI7ZFIJQ1Itr6PGI3GEQRdjRQQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1NX0.5zVk_pNM5LGJ1yMMQVI7ZFIJQ1Itr6PGI3GEQRdjRQQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1NX0.5zVk_pNM5LGJ1yMMQVI7ZFIJQ1Itr6PGI3GEQRdjRQQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel20893-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1NX0.5zVk_pNM5LGJ1yMMQVI7ZFIJQ1Itr6PGI3GEQRdjRQQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel20893-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel20893-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:34:18.094 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:34:18.100 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:34:18.102 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:34:18.102 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNakNDQWRpZ0F3SUJBZ0lRSmNyUzF2TTdNRm1xZ3JPeFF6anhGREFLQmdncWhrak9QUVFEQWpDQmd6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RWtNQ0lHCkExVUVBeE1iWTJFdWMySmxjbUpoYm1zdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUI0WERUSXdNRE15TlRFeE1qSXcKTUZvWERUTXdNRE15TXpFeE1qSXdNRm93WXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbQpiM0p1YVdFeEZqQVVCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4SnpBbEJnTlZCQU1NSGtGa2JXbHVRSE5pClpYSmlZVzVyTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkhjOGNIWC9pZlQrMk05N1Z3eFMrVUlUWDhDL29BdW9CZXZYKzVwTzVRV240cGgrSkZPZHVHU1QrR2JlbHkzWgpESDNkbWcrb3hpY2lpWFU4ak14bGIrT2pUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFCkFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUtXMzlxVmJnMlhKei9BNUpOcVZmVnhhOUlCSDZCUVZWaVpBalBFMUtRTDAKTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDb2hKYU1CWGxCN0NFZGMyVFYvbkZEdFkraDY1cU95c255bjBmTApNZ25wM2dJZ0lUTVNIbFVmOERwUjZEQzJPMUVhRHRBRmhKeTVkbmg3KzZQd0Z2L3ZWelU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNjekNDQWhtZ0F3SUJBZ0lRWnpiNGhsOVJXdGdvNWlZSGt5L3puekFLQmdncWhrak9QUVFEQWpDQmd6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RWtNQ0lHCkExVUVBeE1iWTJFdWMySmxjbUpoYm1zdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUI0WERUSXdNRE15TlRFeE1qSXcKTUZvWERUTXdNRE15TXpFeE1qSXdNRm93Z1lNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNFd0h3WURWUVFLRXhoelltVnlZbUZ1CmF5NWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WQkFNVEcyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXUKYm1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCS0hQSFlkcUNjNlZDOFdBa2FKWQpvbG8yeVRsbFcrTzRndWk1UkpUc2V1Y3lPTVMyaUV6SmNQUFlVRGhEL05uc0xpUlFrcytDaTBWc1pCTWZGOXExClc2NmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUIKQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWdwYmYycFZ1RFpjblA4RGtrMnBWOQpYRnIwZ0Vmb0ZCVldKa0NNOFRVcEF2UXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWhBUFg3NStnL2ozbytRSzlhClpXVEQ0U2VwMzN3d210enE1bmhnZno4aktoY3lBaUF6RVNiWEpEWVdVUDF0YmtOVkIzWmhiYnlnWG9PQzdPbFoKNWV0WmNtWWlCdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlVENDQWgrZ0F3SUJBZ0lRRXZJRGFqZ1pnbmZnUnl5MmIrdTJ6VEFLQmdncWhrak9QUVFEQWpDQmhqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhJVEFmQmdOVkJBb1RHSE5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6RW5NQ1VHCkExVUVBeE1lZEd4elkyRXVjMkpsY21KaGJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU5URXgKTWpJd01Gb1hEVE13TURNeU16RXhNakl3TUZvd2dZWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRApZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1TRXdId1lEVlFRS0V4aHpZbVZ5ClltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsQmdOVkJBTVRIblJzYzJOaExuTmlaWEppWVc1ckxtVjQKWVcxd2JHVXVibVYwZDI5eWF6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJFVktOSjBsaHNYTgpXOFAwLytWbGtKeTB4Skxzbk1ySlBaR0hNd2c2bUpISXVyVHFRdjNRRVhjTWV4Q2lIanZBMjQ5bHpqV1o5Z1ZPClNpaEcvcHRaZnRtamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0QKQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlZIUTRFSWdRZ0QzSWRzV3lzNS9saQo5TS84ZndnQmxaV2pVMVZkRUtIazRSbDBHczRQYmVRd0NnWUlLb1pJemowRUF3SURTQUF3UlFJaEFPR0lRazNjCnNBbytiODVHZnc1SU5QbDNnTzcwRE9pdkMreWo3VWdJUnpxZkFpQm1kM21yRHFHeGJHY2NoZk9vOEFvMVJoMjcKYVQ2VldKUk51MzJsWHRPKzBRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/filehJZF8b _sberbank_
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel20893-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel20893 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20893 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel20893> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20893 sberbank VERIFY: test-join-channel.sh testchannel20893 sberbank
[1;36mJoining sberbank.example.network to the testchannel20893 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel20893 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1OH0.bv1Bzi6mICsi3IFJQtXU5Lf4PQ5MO7D5tqg8pjVE29Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1OH0.bv1Bzi6mICsi3IFJQtXU5Lf4PQ5MO7D5tqg8pjVE29Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1OH0.bv1Bzi6mICsi3IFJQtXU5Lf4PQ5MO7D5tqg8pjVE29Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel20893 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA1OH0.bv1Bzi6mICsi3IFJQtXU5Lf4PQ5MO7D5tqg8pjVE29Q
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel20893> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:34:20.048 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel20893> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel20893 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20893 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel20893> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20893 alpha VERIFY: test-join-channel.sh testchannel20893 alpha
[1;36mJoining alpha.example.network to the testchannel20893 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel20893 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA2MH0.uZUbgQaJfupYEA0RiywoxmPhUNNYYZFLRBfXYWoKoi0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA2MH0.uZUbgQaJfupYEA0RiywoxmPhUNNYYZFLRBfXYWoKoi0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA2MH0.uZUbgQaJfupYEA0RiywoxmPhUNNYYZFLRBfXYWoKoi0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel20893 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjA2MH0.uZUbgQaJfupYEA0RiywoxmPhUNNYYZFLRBfXYWoKoi0
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel20893> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:36:21.515 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel20893> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel20893-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20893-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel20893-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20893-02 sberbank VERIFY: test-join-channel.sh testchannel20893-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel20893-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel20893-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjE4Mn0.KzQ1nJGiJb_F070KQIGCa7I2XNcSziL0wS3od5v-hKo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjE4Mn0.KzQ1nJGiJb_F070KQIGCa7I2XNcSziL0wS3od5v-hKo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjE4Mn0.KzQ1nJGiJb_F070KQIGCa7I2XNcSziL0wS3od5v-hKo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel20893-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjE4Mn0.KzQ1nJGiJb_F070KQIGCa7I2XNcSziL0wS3od5v-hKo
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel20893-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:38:22.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel20893-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel20893-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel20893-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel20893-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel20893-02 alpha VERIFY: test-join-channel.sh testchannel20893-02 alpha
[1;36mJoining alpha.example.network to the testchannel20893-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel20893-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwM30.AKehGaY_YQFFt39KYecW5aocK8EzWw4j0XehQdEM9Q4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwM30.AKehGaY_YQFFt39KYecW5aocK8EzWw4j0XehQdEM9Q4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwM30.AKehGaY_YQFFt39KYecW5aocK8EzWw4j0XehQdEM9Q4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel20893-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwM30.AKehGaY_YQFFt39KYecW5aocK8EzWw4j0XehQdEM9Q4
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel20893-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-25 11:38:24.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel20893-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel20893 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel20893 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel20893> channel'
RUNTEST: chaincode-install.sh testchannel20893 sberbank VERIFY: test-chaincode-installed.sh testchannel20893 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwNX0.J0Rjud249qysZHqS6UV-CQZyZdwqwqiyc17XoXf9SlI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwNX0.J0Rjud249qysZHqS6UV-CQZyZdwqwqiyc17XoXf9SlI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwNX0.J0Rjud249qysZHqS6UV-CQZyZdwqwqiyc17XoXf9SlI
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel20893/chaincode-reference.js (deflated 27%)
adding: reference_testchannel20893/index.js (deflated 27%)
adding: reference_testchannel20893/package.json (deflated 41%)
adding: reference_testchannel20893/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 25 14:38 /tmp/reference_testchannel20893.zip
/tmp/reference_testchannel20893.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel20893:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel20893' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel20893, Version: 1.0, Path: /tmp/reference_testchannel20893, Id: 9d31bce021639993c418712d2a0339fa7a2e3e70da4fcea6dea62ff507c7dcba
Name: reference_testchannel3846, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel3846, Id: 2aaf12481493a6ebc43708c41339f8d4d8fa476da1b0f226b1200fbce0cd88bf
reference_testchannel20893
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel20893-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel20893-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel20893-02> channel'
RUNTEST: chaincode-install.sh testchannel20893-02 alpha VERIFY: test-chaincode-installed.sh testchannel20893-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwOX0.wgQh53fyQ1YK--rBoUU0znU3xHkNUkcotH4WvvaEYfw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwOX0.wgQh53fyQ1YK--rBoUU0znU3xHkNUkcotH4WvvaEYfw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMwOX0.wgQh53fyQ1YK--rBoUU0znU3xHkNUkcotH4WvvaEYfw
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel20893-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel20893-02/index.js (deflated 27%)
adding: reference_testchannel20893-02/package.json (deflated 41%)
adding: reference_testchannel20893-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 25 14:38 /tmp/reference_testchannel20893-02.zip
/tmp/reference_testchannel20893-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel20893-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel20893-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel20893-02, Version: 1.0, Path: /tmp/reference_testchannel20893-02, Id: e5c14d4de4a88a3bab5339b3cc2ee25539ac94ada269d2ea2620bf99b1b73b1f
Name: reference_testchannel3846-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel3846-02, Id: a9b524d1c356227301747ecf98ddb38bebaffc048715a5bc605d149c10b7f1d2
reference_testchannel20893-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel20893 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel20893 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel20893> channel'
RUNTEST: chaincode-instantiate.sh testchannel20893 sberbank VERIFY: test-chaincode-instantiated.sh testchannel20893 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMxM30.pOT32YdGHTuzExyhHxiDJfKF7-o0LHRrNGfuZ45aiKk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMxM30.pOT32YdGHTuzExyhHxiDJfKF7-o0LHRrNGfuZ45aiKk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMxM30.pOT32YdGHTuzExyhHxiDJfKF7-o0LHRrNGfuZ45aiKk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel20893/chaincodes {"channelId":"testchannel20893","chaincodeId":"reference_testchannel20893","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjMxM30.pOT32YdGHTuzExyhHxiDJfKF7-o0LHRrNGfuZ45aiKk
curlGetIt got _ {"txid":"3ef70258ea88fec94bf6f6821ed4863c094dcfead8af1696e754f2b027ecac52","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"3ef70258ea88fec94bf6f6821ed4863c094dcfead8af1696e754f2b027ecac52","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel20893 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel20893' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel20893:
Name: reference_testchannel20893, Version: 1.0, Path: /tmp/reference_testchannel20893, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel20893
[1;32mOK: The test chaincode installed in testchannel20893 channel by sberbank org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel20893 sberbank reference_testchannel20893 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel20893 sberbank reference_testchannel20893
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel20893 sberbank reference_testchannel20893 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel20893 sberbank reference_testchannel20893
[1;36m
Invoke test chaincode on the <testchannel20893> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjM2M30.CvxnD4FnTbAOXhz5mzEDV93LkFN6GwTMy93FVP84KuU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjM2M30.CvxnD4FnTbAOXhz5mzEDV93LkFN6GwTMy93FVP84KuU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjM2M30.CvxnD4FnTbAOXhz5mzEDV93LkFN6GwTMy93FVP84KuU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel20893/chaincodes/reference_testchannel20893 {"fcn":"put","args":["testchannel20893","testchannel20893"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjM2M30.CvxnD4FnTbAOXhz5mzEDV93LkFN6GwTMy93FVP84KuU
curlGetIt got _ {"txid":"1dd9f1b508d7fbb630a6950c50fe36379183936a0362bf7384281ed76fd6bba5","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"1dd9f1b508d7fbb630a6950c50fe36379183936a0362bf7384281ed76fd6bba5","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel20893 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel20893> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel20893 reference_testchannel20893 '["range","testchannel20893"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel20893 reference_testchannel20893 '["range","testchannel20893"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel20893 -C testchannel20893 -c '{"Args":["range","testchannel20893"]}'
[{"key":"testchannel20893","value":"testchannel20893"}]
[1;32mOK: Chaincode reference_testchannel20893 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21114 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21114 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21114 org1 VERIFY: test-channel-exists.sh testchannel21114 org1
[1;36mCreating testchannel21114 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUxOX0.7dX41zwRgynsvSMzvYdsD21W21HB5Bx-F4HNe_aCcUM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUxOX0.7dX41zwRgynsvSMzvYdsD21W21HB5Bx-F4HNe_aCcUM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUxOX0.7dX41zwRgynsvSMzvYdsD21W21HB5Bx-F4HNe_aCcUM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels {"channelId":"testchannel21114","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUxOX0.7dX41zwRgynsvSMzvYdsD21W21HB5Bx-F4HNe_aCcUM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel21114> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21114> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:05.508 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:05.510 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:42:05.512 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:42:05.513 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel21114",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:42:02Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecWbzhb _testchannel21114_
[1;32mOK: The channel <testchannel21114> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21114 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel21114 org2
[1;34m
Verifing if the <testchannel21114> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:07.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:07.667 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGMEaSw _null_
[1;32mOK: The channel <testchannel21114> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel21114 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel21114 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel21114 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel21114 org1
[1;36mCreating ^^^^^^testchannel21114 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzMH0.zhUgTM1-aAaWVEo_YJvP4uh00aBHZU3ouBWZm1BJ8rs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzMH0.zhUgTM1-aAaWVEo_YJvP4uh00aBHZU3ouBWZm1BJ8rs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzMH0.zhUgTM1-aAaWVEo_YJvP4uh00aBHZU3ouBWZm1BJ8rs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels {"channelId":"^^^^^^testchannel21114","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzMH0.zhUgTM1-aAaWVEo_YJvP4uh00aBHZU3ouBWZm1BJ8rs
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21114\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21114\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel21114\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel21114> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:16.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:16.022 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileaGPxKh _null_
[1;32mOK: The channel <^^^^^^testchannel21114> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21114 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21114 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21114 org2 VERIFY: test-channel-does-not-exist.sh testchannel21114 org2
[1;36mCreating testchannel21114 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzOH0.PEFTjtO-zt3cSKj-O53oDY_SoOCCdamdSx3ePoHuzsg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzOH0.PEFTjtO-zt3cSKj-O53oDY_SoOCCdamdSx3ePoHuzsg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzOH0.PEFTjtO-zt3cSKj-O53oDY_SoOCCdamdSx3ePoHuzsg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/channels {"channelId":"testchannel21114","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjUzOH0.PEFTjtO-zt3cSKj-O53oDY_SoOCCdamdSx3ePoHuzsg
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21114> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:24.902 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:24.905 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file3Gs02v _null_
[1;32mOK: The channel <testchannel21114> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21114-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21114-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel21114-02 org2 VERIFY: test-channel-exists.sh testchannel21114-02 org2
[1;36mCreating testchannel21114-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU0N30.iHyUvES11m2MaNpRwrcPQ7kfBiDzf8wQC3FXVYCl5Wg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU0N30.iHyUvES11m2MaNpRwrcPQ7kfBiDzf8wQC3FXVYCl5Wg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU0N30.iHyUvES11m2MaNpRwrcPQ7kfBiDzf8wQC3FXVYCl5Wg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/channels {"channelId":"testchannel21114-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU0N30.iHyUvES11m2MaNpRwrcPQ7kfBiDzf8wQC3FXVYCl5Wg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel21114-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21114-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:33.196 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:33.199 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 11:42:33.204 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 11:42:33.204 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel21114-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T11:42:30Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file4YVp2e _testchannel21114-02_
[1;32mOK: The channel <testchannel21114-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21114-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel21114-02 org1
[1;34m
Verifing if the <testchannel21114-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:35.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:35.410 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileEhptcv _null_
[1;32mOK: The channel <testchannel21114-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21114-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel21114-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel21114-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel21114-02 org1
[1;36mCreating testchannel21114-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU1N30.QgqJSmyuIcn89E3UZhuVDNyf8ufzSb_t3F2ntT01Tcc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU1N30.QgqJSmyuIcn89E3UZhuVDNyf8ufzSb_t3F2ntT01Tcc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU1N30.QgqJSmyuIcn89E3UZhuVDNyf8ufzSb_t3F2ntT01Tcc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels {"channelId":"testchannel21114-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU1N30.QgqJSmyuIcn89E3UZhuVDNyf8ufzSb_t3F2ntT01Tcc
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel21114-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:43.484 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:43.487 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file2N28JS _null_
[1;32mOK: The channel <testchannel21114-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21114 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21114 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel21114> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21114 org1 org2 VERIFY: test-channel-add-org.sh testchannel21114 org1 org2
[1;36mAdd org2 to the testchannel21114 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel21114 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU2Nn0.io5etuCv_uekCDhVJmwqv_6_WdpEargl0vyS77ntjNE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU2Nn0.io5etuCv_uekCDhVJmwqv_6_WdpEargl0vyS77ntjNE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU2Nn0.io5etuCv_uekCDhVJmwqv_6_WdpEargl0vyS77ntjNE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels/testchannel21114/orgs {"orgId":"org2","orgIp":"192.168.99.113","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU2Nn0.io5etuCv_uekCDhVJmwqv_6_WdpEargl0vyS77ntjNE
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel21114 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel21114 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:42:59.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:42:59.111 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:42:59.113 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:42:59.113 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRV00zcFZJREFiMWduNWh6cnBuWkZTREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpVeE1UQTVNREJhRncwek1EQXpNak14TVRBNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFVFZQdStKeW83T2hEcnpFM2FCY2NMaXNWUENKelc1NUUKK255Y2NMWVd1UGUzajJiL1M0SjVSbjhudjQrSk1qTWswdDY3Qk1Zb21PM1ZSOUYzY3pwZVNLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fna2N1V0cwVHZCWVk1CnFVRElpajZJbStlcG5kcU9EcVd5U1ZJWmRaWkhpZUl3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQ3A3S2ppYmsKV0M2VXVXY3Fja1JTb0NEa0E3UENPdTU1SnBnVlJBbXZ6WFFDSUhzaEVrM2FnNWxjNFlxMll4VmJPVXo4ZWMyMApZcktWbXAyMk5tanNqTnovCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQU5IK1JVa0VGM3hlMWRYZkYvSWdFV3N3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1URXdPVEF3V2hjTk16QXdNekl6TVRFd09UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NaTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQko3QkE2USt3S3J4NWhmNjJTRGV6aVVqOVlWUVdLeDZxRndxcGkzTWRXNHpYRTVlaFBYM0NjN3Zoa1U2aXgwRQpBSFgvdDdHYnVQcHNjWS9uUmxZMnorS2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKa2N1V0cwVHZCWVk1cVVESWlqNkltK2VwbmRxT0RxV3lTVklaZFpaSGllSXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnYXVFR2NweGJ3ZGdQSmNWbDBXKzFjM0tQZ1ZsY0VzVkcrQ1BKd2VTWHRxd0NJQUNXNjNwdWZCR29UaG5iCmJvOW1wUDNuRE5XRXlnSFZCNE5HQXhxOG9DeDMKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUtrbzhWREJNM2pZU0FjcDk3QnRLRTh3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STFNVEV3T1RBd1doY05NekF3TXpJek1URXcKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCT1ZCMW5lOGtNU29QTUhpd1lkTTNlMGJnbHJaU0cra3MzTFovK0grcm1ENTNEdDUyR0xzVFpVQgp1QlhSeGVOa2FPQjJCQ1FaRUQwTTNkeEdBRVd6OFgramJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdsSHpxZGdwalFxMk4xTUdseEdTb0NOaHJlV1pnZEJmS3kzWHc5Q3ZmSWVFd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdWa0JpYmZOdEVuNmlCNiszSHluNVZqUFgvMHVQdEs1clJYWFFPMWhwWVRRQ0lEL0p0dFNBCmNlM1R6aElHV2dySGloWEFyeHZKOTQrL2FhUSthdXRmNTVuagotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileeViDuj _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel21114>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21114-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21114-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel21114-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21114-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel21114-02 org2 org1
[1;36mAdd org1 to the testchannel21114-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel21114-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU4MX0.RaVGEXxpbCOXkPWHq6g7fbf1ZNsSZRLUAdDbi8Ydr0o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU4MX0.RaVGEXxpbCOXkPWHq6g7fbf1ZNsSZRLUAdDbi8Ydr0o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU4MX0.RaVGEXxpbCOXkPWHq6g7fbf1ZNsSZRLUAdDbi8Ydr0o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/channels/testchannel21114-02/orgs {"orgId":"org1","orgIp":"192.168.99.114","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU4MX0.RaVGEXxpbCOXkPWHq6g7fbf1ZNsSZRLUAdDbi8Ydr0o
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel21114-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel21114-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:43:14.463 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 11:43:14.466 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 11:43:14.468 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 11:43:14.468 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQU1CMDhhTUVNOFlKalJ6L3hYQkIxUjh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1URXdOakF3V2hjTk16QXdNekl6TVRFd05qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkwrOFdJK0ZUeW1ETWdCOEozY2ZuWW85VHBGbVNkZjEKRWg0QkFWaEthVXFyN2t2NkMveE80TE9VMzU5QWJKSEJVUVI3aGJUUUUxNVM0WGwxQmgyUStsR2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUd4NExGbDRmK3FmCjdLbm9LeGJHVmJpNHNwL05DMU85M21jOXhkYTVYQW40TUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEQmorU1cKMzVSZDFYVkJBcVpDb0FkQWJQR2RaT1JBMmo1b0ZFS3BrblFsNmdJZ1h3Nk9kR1VwRkd3Zmk3N0ZqNWNYL3lyUQowNWFhZFY0Y2pUMU53SFZMa3RJPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU12VGxEdEtyeXVZeU9RbjlJV0pyTTh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1URXdOakF3V2hjTk16QXdNekl6TVRFd05qQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk1JakJnTytzemc5UmJCUmhQSFk4LzJ6Sm1BWmRJSWprYWdsOVNnZzRFeWptYmk3cVFucXhuWHoyOFlGai9OTwpWSURIdnFRc2dmQUJzMmVSU29QRFhVMmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKYkhnc1dYaC82cC9zcWVnckZzWlZ1TGl5bjgwTFU3M2VaejNGMXJsY0NmZ3dDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQVBoVGoyVFpONExtMkFEcElSbVh5SkdQSU9HaitleDdSblRrdVJOeUJXN1BBaUFpeUNGQTdDRlBzTjFmClhMaE81WGRyT1krZlk4Zjk1TjF4V0V1MVpZUk9ldz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRZGRuT2JXM1VhVGYyaGQzSUxQR3RZVEFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qVXhNVEEyTURCYUZ3MHpNREF6TWpNeE1UQTIKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUV0RkEvQkRSbmcwcUJCdnNPZk8xcnNCVXBoTG9zWlVkbnBmZEhIR2Y5ZnpUTHhRYlQrMlVLWEkxTQpoNzcrNmI2alFUSDJiZDlwVGFaZWg2N1l1cmc1ZUtOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQUV0Z0NSWFVFRWYzTStMZm5zbzhNeTh2a3dvcXF1QlNXbzlVbndLMk0vSHpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUE0bW1KOTVVSEhiQ3p6QWN1eWlMMWV1U1gvcU9xMkVOTSsySko5YktFcmM0Q0lDVnVNdStrCmJHckM0QjdGRXcvbnZiajhhSzZ5dFJHajIrUWlKeEorOXdNegotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileXiFvMh _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel21114-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21114 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21114 org1
Step: 10_api Test 'Join <org1> to the <testchannel21114> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21114 org1 VERIFY: test-join-channel.sh testchannel21114 org1
[1;36mJoining org1.example.com to the testchannel21114 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel21114 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU5N30.eVtRujkMgE_BomwdRK3rf3pgGqhVhz5aB-l1RTmb5mg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU5N30.eVtRujkMgE_BomwdRK3rf3pgGqhVhz5aB-l1RTmb5mg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU5N30.eVtRujkMgE_BomwdRK3rf3pgGqhVhz5aB-l1RTmb5mg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels/testchannel21114 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjU5N30.eVtRujkMgE_BomwdRK3rf3pgGqhVhz5aB-l1RTmb5mg
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21114> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:43:21.703 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21114> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21114 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21114 org2
Step: 11_api Test 'Join <org2> to the <testchannel21114> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21114 org2 VERIFY: test-join-channel.sh testchannel21114 org2
[1;36mJoining org2.example.com to the testchannel21114 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel21114 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjYwNH0.odEBvEgdhnosAJR3T4GsepO5HCffM_L0A9FFBS9YOs8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjYwNH0.odEBvEgdhnosAJR3T4GsepO5HCffM_L0A9FFBS9YOs8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjYwNH0.odEBvEgdhnosAJR3T4GsepO5HCffM_L0A9FFBS9YOs8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/channels/testchannel21114 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjYwNH0.odEBvEgdhnosAJR3T4GsepO5HCffM_L0A9FFBS9YOs8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21114> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:45:28.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21114> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21114-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21114-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel21114-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21114-02 org1 VERIFY: test-join-channel.sh testchannel21114-02 org1
[1;36mJoining org1.example.com to the testchannel21114-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel21114-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjczMX0.pN4ROlVNt-MnSDK7Gd3eZsZvZ__US2OfFX4Ms9XwiGA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjczMX0.pN4ROlVNt-MnSDK7Gd3eZsZvZ__US2OfFX4Ms9XwiGA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjczMX0.pN4ROlVNt-MnSDK7Gd3eZsZvZ__US2OfFX4Ms9XwiGA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels/testchannel21114-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjczMX0.pN4ROlVNt-MnSDK7Gd3eZsZvZ__US2OfFX4Ms9XwiGA
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21114-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:47:35.598 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21114-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21114-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21114-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel21114-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21114-02 org2 VERIFY: test-join-channel.sh testchannel21114-02 org2
[1;36mJoining org2.example.com to the testchannel21114-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel21114-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg1OH0.R0zA7uB0DbswUcsYXxMF9BA1QTW7x1PbCPMVHXyj6Gc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg1OH0.R0zA7uB0DbswUcsYXxMF9BA1QTW7x1PbCPMVHXyj6Gc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg1OH0.R0zA7uB0DbswUcsYXxMF9BA1QTW7x1PbCPMVHXyj6Gc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/channels/testchannel21114-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg1OH0.R0zA7uB0DbswUcsYXxMF9BA1QTW7x1PbCPMVHXyj6Gc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel21114-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 11:47:42.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel21114-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel21114 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21114 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel21114> channel'
RUNTEST: chaincode-install.sh testchannel21114 org1 VERIFY: test-chaincode-installed.sh testchannel21114 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg2NX0.DOFBf_eiEyMeyOG-joqn4eBRSFjOCrsqeGXaNzmblZ0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg2NX0.DOFBf_eiEyMeyOG-joqn4eBRSFjOCrsqeGXaNzmblZ0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg2NX0.DOFBf_eiEyMeyOG-joqn4eBRSFjOCrsqeGXaNzmblZ0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel21114/chaincode-reference.js (deflated 27%)
adding: reference_testchannel21114/index.js (deflated 27%)
adding: reference_testchannel21114/package.json (deflated 41%)
adding: reference_testchannel21114/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 25 14:47 /tmp/reference_testchannel21114.zip
/tmp/reference_testchannel21114.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel21114:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21114' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel21114, Version: 1.0, Path: /tmp/reference_testchannel21114, Id: 9802fe2925004081efa0d423349beb7c568b49eb0e0be061ecf425c383e2cd1f
reference_testchannel21114
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel21114-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel21114-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel21114-02> channel'
RUNTEST: chaincode-install.sh testchannel21114-02 org2 VERIFY: test-chaincode-installed.sh testchannel21114-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.113:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg3M30.zzXTFNubAL0HdChb0Ydm3IOKIJAtcO_B1DGP74zE5vg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg3M30.zzXTFNubAL0HdChb0Ydm3IOKIJAtcO_B1DGP74zE5vg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg3M30.zzXTFNubAL0HdChb0Ydm3IOKIJAtcO_B1DGP74zE5vg
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel21114-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel21114-02/index.js (deflated 27%)
adding: reference_testchannel21114-02/package.json (deflated 41%)
adding: reference_testchannel21114-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 25 14:47 /tmp/reference_testchannel21114-02.zip
/tmp/reference_testchannel21114-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel21114-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel21114-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel21114-02, Version: 1.0, Path: /tmp/reference_testchannel21114-02, Id: fc024d1cf4f241bf52ae3ebcaae566064dfec41e525d54dd8279210ccd42a278
reference_testchannel21114-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel21114 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel21114 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel21114> channel'
RUNTEST: chaincode-instantiate.sh testchannel21114 org1 VERIFY: test-chaincode-instantiated.sh testchannel21114 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg4MX0.Sja8SdYY332Igd4PkShcbw2JzukDKEP2699tv47cEYY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg4MX0.Sja8SdYY332Igd4PkShcbw2JzukDKEP2699tv47cEYY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg4MX0.Sja8SdYY332Igd4PkShcbw2JzukDKEP2699tv47cEYY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels/testchannel21114/chaincodes {"channelId":"testchannel21114","chaincodeId":"reference_testchannel21114","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjg4MX0.Sja8SdYY332Igd4PkShcbw2JzukDKEP2699tv47cEYY
curlGetIt got _ {"txid":"a7482fda13b223018b8a4b57ce8629608aae01a2e83804434eae2e6b8dfefbe2","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"a7482fda13b223018b8a4b57ce8629608aae01a2e83804434eae2e6b8dfefbe2","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel21114 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel21114' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel21114:
Name: reference_testchannel21114, Version: 1.0, Path: /tmp/reference_testchannel21114, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel21114
[1;32mOK: The test chaincode installed in testchannel21114 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel21114 org1 reference_testchannel21114 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel21114 org1 reference_testchannel21114
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel21114 org1 reference_testchannel21114 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel21114 org1 reference_testchannel21114
[1;36m
Invoke test chaincode on the <testchannel21114> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjkzOX0.y99ry-ZiQkSBfkLZH_uRRGd_c34CXF_tvgITMLOv47Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjkzOX0.y99ry-ZiQkSBfkLZH_uRRGd_c34CXF_tvgITMLOv47Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjkzOX0.y99ry-ZiQkSBfkLZH_uRRGd_c34CXF_tvgITMLOv47Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.114:4000/channels/testchannel21114/chaincodes/reference_testchannel21114 {"fcn":"put","args":["testchannel21114","testchannel21114"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTEzNjkzOX0.y99ry-ZiQkSBfkLZH_uRRGd_c34CXF_tvgITMLOv47Q
curlGetIt got _ {"txid":"98162f01f887bb078f4530f6601ff05f1ef0f6c976f8ca4535084ea323cacb24","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"98162f01f887bb078f4530f6601ff05f1ef0f6c976f8ca4535084ea323cacb24","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel21114 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel21114> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel21114 reference_testchannel21114 '["range","testchannel21114"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel21114 reference_testchannel21114 '["range","testchannel21114"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel21114 -C testchannel21114 -c '{"Args":["range","testchannel21114"]}'
[{"key":"testchannel21114","value":"testchannel21114"}]
[1;32mOK: Chaincode reference_testchannel21114 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel1692 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel1692 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel1692 org1 VERIFY: test-channel-exists.sh testchannel1692 org1
[1;36mCreating testchannel1692 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkyOH0.oYQufEfmAN1q-tgEFZGRY2lpw_Haac-tNnQXANpkaDw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkyOH0.oYQufEfmAN1q-tgEFZGRY2lpw_Haac-tNnQXANpkaDw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkyOH0.oYQufEfmAN1q-tgEFZGRY2lpw_Haac-tNnQXANpkaDw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels {"channelId":"testchannel1692","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkyOH0.oYQufEfmAN1q-tgEFZGRY2lpw_Haac-tNnQXANpkaDw
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel1692> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1692> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:55:34.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:55:34.345 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 12:55:34.348 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 12:55:34.348 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1692",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T12:55:31Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileHzJoP9 _testchannel1692_
[1;32mOK: The channel <testchannel1692> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel1692 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel1692 org2
[1;34m
Verifing if the <testchannel1692> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:55:36.679 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:55:36.684 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileo2hlHA _null_
[1;32mOK: The channel <testchannel1692> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel1692 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel1692 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel1692 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel1692 org1
[1;36mCreating ^^^^^^testchannel1692 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkzOX0.ISy-86llRf3BFVlibVEKsBXQeSO5bJ3saCoTuUAQM8Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkzOX0.ISy-86llRf3BFVlibVEKsBXQeSO5bJ3saCoTuUAQM8Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkzOX0.ISy-86llRf3BFVlibVEKsBXQeSO5bJ3saCoTuUAQM8Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels {"channelId":"^^^^^^testchannel1692","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDkzOX0.ISy-86llRf3BFVlibVEKsBXQeSO5bJ3saCoTuUAQM8Q
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel1692\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel1692\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel1692\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel1692> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:55:45.180 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:55:45.181 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileMYsbCD _null_
[1;32mOK: The channel <^^^^^^testchannel1692> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel1692 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel1692 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel1692 org2 VERIFY: test-channel-does-not-exist.sh testchannel1692 org2
[1;36mCreating testchannel1692 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk0OH0.2g4x3Ius4rtOofNvHeKcI5yBG7ipxQ-fqm1nDe8mST8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk0OH0.2g4x3Ius4rtOofNvHeKcI5yBG7ipxQ-fqm1nDe8mST8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk0OH0.2g4x3Ius4rtOofNvHeKcI5yBG7ipxQ-fqm1nDe8mST8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/channels {"channelId":"testchannel1692","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk0OH0.2g4x3Ius4rtOofNvHeKcI5yBG7ipxQ-fqm1nDe8mST8
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1692> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:55:54.010 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:55:54.014 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGrpZaP _null_
[1;32mOK: The channel <testchannel1692> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel1692-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel1692-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel1692-02 org2 VERIFY: test-channel-exists.sh testchannel1692-02 org2
[1;36mCreating testchannel1692-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk1Nn0.NlnwDqP1yZ6-brYdY_GsHbwYtoG3rKg8eY95XXAgZiI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk1Nn0.NlnwDqP1yZ6-brYdY_GsHbwYtoG3rKg8eY95XXAgZiI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk1Nn0.NlnwDqP1yZ6-brYdY_GsHbwYtoG3rKg8eY95XXAgZiI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/channels {"channelId":"testchannel1692-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk1Nn0.NlnwDqP1yZ6-brYdY_GsHbwYtoG3rKg8eY95XXAgZiI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel1692-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel1692-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:02.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:56:02.377 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-25 12:56:02.379 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-25 12:56:02.380 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel1692-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-25T12:55:59Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filejbPVwy _testchannel1692-02_
[1;32mOK: The channel <testchannel1692-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel1692-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel1692-02 org1
[1;34m
Verifing if the <testchannel1692-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:04.683 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:56:04.686 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileeaZeSV _null_
[1;32mOK: The channel <testchannel1692-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel1692-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel1692-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel1692-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel1692-02 org1
[1;36mCreating testchannel1692-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk2N30.kOb8V4stWgvMTQ9C-kcqCWkQ7aZICY4cfBxLHf-HW3g"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk2N30.kOb8V4stWgvMTQ9C-kcqCWkQ7aZICY4cfBxLHf-HW3g", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk2N30.kOb8V4stWgvMTQ9C-kcqCWkQ7aZICY4cfBxLHf-HW3g
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels {"channelId":"testchannel1692-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk2N30.kOb8V4stWgvMTQ9C-kcqCWkQ7aZICY4cfBxLHf-HW3g
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel1692-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:13.007 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:56:13.010 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileamNvII _null_
[1;32mOK: The channel <testchannel1692-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel1692 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel1692 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel1692> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel1692 org1 org2 VERIFY: test-channel-add-org.sh testchannel1692 org1 org2
[1;36mAdd org2 to the testchannel1692 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel1692 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk3NX0.UCU_m72p1cRNm9R7OzfdWDEHXtXJUZuiRNA--ywLQc4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk3NX0.UCU_m72p1cRNm9R7OzfdWDEHXtXJUZuiRNA--ywLQc4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk3NX0.UCU_m72p1cRNm9R7OzfdWDEHXtXJUZuiRNA--ywLQc4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels/testchannel1692/orgs {"orgId":"org2","orgIp":"192.168.99.116","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk3NX0.UCU_m72p1cRNm9R7OzfdWDEHXtXJUZuiRNA--ywLQc4
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel1692 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel1692 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:29.433 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:56:29.436 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 12:56:29.438 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 12:56:29.438 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUlzMTNjQ0tkNHQ3dmcyZ2c2R2Q5T2N3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1USTBNREF3V2hjTk16QXdNekl6TVRJME1EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkU0aWNnNlcrdk93bFAvci9wRVlyUEZuLzJEOGtBdEsKYjljRW1qU2FjZjZRbW5saVFEaXhZdXU4OFFZeUY0Q09LUXZ5OUx0RjF0M3EwTVIyRVRIakovT2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSVA1MTNWR0pOUkV6CkhXUU1NYkpGNUVrdXArVHlOR2w2MUZlbnVPT0MrRnVwTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUV6RW5jMUoKQ1lLZyt2N2ZxcmJyYjMxWVRmd3BUVHpWWi8vL1ZNVmFpVDNuQWlBRVJnbkNsdUJhc3pQVFh2TElzQzZ0R0FhaApjekJDNC92cjh0R3J6S0xYUHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUs0OHBzSVhma1JKQnNkWE8zZkU0bFl3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1USTBNREF3V2hjTk16QXdNekl6TVRJME1EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NaTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkFMalZJRTBYdHVxaFh5VXJhYXJHWW52YkNHVzN6WE4zaWE2VU96OEt4M1hwMFp5blYzRmNlSEFtQjlMdUhtNApVMmdyM0ZPaFVGdFA1ZnRHY2R3ZUpPQ2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKL25YZFVZazFFVE1kWkF3eHNrWGtTUzZuNVBJMGFYclVWNmU0NDRMNFc2a3dDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUp1S1BkeUhMdFRoTUR4V0NYUlgyRVUwbGt2STdVNkxNZm1iemF4NDNoT29BaUFzQXhHV3BSdjBjQk41ClZmRzVibG9YdGVnNHVza0NvNWtxdnZ2K2VTNXVnZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWakNDQWYyZ0F3SUJBZ0lRZW5zcVB3TDg1OGRoUTRlWk1jVnZ2REFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qVXhNalF3TURCYUZ3MHpNREF6TWpNeE1qUXcKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVwU0FtQ3g3T2hkQ0duV2Y5SDdKc2l6eFZicU1HZDdyVDRkWVB5K0Z2eUxYN0dockx2RW9PeStMeAp1SkhiYnp2a1cwZ290OUxWTXNNdDYybjJLcUZTZTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQXp6YnVQQThsZzhEVllma2thRTlkMGlycloza2pURG5SNldCakpTRFpnYWpBS0JnZ3Foa2pPUFFRRApBZ05IQURCRUFpQTMwc2RReGVrYVRTeFdFeTVxM0cvM2E4OGNmOVFqbFpKdVNTMk1HeUllOGdJZ0c2Z3JzNHluCmV0b1ZNaC9TM0VGa3N2NlZWNUFFVktqSmJrKzR0aUdpakhNPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filep6Kl9I _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel1692>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel1692-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel1692-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel1692-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel1692-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel1692-02 org2 org1
[1;36mAdd org1 to the testchannel1692-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel1692-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk5Mn0.-HPcRhXEN_BLzw7m5dVeihqFM0HBXnxClDdSDmtVzBw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk5Mn0.-HPcRhXEN_BLzw7m5dVeihqFM0HBXnxClDdSDmtVzBw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk5Mn0.-HPcRhXEN_BLzw7m5dVeihqFM0HBXnxClDdSDmtVzBw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/channels/testchannel1692-02/orgs {"orgId":"org1","orgIp":"192.168.99.115","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MDk5Mn0.-HPcRhXEN_BLzw7m5dVeihqFM0HBXnxClDdSDmtVzBw
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel1692-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel1692-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:46.349 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-25 12:56:46.352 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-25 12:56:46.354 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-25 12:56:46.354 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQ3U4N2R6eE8zWHhYYXFHRFUxSC9xekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpVeE1qTTRNREJhRncwek1EQXpNak14TWpNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFdlFTWExGbzNaaHdNRVp3NnNDcXZUYWdKeDlwdlFML1UKKzdtUVI5Qi9LdXBuRzdHc3NadFkzS2gvbUdHRDJ0RjFTVXBiRlhKZnFHckNVV0pSZTJlejVhTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FneVBTY0lxUC9jcmtJCmdxMkFESWk1NTVDVTRFcmcyU3dra1ZTc0lkdnY1V0V3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9RcnRueUkKeHFsVXZsZ0F1dUZOV0pvVVBrVnRXcEdpZVFoM1FrMGh1Y2wrQWlBUTZjZmo4VjljMzY4MGdHeDJVWUtQZTRKMgpyQnozOEtJRU4xaDNCWHlLeGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUpRZmhLRU01aTd0ZzYwdWRwRmxQbTB3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMU1USXpPREF3V2hjTk16QXdNekl6TVRJek9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk0ySzNqTUJ3Ty9MYWtWbzlnWGIwejBzRVlDWVNSNkl0STFVQ3p0UTBRV01wbnRVWHl2TXRUYUZ6UElRR215OQpYTXlNRWxTYnl6dUxwdDRWVnNvSThoaWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKeVBTY0lxUC9jcmtJZ3EyQURJaTU1NUNVNEVyZzJTd2trVlNzSWR2djVXRXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU1FeW43S29XRTErSndqQm9DM2VsWUxPVkFEZlBONThMeDl5WXBZd1hNUDRBaUFZVnNXZjRSVWJqR2FOCmtKaS9YZzBVM1VRYlNTaWhsclk5MzBDenV6ZUtMQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQU1TZEc3Sm1kSjRWN241a1dJeE9pYkl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STFNVEl6T0RBd1doY05NekF3TXpJek1USXoKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQUpCTG83UDEzVzFFMlRnRjhBWWdnKzc4dkp1anNUT2VicGFGeXFXOGtlUWxpMmRZSGRpWithKwp3Ryt4akpPUFI2bGRIQVh4YXhmYVFPZEJBL3dvdTVDamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdtUXdKdXUxMjB3R096cVJBdWl4cEQ3ZGVaUG9oWS9MRzZ3S1N6cEZ2Z3Iwd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBS21sdXU2STA1UGZMTmNvRDgyWFJmQzI0RmFPZjJwN01wNCs0Y2NZaHdLUkFpQkxDUlB1CnEvTU9ycGl2enFOc0x6cURINndHK0FnWjNzL2EraG1mb3JoZTlRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileKtjriv _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel1692-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel1692 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel1692 org1
Step: 10_api Test 'Join <org1> to the <testchannel1692> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel1692 org1 VERIFY: test-join-channel.sh testchannel1692 org1
[1;36mJoining org1.example.com to the testchannel1692 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel1692 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAwOX0.0xCZSSvXAft2PEaS2R-3m3ljYrHFPjE7Mb9PwK9wTc8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAwOX0.0xCZSSvXAft2PEaS2R-3m3ljYrHFPjE7Mb9PwK9wTc8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAwOX0.0xCZSSvXAft2PEaS2R-3m3ljYrHFPjE7Mb9PwK9wTc8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels/testchannel1692 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAwOX0.0xCZSSvXAft2PEaS2R-3m3ljYrHFPjE7Mb9PwK9wTc8
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel1692> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:56:54.052 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel1692> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel1692 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel1692 org2
Step: 11_api Test 'Join <org2> to the <testchannel1692> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel1692 org2 VERIFY: test-join-channel.sh testchannel1692 org2
[1;36mJoining org2.example.com to the testchannel1692 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel1692 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAxNn0.XOMJRyKUZHrxRmMtD_3PFiTxQ_yFqKKkpQoegkqU7q8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAxNn0.XOMJRyKUZHrxRmMtD_3PFiTxQ_yFqKKkpQoegkqU7q8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAxNn0.XOMJRyKUZHrxRmMtD_3PFiTxQ_yFqKKkpQoegkqU7q8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/channels/testchannel1692 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTAxNn0.XOMJRyKUZHrxRmMtD_3PFiTxQ_yFqKKkpQoegkqU7q8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel1692> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 12:59:01.240 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel1692> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel1692-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel1692-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel1692-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel1692-02 org1 VERIFY: test-join-channel.sh testchannel1692-02 org1
[1;36mJoining org1.example.com to the testchannel1692-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel1692-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTE0NX0.yadtveaV0uAZpmgB8PHTiDyxtVmGW6H3vJEybOgpAVI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTE0NX0.yadtveaV0uAZpmgB8PHTiDyxtVmGW6H3vJEybOgpAVI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTE0NX0.yadtveaV0uAZpmgB8PHTiDyxtVmGW6H3vJEybOgpAVI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels/testchannel1692-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTE0NX0.yadtveaV0uAZpmgB8PHTiDyxtVmGW6H3vJEybOgpAVI
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel1692-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 13:01:09.809 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel1692-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel1692-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel1692-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel1692-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel1692-02 org2 VERIFY: test-join-channel.sh testchannel1692-02 org2
[1;36mJoining org2.example.com to the testchannel1692-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel1692-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI3Mn0.nqnVqe2-EtUprP7fpW9nfyJhT-VlrFl8I4k7wfnzscQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI3Mn0.nqnVqe2-EtUprP7fpW9nfyJhT-VlrFl8I4k7wfnzscQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI3Mn0.nqnVqe2-EtUprP7fpW9nfyJhT-VlrFl8I4k7wfnzscQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/channels/testchannel1692-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI3Mn0.nqnVqe2-EtUprP7fpW9nfyJhT-VlrFl8I4k7wfnzscQ
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel1692-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-25 13:01:18.139 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel1692-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel1692 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel1692 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel1692> channel'
RUNTEST: chaincode-install.sh testchannel1692 org1 VERIFY: test-chaincode-installed.sh testchannel1692 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4MX0.NwdryrjHHmv2JIgQRSlgLDevSJ565KyLMr0mAg5ODcI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4MX0.NwdryrjHHmv2JIgQRSlgLDevSJ565KyLMr0mAg5ODcI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4MX0.NwdryrjHHmv2JIgQRSlgLDevSJ565KyLMr0mAg5ODcI
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel1692/chaincode-reference.js (deflated 27%)
adding: reference_testchannel1692/index.js (deflated 27%)
adding: reference_testchannel1692/package.json (deflated 41%)
adding: reference_testchannel1692/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12284 Ð¼Ð°Ñ€ 25 16:01 /tmp/reference_testchannel1692.zip
/tmp/reference_testchannel1692.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel1692:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel1692' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel1692, Version: 1.0, Path: /tmp/reference_testchannel1692, Id: ede9e10ab80be0a0e58f960756d732825e226abe23ae18d7ac71a0122fb8d2ea
reference_testchannel1692
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel1692-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel1692-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel1692-02> channel'
RUNTEST: chaincode-install.sh testchannel1692-02 org2 VERIFY: test-chaincode-installed.sh testchannel1692-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.116:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4OX0.AYGd141VudGn_aGO74Er5ddCyBq-U3MLcbMtPBG7I-4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4OX0.AYGd141VudGn_aGO74Er5ddCyBq-U3MLcbMtPBG7I-4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI4OX0.AYGd141VudGn_aGO74Er5ddCyBq-U3MLcbMtPBG7I-4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel1692-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel1692-02/index.js (deflated 27%)
adding: reference_testchannel1692-02/package.json (deflated 41%)
adding: reference_testchannel1692-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12308 Ð¼Ð°Ñ€ 25 16:01 /tmp/reference_testchannel1692-02.zip
/tmp/reference_testchannel1692-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel1692-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel1692-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel1692-02, Version: 1.0, Path: /tmp/reference_testchannel1692-02, Id: 62e0246fc1b08a544e4899ec64c11afc4ba1a17bd4d3997343656e26ff15ba50
reference_testchannel1692-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel1692 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel1692 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel1692> channel'
RUNTEST: chaincode-instantiate.sh testchannel1692 org1 VERIFY: test-chaincode-instantiated.sh testchannel1692 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI5OH0.nVP_pIHKjHgw75tcJui68SgvPl5MaL_LJkQ1katZhPM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI5OH0.nVP_pIHKjHgw75tcJui68SgvPl5MaL_LJkQ1katZhPM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI5OH0.nVP_pIHKjHgw75tcJui68SgvPl5MaL_LJkQ1katZhPM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels/testchannel1692/chaincodes {"channelId":"testchannel1692","chaincodeId":"reference_testchannel1692","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTI5OH0.nVP_pIHKjHgw75tcJui68SgvPl5MaL_LJkQ1katZhPM
curlGetIt got _ {"txid":"126d87df37b4543e14ef51a3732352dd503d5e4f67251737b78c4e575ad8da09","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"126d87df37b4543e14ef51a3732352dd503d5e4f67251737b78c4e575ad8da09","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel1692 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel1692' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel1692:
Name: reference_testchannel1692, Version: 1.0, Path: /tmp/reference_testchannel1692, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel1692
[1;32mOK: The test chaincode installed in testchannel1692 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel1692 org1 reference_testchannel1692 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel1692 org1 reference_testchannel1692
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel1692 org1 reference_testchannel1692 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel1692 org1 reference_testchannel1692
[1;36m
Invoke test chaincode on the <testchannel1692> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTM2M30.u2uhjCZXtYQH7ffgWKkdXK3ag4D1mp3n2YBvbEDZZlk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTM2M30.u2uhjCZXtYQH7ffgWKkdXK3ag4D1mp3n2YBvbEDZZlk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTM2M30.u2uhjCZXtYQH7ffgWKkdXK3ag4D1mp3n2YBvbEDZZlk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.115:4000/channels/testchannel1692/chaincodes/reference_testchannel1692 {"fcn":"put","args":["testchannel1692","testchannel1692"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTE0MTM2M30.u2uhjCZXtYQH7ffgWKkdXK3ag4D1mp3n2YBvbEDZZlk
curlGetIt got _ {"txid":"90a78410bb59995d66f4abe53d3c727a6917f38abc33f12d0ff401ae18067813","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"90a78410bb59995d66f4abe53d3c727a6917f38abc33f12d0ff401ae18067813","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel1692 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel1692> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel1692 reference_testchannel1692 '["range","testchannel1692"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel1692 reference_testchannel1692 '["range","testchannel1692"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel1692 -C testchannel1692 -c '{"Args":["range","testchannel1692"]}'
[{"key":"testchannel1692","value":"testchannel1692"}]
[1;32mOK: Chaincode reference_testchannel1692 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
