NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25400 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25400 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel25400 org1 VERIFY: test-channel-exists.sh testchannel25400 org1
[1;36mCreating testchannel25400 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE3N30.lAp5afYcb2s2VOn0s7qq0Hu4w9xY8XwCJvDp6PDPws8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE3N30.lAp5afYcb2s2VOn0s7qq0Hu4w9xY8XwCJvDp6PDPws8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE3N30.lAp5afYcb2s2VOn0s7qq0Hu4w9xY8XwCJvDp6PDPws8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels {"channelId":"testchannel25400","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE3N30.lAp5afYcb2s2VOn0s7qq0Hu4w9xY8XwCJvDp6PDPws8
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel25400> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25400> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:24.946 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:24.951 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 07:36:24.954 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 07:36:24.954 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25400",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T07:36:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filemHmZww _testchannel25400_
[1;32mOK: The channel <testchannel25400> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25400 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel25400 org2
[1;34m
Verifing if the <testchannel25400> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:28.817 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:28.832 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileAgZanm _null_
[1;32mOK: The channel <testchannel25400> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel25400 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel25400 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel25400 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel25400 org1
[1;36mCreating ^^^^^^testchannel25400 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE5MX0.mJ8sKp0-MbGjsPiwM0PK_J8-944_NJHwSt7SuJX2wBY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE5MX0.mJ8sKp0-MbGjsPiwM0PK_J8-944_NJHwSt7SuJX2wBY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE5MX0.mJ8sKp0-MbGjsPiwM0PK_J8-944_NJHwSt7SuJX2wBY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels {"channelId":"^^^^^^testchannel25400","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODE5MX0.mJ8sKp0-MbGjsPiwM0PK_J8-944_NJHwSt7SuJX2wBY
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25400\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25400\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel25400\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel25400> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:39.230 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:39.232 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileN1S4mv _null_
[1;32mOK: The channel <^^^^^^testchannel25400> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25400 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25400 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25400 org2 VERIFY: test-channel-does-not-exist.sh testchannel25400 org2
[1;36mCreating testchannel25400 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIwMn0.dD8Zy5bNLVhIk4-CBEMCYUiQoDbR9EFxAlLysVDw7I4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIwMn0.dD8Zy5bNLVhIk4-CBEMCYUiQoDbR9EFxAlLysVDw7I4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIwMn0.dD8Zy5bNLVhIk4-CBEMCYUiQoDbR9EFxAlLysVDw7I4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/channels {"channelId":"testchannel25400","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIwMn0.dD8Zy5bNLVhIk4-CBEMCYUiQoDbR9EFxAlLysVDw7I4
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25400> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:48.442 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:48.444 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filesQVv89 _null_
[1;32mOK: The channel <testchannel25400> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25400-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel25400-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel25400-02 org2 VERIFY: test-channel-exists.sh testchannel25400-02 org2
[1;36mCreating testchannel25400-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIxMX0.gQCe_Kd-HFDQ6tgDXRejl_TYD0BaZCUp1q7JMG3QotM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIxMX0.gQCe_Kd-HFDQ6tgDXRejl_TYD0BaZCUp1q7JMG3QotM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIxMX0.gQCe_Kd-HFDQ6tgDXRejl_TYD0BaZCUp1q7JMG3QotM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/channels {"channelId":"testchannel25400-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIxMX0.gQCe_Kd-HFDQ6tgDXRejl_TYD0BaZCUp1q7JMG3QotM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel25400-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel25400-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:57.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:57.235 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 07:36:57.237 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 07:36:57.238 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel25400-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T07:36:54Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileNNJBHn _testchannel25400-02_
[1;32mOK: The channel <testchannel25400-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25400-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel25400-02 org1
[1;34m
Verifing if the <testchannel25400-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:36:59.471 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:36:59.473 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePkaqQH _null_
[1;32mOK: The channel <testchannel25400-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel25400-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel25400-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel25400-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel25400-02 org1
[1;36mCreating testchannel25400-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIyMn0.jaVfeFOmzmY2s_tKcLFDA-3oXM9bgmc84EiXLGo7yFA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIyMn0.jaVfeFOmzmY2s_tKcLFDA-3oXM9bgmc84EiXLGo7yFA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIyMn0.jaVfeFOmzmY2s_tKcLFDA-3oXM9bgmc84EiXLGo7yFA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels {"channelId":"testchannel25400-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIyMn0.jaVfeFOmzmY2s_tKcLFDA-3oXM9bgmc84EiXLGo7yFA
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel25400-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:37:07.935 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:37:07.937 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filePIXRnB _null_
[1;32mOK: The channel <testchannel25400-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel25400 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25400 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel25400> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25400 org1 org2 VERIFY: test-channel-add-org.sh testchannel25400 org1 org2
[1;36mAdd org2 to the testchannel25400 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel25400 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIzMH0.UEt9L0jn5lCYAyOvFyXFhAqpEUfunfuN06WcQJ4jQ1A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIzMH0.UEt9L0jn5lCYAyOvFyXFhAqpEUfunfuN06WcQJ4jQ1A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIzMH0.UEt9L0jn5lCYAyOvFyXFhAqpEUfunfuN06WcQJ4jQ1A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels/testchannel25400/orgs {"orgId":"org2","orgIp":"192.168.99.118","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODIzMH0.UEt9L0jn5lCYAyOvFyXFhAqpEUfunfuN06WcQJ4jQ1A
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel25400 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel25400 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:37:23.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:37:23.350 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 07:37:23.351 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 07:37:23.352 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU93ZW1lbUlrY2JNbkhqNFhjaFhzOTB3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EY3hOekF3V2hjTk16QXdNekkwTURjeE56QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkdwTmZncUEyRnlHQXFNMVJ6Ukt6ZU1vOHBnc3lacEgKVUQ4eGIvWDJlN1duTHl1blNpUFR1MlJja05WMEFBdkhwN2tQMzRyY3N1Q2hqU3gwenpaSm9vT2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUpCSEQvNVNCSitHCkxSSFZvR2VtMTY4MlJaSDlMbzJ3aGRkVi9YU0xkUzBhTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVZQUVoU3cKYmZjM2xJSGRxbnlzTHAvSTlmdHdYUGRiREtqZ0g0OHNrTUZmQWlBNTllRkE1cUR4K2RXMmswMlBZQkhCK2JnMgpmWWtWM0U2a1hiU2hlL05oZkE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRYkpLdTJ6TnF0aHdMYzI1akhVcS84VEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd056RTNNREJhRncwek1EQXpNalF3TnpFM01EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSmV2Ui9QR1ZPUEwrT2JGdit3U0lmajFYQkF2bGQyanFBTkRxTUZrcmkxcTZ1Z0NrcGlZWTBjOWR5TkZrVjJZVgpXTFZFWkd6VW4xVi9LWUM5TVlXcHVxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ1EKUncvK1VnU2ZoaTBSMWFCbnB0ZXZOa1dSL1M2TnNJWFhWZjEwaTNVdEdqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBcyt0SkliYWxGbElqWWpDUmZHcUZxYkQ1aUxyRFdKQ05yckRDRlVKbmNESUNJQldhd29JU1QxOXcvbFBiCjhwNXMrcitTa29EWVFLUzBXdVY5cHk2OGdzcisKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpTSCtsTHA5OGlhTVpMU3FpS3BROUl3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016STJNRGN4TnpBd1doY05NekF3TXpJME1EY3gKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQ3hrdjBLQS9lWGx5Zmw4d2VCSDFGbVhBTlQ3aHp3S1YyMnErVU9IYmFDREI1VjB5RldvN1JSZwpUYThmU08xRjRvSFo4amNyaHRrRlBLYkhldWhhbGUyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdjRVNod0FLSGY4R2xobHZUMGI2b0cxT293cjhVNXpDeEJlMjFVTHJBOHVnd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBUFlmQjBueVI3eUxTM2JsMlRHOUdJbzVLU2d3MVhVbkVmVDM1TmdDODNVbEFpQndQdjYyCkJxcHNhUWxUVysyY1hHdWZraW9LRWFGbng5TUR1YTRSZG5hUkdnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileMiAofC _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel25400>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel25400-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel25400-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel25400-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel25400-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel25400-02 org2 org1
[1;36mAdd org1 to the testchannel25400-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel25400-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI0Nn0.cQRVB_4pCKb83NnOzRorAE3GxP3U7bsIf_jIjTq-oG0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI0Nn0.cQRVB_4pCKb83NnOzRorAE3GxP3U7bsIf_jIjTq-oG0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI0Nn0.cQRVB_4pCKb83NnOzRorAE3GxP3U7bsIf_jIjTq-oG0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/channels/testchannel25400-02/orgs {"orgId":"org1","orgIp":"192.168.99.117","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI0Nn0.cQRVB_4pCKb83NnOzRorAE3GxP3U7bsIf_jIjTq-oG0
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel25400-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel25400-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:37:39.192 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 07:37:39.196 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 07:37:39.198 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 07:37:39.199 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU5OUjA1SWNac2dwWmZ1cFhRVGhUZUF3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EY3hOVEF3V2hjTk16QXdNekkwTURjeE5UQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQktWM1FNeU5sSnhUTkw1Sm9Bb0trdWFkQThjWGRTQ0QKMXVGb3p1UlVlMnVhTW0rUk5Da1Q2WkpkcWdTRW9kL09JcFcxU3RZcy9QVVZwV2FLQ2ZJWW5zU2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUxVTDZNUGdYa2JuCjZVUmJPN0NZK2pITWM5ckRSNlF6VlRrOFJST3JvaXJiTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVmUEp6bHkKSW1QY0I2STZIdWhKeGRGTzRBY09XVkVCMnNpa0FxLy94UFNGQWlBb09FdnBEdXVXQUNQOGYrSzNwQllFSnVCdgpoVUZGQ3hrWFN5bUlSdjl0Snc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRQTdmcWtWUkI1YUJqL0ZnbmNQTEhhakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd056RTFNREJhRncwek1EQXpNalF3TnpFMU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSDRHS2ZBZStrN3VLK2pORnJhWXgvNWRocVBqeHZORWtpV1pRT3A2LzI4U042YnVLS2pQYkxPUllCRjFkeE1rawpZbkR4c3dyYy9oeHQ1OC9neEpOOXRxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQzEKQytqRDRGNUc1K2xFV3p1d21Qb3h6SFBhdzBla00xVTVQRVVUcTZJcTJ6QUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBbEQ4QkJta2xhaERweWZZTjBvcVQyK25Pem1Ld21KNEFBWlpYdWJURGNrd0NJR201WGtCejZxakJXQW1oCjAvYTV0VmZrZkxnd0NBVWxVako2QWpTa08wcDYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRVTc0NUh5QXhqd3QrQXFlOTZTeFpFakFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdOekUxTURCYUZ3MHpNREF6TWpRd056RTEKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVhbXpVZ1FIOE5yVlBvQnRCTEpiNmpYWE1uckgwSUJJN0VXTVVaRWlOOGZSMU15V2E5K2pFRHU5bApUYUU4QUFXWWJ5NytUSlZ4RTlLMi9KZ1NLaWxlUHFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQmtKeFdocE5meFJtbU5XOWpkVnJJbVo0OEpycXZ1RmRSZDN2Y0dsYWU2ZkRBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFtK0YzL3NNN3lsR3lxdkdmVVZzWlg1OHNmUEUzN001MUlBMVRKbnBEdWQ4Q0lGb1JWR0lnCmtQZjFGYWQ4cThZaWdBbldyU2FXb0huL2kzSlFrNUJQeUMzeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileSuXfie _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel25400-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25400 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25400 org1
Step: 10_api Test 'Join <org1> to the <testchannel25400> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25400 org1 VERIFY: test-join-channel.sh testchannel25400 org1
[1;36mJoining org1.example.com to the testchannel25400 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel25400 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2MX0.sGXQsty9VTRXByd6VhMuVzXnP6tprf6PxLG3ZabNeh8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2MX0.sGXQsty9VTRXByd6VhMuVzXnP6tprf6PxLG3ZabNeh8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2MX0.sGXQsty9VTRXByd6VhMuVzXnP6tprf6PxLG3ZabNeh8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels/testchannel25400 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2MX0.sGXQsty9VTRXByd6VhMuVzXnP6tprf6PxLG3ZabNeh8
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel25400> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:37:46.832 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel25400> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25400 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25400 org2
Step: 11_api Test 'Join <org2> to the <testchannel25400> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25400 org2 VERIFY: test-join-channel.sh testchannel25400 org2
[1;36mJoining org2.example.com to the testchannel25400 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel25400 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2OX0.ce4WwAGJatt005BR0DjuH1m8NqyAuh_h5HeZ8fULnC0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2OX0.ce4WwAGJatt005BR0DjuH1m8NqyAuh_h5HeZ8fULnC0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2OX0.ce4WwAGJatt005BR0DjuH1m8NqyAuh_h5HeZ8fULnC0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/channels/testchannel25400 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODI2OX0.ce4WwAGJatt005BR0DjuH1m8NqyAuh_h5HeZ8fULnC0
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel25400> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:39:54.201 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel25400> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25400-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25400-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel25400-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25400-02 org1 VERIFY: test-join-channel.sh testchannel25400-02 org1
[1;36mJoining org1.example.com to the testchannel25400-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel25400-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODM5Nn0.euSW3di9S7wj1a8S0e6PxgQKGcSEFwDzlY6HRrDrzgU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODM5Nn0.euSW3di9S7wj1a8S0e6PxgQKGcSEFwDzlY6HRrDrzgU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODM5Nn0.euSW3di9S7wj1a8S0e6PxgQKGcSEFwDzlY6HRrDrzgU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels/testchannel25400-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODM5Nn0.euSW3di9S7wj1a8S0e6PxgQKGcSEFwDzlY6HRrDrzgU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel25400-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:42:01.454 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel25400-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel25400-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel25400-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel25400-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel25400-02 org2 VERIFY: test-join-channel.sh testchannel25400-02 org2
[1;36mJoining org2.example.com to the testchannel25400-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel25400-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUyNH0.H1QAnhgNsmaVRK40zHJGArnN31f0c5jkUqdfH_DWgls"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUyNH0.H1QAnhgNsmaVRK40zHJGArnN31f0c5jkUqdfH_DWgls", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUyNH0.H1QAnhgNsmaVRK40zHJGArnN31f0c5jkUqdfH_DWgls
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/channels/testchannel25400-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUyNH0.H1QAnhgNsmaVRK40zHJGArnN31f0c5jkUqdfH_DWgls
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel25400-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 07:42:09.958 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel25400-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel25400 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25400 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel25400> channel'
RUNTEST: chaincode-install.sh testchannel25400 org1 VERIFY: test-chaincode-installed.sh testchannel25400 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUzMn0.mEOXgQKL-rBH9pQJxL9wlkHFhVgn8qh0bp14hkfeAMk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUzMn0.mEOXgQKL-rBH9pQJxL9wlkHFhVgn8qh0bp14hkfeAMk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODUzMn0.mEOXgQKL-rBH9pQJxL9wlkHFhVgn8qh0bp14hkfeAMk
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel25400/chaincode-reference.js (deflated 27%)
adding: reference_testchannel25400/index.js (deflated 27%)
adding: reference_testchannel25400/package.json (deflated 41%)
adding: reference_testchannel25400/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 мар 26 10:42 /tmp/reference_testchannel25400.zip
/tmp/reference_testchannel25400.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel25400:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25400' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel25400, Version: 1.0, Path: /tmp/reference_testchannel25400, Id: 087708e0590bd4560e730825275721c997829dab2978c448b57acfde54905428
reference_testchannel25400
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel25400-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel25400-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel25400-02> channel'
RUNTEST: chaincode-install.sh testchannel25400-02 org2 VERIFY: test-chaincode-installed.sh testchannel25400-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.118:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0MX0._MQiQYLxVmBF033nETzHUu1fVJQK2vRHp6JjoDCNvDc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0MX0._MQiQYLxVmBF033nETzHUu1fVJQK2vRHp6JjoDCNvDc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0MX0._MQiQYLxVmBF033nETzHUu1fVJQK2vRHp6JjoDCNvDc
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel25400-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel25400-02/index.js (deflated 27%)
adding: reference_testchannel25400-02/package.json (deflated 41%)
adding: reference_testchannel25400-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 мар 26 10:42 /tmp/reference_testchannel25400-02.zip
/tmp/reference_testchannel25400-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel25400-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel25400-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: No such file or directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel25400-02, Version: 1.0, Path: /tmp/reference_testchannel25400-02, Id: 88142be237ec3f3abb721f54fcd2563ee008c6d8f3fc081e95549818f0786864
reference_testchannel25400-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel25400 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel25400 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel25400> channel'
RUNTEST: chaincode-instantiate.sh testchannel25400 org1 VERIFY: test-chaincode-instantiated.sh testchannel25400 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0OX0.E8hsEOgHbngxVsU8nKg1HlMfT7Rid9M0mL035eIzB5w"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0OX0.E8hsEOgHbngxVsU8nKg1HlMfT7Rid9M0mL035eIzB5w", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0OX0.E8hsEOgHbngxVsU8nKg1HlMfT7Rid9M0mL035eIzB5w
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels/testchannel25400/chaincodes {"channelId":"testchannel25400","chaincodeId":"reference_testchannel25400","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODU0OX0.E8hsEOgHbngxVsU8nKg1HlMfT7Rid9M0mL035eIzB5w
curlGetIt got _ {"txid":"0b1c902268ed64406ff56556d6f895c491a18ab477f3efa31c99a5ba24ff1236","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"0b1c902268ed64406ff56556d6f895c491a18ab477f3efa31c99a5ba24ff1236","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel25400 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel25400' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel25400:
Name: reference_testchannel25400, Version: 1.0, Path: /tmp/reference_testchannel25400, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel25400
[1;32mOK: The test chaincode installed in testchannel25400 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel25400 org1 reference_testchannel25400 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel25400 org1 reference_testchannel25400
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel25400 org1 reference_testchannel25400 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel25400 org1 reference_testchannel25400
[1;36m
Invoke test chaincode on the <testchannel25400> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODYyOX0.Urg2EWq60M6lvxZmnfoIzoT_i7A-Gnejq9RI9xhpwHE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODYyOX0.Urg2EWq60M6lvxZmnfoIzoT_i7A-Gnejq9RI9xhpwHE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODYyOX0.Urg2EWq60M6lvxZmnfoIzoT_i7A-Gnejq9RI9xhpwHE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.117:4000/channels/testchannel25400/chaincodes/reference_testchannel25400 {"fcn":"put","args":["testchannel25400","testchannel25400"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIwODYyOX0.Urg2EWq60M6lvxZmnfoIzoT_i7A-Gnejq9RI9xhpwHE
curlGetIt got _ {"txid":"c41a60898ccd7e1f2e3f28a39347dde093c20f35791be693b2d7eb8997ae26d6","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"c41a60898ccd7e1f2e3f28a39347dde093c20f35791be693b2d7eb8997ae26d6","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel25400 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel25400> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel25400 reference_testchannel25400 '["range","testchannel25400"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel25400 reference_testchannel25400 '["range","testchannel25400"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel25400 -C testchannel25400 -c '{"Args":["range","testchannel25400"]}'
[{"key":"testchannel25400","value":"testchannel25400"}]
[1;32mOK: Chaincode reference_testchannel25400 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel24438 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel24438 org1
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel24438 org1 VERIFY: test-channel-exists.sh testchannel24438 org1
[1;36m
Creating the <testchannel24438> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel24438
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24438[m[m[m
example.com

Create channel org1 testchannel24438
--2020-03-26 08:13:55--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:13:55--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:13:55--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:13:55--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

[34m2020-03-26 08:13:55.606 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-26 08:13:55.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:13:55.666 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:13:55.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-26 08:13:55.667 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-26 08:13:55.668 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-26 08:13:55.668 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-26 08:13:55.668 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-26 08:13:55.668 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:13:55.723 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:13:55.724 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:13:55.724 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-26 08:13:55.725 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:13:55.725 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-26 08:13:55.725 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:13:55.726 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:13:55.727 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:13:55.728 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-26 08:13:55.728 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:13:55.729 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:13:55.729 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:13:55.730 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-26 08:13:55.731 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-26 08:13:55.793 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:13:55.815 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24438.pb -o orderer.example.com:7050 -c testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:13:55.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:13:55.889 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:13:55.890 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:13:55.891 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel24438
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:13:56.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:13:56.217 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24438> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24438> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:13:58.452 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:13:58.455 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:13:58.456 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:13:58.456 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24438",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:13:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileiju06P _testchannel24438_
[1;32mOK: The channel <testchannel24438> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel24438 org2
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel24438 org2
[1;34m
Verifing if the <testchannel24438> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:00.607 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:00.610 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileQjbk74 _null_
[1;32mOK: The channel <testchannel24438> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel24438 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel24438 org1
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel24438 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel24438 org1
[1;36m
Creating the <^^^^^^testchannel24438> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel24438
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel24438[m[m[m
example.com

Create channel org1 ^^^^^^testchannel24438
--2020-03-26 08:14:03--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:03--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:03--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:03--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

[34m2020-03-26 08:14:03.437 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-26 08:14:03.492 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:03.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:03.493 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-26 08:14:03.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-26 08:14:03.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-26 08:14:03.494 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-26 08:14:03.495 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-26 08:14:03.495 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:03.551 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:03.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:03.552 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-26 08:14:03.553 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:03.553 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-26 08:14:03.553 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:03.554 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:03.554 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:03.556 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-26 08:14:03.556 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:03.556 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:03.557 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:03.558 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-26 08:14:03.558 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-26 08:14:03.622 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel24438' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel24438.pb -o orderer.example.com:7050 -c ^^^^^^testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:03.699 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:03.701 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel24438.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel24438.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel24438
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel24438 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:03.875 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel24438' != '^^^^^^testchannel24438'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel24438> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:06.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:06.033 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileZDwLbQ _null_
[1;32mOK: The channel <^^^^^^testchannel24438> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel24438 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel24438 org2
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel24438 org2 VERIFY: test-channel-does-not-exist.sh testchannel24438 org2
[1;36m
Creating the <testchannel24438> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel24438
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24438[m[m[m
example.com

Create channel org2 testchannel24438
--2020-03-26 08:14:09--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:09--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:09--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:09--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

[34m2020-03-26 08:14:09.136 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-26 08:14:09.197 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:09.198 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:09.198 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-26 08:14:09.198 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-26 08:14:09.199 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-26 08:14:09.199 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-26 08:14:09.199 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-26 08:14:09.200 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:09.259 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:09.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:09.260 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-26 08:14:09.260 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:09.261 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-26 08:14:09.261 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:09.261 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:09.262 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:09.263 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-26 08:14:09.264 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:09.264 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:09.265 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:09.266 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-26 08:14:09.267 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-26 08:14:09.331 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel24438.pb -o orderer.example.com:7050 -c testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:09.413 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:09.415 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel24438.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel24438.json: No such file or directory
>> Prepare config update from org2 for channel testchannel24438
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
cat: crypto-config/configtx/update.json: No such file or directory
parse error: Unmatched '}' at line 1, column 108
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:09.591 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: Invalid channel create transaction : bad header
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24438> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:11.753 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:11.756 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file7BH4sN _null_
[1;32mOK: The channel <testchannel24438> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel24438-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel24438-02 org2
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel24438-02 org2 VERIFY: test-channel-exists.sh testchannel24438-02 org2
[1;36m
Creating the <testchannel24438-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel24438-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24438-02[m[m[m
example.com

Create channel org2 testchannel24438-02
--2020-03-26 08:14:14--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:14--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:14--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:14--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

[34m2020-03-26 08:14:14.698 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-26 08:14:14.755 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:14.756 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:14.756 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-26 08:14:14.756 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-26 08:14:14.757 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-26 08:14:14.757 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-26 08:14:14.757 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-26 08:14:14.758 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:14.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:14.813 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:14.814 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-26 08:14:14.814 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:14.814 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-26 08:14:14.815 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:14.815 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:14.816 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:14.817 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-03-26 08:14:14.817 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:14.818 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:14.818 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:14.819 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-03-26 08:14:14.819 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-26 08:14:14.882 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:14.906 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel24438-02.pb -o orderer.example.com:7050 -c testchannel24438-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:14.987 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:14.991 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:14:14.994 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:14:14.994 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel24438-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:15.315 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:15.329 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel24438-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel24438-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:17.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:17.530 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:14:17.532 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:14:17.533 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel24438-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:14:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filecAtuwM _testchannel24438-02_
[1;32mOK: The channel <testchannel24438-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel24438-02 org1
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel24438-02 org1
[1;34m
Verifing if the <testchannel24438-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:19.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:19.624 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileWzU7gW _null_
[1;32mOK: The channel <testchannel24438-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel24438-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel24438-02 org1
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel24438-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel24438-02 org1
[1;36m
Creating the <testchannel24438-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel24438-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel24438-02[m[m[m
example.com

Create channel org1 testchannel24438-02
--2020-03-26 08:14:22--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:22--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:22--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:22--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

[34m2020-03-26 08:14:22.655 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-26 08:14:22.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:22.729 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:22.730 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-26 08:14:22.730 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-26 08:14:22.730 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-26 08:14:22.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-26 08:14:22.731 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-26 08:14:22.731 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:22.785 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-26 08:14:22.785 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-26 08:14:22.786 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-26 08:14:22.786 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-26 08:14:22.786 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-26 08:14:22.787 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:22.787 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:22.788 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:22.789 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-03-26 08:14:22.789 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-26 08:14:22.790 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-26 08:14:22.790 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-26 08:14:22.791 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-03-26 08:14:22.792 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-26 08:14:22.849 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel24438-02.pb -o orderer.example.com:7050 -c testchannel24438-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:22.923 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:22.925 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel24438-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel24438-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel24438-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:23.104 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24438-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:25.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:25.355 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileQbLAoX _null_
[1;32mOK: The channel <testchannel24438-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel24438 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel24438 org1 org2
Step: 8_cli Test 'Add <org2> to channel <testchannel24438> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel24438 org1 org2 VERIFY: test-channel-add-org.sh testchannel24438 org1 org2
[1;36m
Add org2 to the testchannel24438 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel24438 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel24438 org2 7051 example.com[m[m[m
--2020-03-26 08:14:28--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:28--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:28--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 192.168.99.101
Connecting to www.org2.example.com (www.org2.example.com)|192.168.99.101|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem’ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel24438, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel24438.pb -o orderer.example.com:7050 -c testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:28.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:28.349 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:14:28.351 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:14:28.351 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel24438
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:28.657 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:28.676 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel24438 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel24438 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:30.812 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:30.814 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-26 08:14:30.816 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-26 08:14:30.816 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU5vZ2tQWFAwWGEzcUJFeUhDa0lHWHd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZ3dNakF3V2hjTk16QXdNekkwTURnd01qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkJodHFtYnlhZTZ6NU5CYTFqQjJtUTZwTy9EYVN5amgKZ2FsbWo0SVV6Tk9YZklnVmJGVTNQNVJTend1Y3ljNlFSNG9JOVBocVN1TEtDbEJWb2tVN3BaV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUM4YXkvdlMxaHpNCkNjME5GZkpnZTJHMHhGUXpvbi9vaVF3SU9RMVpLRExDTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUQrWFlIWU4KQ2VEQ3hBbmpocmdXZkFSQW9STUpxeStMTkY2SGhTY3l6a3lnQWlBTVBGd2ZjeWRueDBNM3c1alJDZHJLWW1kagp5Q2hPUGdxam9TdHFndG5qTXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQVBtZ0s4a1N0RUFGbG1EL3kxTWZlMGd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZ3dNakF3V2hjTk16QXdNekkwTURnd01qQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NaTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkwrWUg0UlkwWk5yaVU3SUd4bHpPbkNONkY4cHE1NnJsbEJlWnFuWHJCWUNLVTRncGFUY0lJaHRrNDh1VDRTUwp2M2IrTW81OERWcHk1dGFwKzBrUmMvR2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKTHhyTCs5TFdITXdKelEwVjhtQjdZYlRFVkRPaWYraUpEQWc1RFZrb01zSXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU9zSGV6NDlKOURtaW1FT3JrWkU1Qk1UQjM1N0FzY0ovNkZ1N0RkV0JFWE1BaUFTUWszQXp3OUJxUm1TCktITXdQeldiUWRiTnIxU1pZUjc3SjdXd2ZlOHdkUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRS3hsTThWQzdMSFBQS3NVWXJJcWVKakFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPREF5TURCYUZ3MHpNREF6TWpRd09EQXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVlQlVHTjF1ZU5oWTQzVVpJNkhVV1lsY2c3amt4T08vSTU0dEcwTG9vTmpLZ09DYlVIcmc3eCtjWgpJWTY1eWdVMitTWjlxemRDSHljcFRxNEFGUkpxYTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQUswYUpudWQvbTdZVENkNTFUU2RYSTZmZUlmZ1psQVZudVZpVjJNakM1VmpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFqRWN6MEpqZW1kaWxrQ3lIYWh2enY2VHpoREZxdjlWZzJ5RnV3Wkp1UDN3Q0lIcDBEbjM4CmZpaGVPSUU2eXV2Ky9OaktlQmFONEFOSWhPZXZBRFNnUkc4UAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileUnicgK _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel24438>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel24438-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel24438-02 org2 org1
Step: 9_cli Test 'Add <org1> to channel <testchannel24438-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel24438-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel24438-02 org2 org1
[1;36m
Add org1 to the testchannel24438-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel24438-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel24438-02 org1 7051 example.com[m[m[m
--2020-03-26 08:14:33--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.100
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 786 [application/x-x509-ca-cert]
Saving to: ‘crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem’

          Admin@org   0%[                    ]       0  --.-KB/s               Admin@org1.example. 100%[===================>]     786  --.-KB/s    in 0s      

2020-03-26 08:14:33 (71.0 MB/s) - ‘crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem’ saved [786/786]

--2020-03-26 08:14:33--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.100
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 867 [application/x-x509-ca-cert]
Saving to: ‘crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem’

          ca.org1.e   0%[                    ]       0  --.-KB/s               ca.org1.example.com 100%[===================>]     867  --.-KB/s    in 0s      

2020-03-26 08:14:33 (70.8 MB/s) - ‘crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem’ saved [867/867]

--2020-03-26 08:14:33--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 192.168.99.100
Connecting to www.org1.example.com (www.org1.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 871 [application/x-x509-ca-cert]
Saving to: ‘crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem’

          tlsca.org   0%[                    ]       0  --.-KB/s               tlsca.org1.example. 100%[===================>]     871  --.-KB/s    in 0s      

2020-03-26 08:14:33 (55.7 MB/s) - ‘crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem’ saved [871/871]

>> Add new org 'org1' to channel testchannel24438-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel24438-02.pb -o orderer.example.com:7050 -c testchannel24438-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:33.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:33.701 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:14:33.702 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:14:33.703 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel24438-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel24438-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:34.014 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:34.033 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel24438-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel24438-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:36.247 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:36.251 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-26 08:14:36.253 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-26 08:14:36.253 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYmtGanZOTEVrVGg5VGcvNitZeUhpREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd09EQXdNREJhRncwek1EQXpNalF3T0RBd01EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGZoMk5NZ3JBaWpZVDJLRytlYi9tZURnUFc3cEYreS8KNDNETU96YWFkQm05N201YmJPY2puMzBmbDZxR2E3YWNuWEp1ME9kWXp4alc4M1EvMEtzTk1xTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRHJUZDlyc04wRENyCmw5VlljNWNxdVJzRlltU0Y5NHRabkV5dTFsNkZwYzh3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnQndCelNzc3gKRHU1SDNPN0ZKNXpDWXFTUzFlM3ZvK0tCK0U1TG0rU1VVQWdDSUFlMGlaVDJKb1g5cHIzR2l3cWtzTU0xdmFkWAp1RVhCZFN5UjZDZ0xHRWRNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU1oRDU5M0tDM0gybUNodXBOeTd6NGN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZ3dNREF3V2hjTk16QXdNekkwTURnd01EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkhLankraWNVZkxzWkNVWkpnZmpGUTZ6MVVmak84Z0IzZkRycnIwRzM5cHhoNGRFMVg5QmIxbHBjS2krT21vawplTk1FNDV5eWZxZkJ4WUN1YWQzNEhIS2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKRHJUZDlyc04wRENybDlWWWM1Y3F1UnNGWW1TRjk0dFpuRXl1MWw2RnBjOHdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQU5JM1BKVGxHTTZjcG9iaEEyWTQ0MjVJV2JzVEZQLzZuaVhEMVVzVXJ0TWlBaUFMMlNPaUJ6REFMYmRGCi9MOWpuUWtaZXNMcDBGZ3NPN095eGdlelBXUzNOUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRTUMyamVOdXVvcHlIVWRnTHRNL1JCREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPREF3TURCYUZ3MHpNREF6TWpRd09EQXcKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUU1VWpNNm44WEptTjBVNUZzNFczamZyYmJpOXZ4VzJVd2Q4VU1jdzdhNG52S2s2dHNJVzhVR09oYQpLajlGdHZXZStKb1JUd3M2enIrNUxPTXkyUWRUanFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQi9Ndk8wQjhGcVl1WXd2T0xvNlIyd3lJUzFYWkp0Z2l5RSthWnVta3lyR2pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF1S1BFTFlZNkc5N0xDWi9oeFU1VE9QT0RZYkJSRWw0OUdtS3dKQ2ZnN0VVQ0lDRUlkN2loCmh3cVlHWllLeXZ4Z01IcTNQODg0alhRYWZlMDA3dGIzQ0xoWQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filebaERTh _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel24438-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel24438 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel24438 org1
Step: 10_cli Test 'Join <org1> to the <testchannel24438> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel24438 org1 VERIFY: test-join-channel.sh testchannel24438 org1
[1;36m
Joining  org1 to the testchannel24438 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel24438
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel24438[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c20fd07ae438
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-26 08:14:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

Join org1 to channel testchannel24438
Execute: channel fetch 0 crypto-config/configtx/testchannel24438.pb -o orderer.example.com:7050 -c testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:39.138 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:39.140 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:14:39.199 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:39.258 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel24438 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel24438> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:41.358 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel24438> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel24438 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel24438 org2
Step: 11_cli Test 'Join <org2> to the <testchannel24438> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel24438 org2 VERIFY: test-join-channel.sh testchannel24438 org2
[1;36m
Joining  org2 to the testchannel24438 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel24438
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel24438[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=23d69d4b5c89
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-26 08:14:44--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:44--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:44--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:44--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

Join org2 to channel testchannel24438
Execute: channel fetch 0 crypto-config/configtx/testchannel24438.pb -o orderer.example.com:7050 -c testchannel24438 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:44.359 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:44.363 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:14:44.421 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:44.485 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel24438 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel24438> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:46.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel24438> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel24438-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel24438-02 org1
Step: 12_cli Test 'Join <org1> to the <testchannel24438-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel24438-02 org1 VERIFY: test-join-channel.sh testchannel24438-02 org1
[1;36m
Joining  org1 to the testchannel24438-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel24438-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel24438-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=19605b3c0d02
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-26 08:14:49--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:49--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:49--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:49--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

Join org1 to channel testchannel24438-02
Execute: channel fetch 0 crypto-config/configtx/testchannel24438-02.pb -o orderer.example.com:7050 -c testchannel24438-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:49.400 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:49.403 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:14:49.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:49.514 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel24438-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel24438-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:51.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel24438-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel24438-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel24438-02 org2
Step: 13_cli Test 'Join <org2> to the <testchannel24438-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel24438-02 org2 VERIFY: test-join-channel.sh testchannel24438-02 org2
[1;36m
Joining  org2 to the testchannel24438-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel24438-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel24438-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=8f838912494b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-26 08:14:54--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:54--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:54--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem’ not modified on server. Omitting download.

--2020-03-26 08:14:54--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 192.168.99.100
Connecting to www.example.com (www.example.com)|192.168.99.100|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File ‘crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crt’ not modified on server. Omitting download.

Join org2 to channel testchannel24438-02
Execute: channel fetch 0 crypto-config/configtx/testchannel24438-02.pb -o orderer.example.com:7050 -c testchannel24438-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-03-26 08:14:54.735 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:54.739 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:14:54.802 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:14:54.859 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel24438-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel24438-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:14:57.260 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel24438-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel24438 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel24438 org1
Step: 14_cli Test 'Install test chaincode by <org1> to the <testchannel24438> channel'
RUNTEST: chaincode-install.sh testchannel24438 org1 VERIFY: test-chaincode-installed.sh testchannel24438 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel24438 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel24438[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel24438  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel24438'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3eeed8f3da22
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel24438  /opt/chaincode/node/reference_testchannel24438 node 1.0
[34m2020-03-26 08:15:01.442 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-26 08:15:01.443 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-26 08:15:01.444 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel24438'
Error: error getting chaincode code reference_testchannel24438: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel24438'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel24438' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 14_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel24438-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel24438-02 org2
Step: 15_cli Test 'Install test chaincode by <org2> to the <testchannel24438-02> channel'
RUNTEST: chaincode-install.sh testchannel24438-02 org2 VERIFY: test-chaincode-installed.sh testchannel24438-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel24438-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel24438-02[m[m[m
cp: cannot stat '/opt/chaincode/node/reference/*': No such file or directory
[1;31mError occurred. See console output above.[m[1;33m[m
[1;36m
Installing testchannel24438-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel24438-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=4252327ce478
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel24438-02  /opt/chaincode/node/reference_testchannel24438-02 node 1.0
[34m2020-03-26 08:15:09.033 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-26 08:15:09.034 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[31m2020-03-26 08:15:09.035 UTC [chaincode.platform.node] GetDeploymentPayload -> ERRO 003[0m Error writing folder to tar package no source files found in '/opt/chaincode/node/reference_testchannel24438-02'
Error: error getting chaincode code reference_testchannel24438-02: error getting chaincode package bytes: Error writing Chaincode package contents: no source files found in '/opt/chaincode/node/reference_testchannel24438-02'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel24438-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel24438 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel24438 org1
Step: 16_cli Test 'Instantiate test chaincode by <org1> to the <testchannel24438> channel'
RUNTEST: chaincode-instantiate.sh testchannel24438 org1 VERIFY: test-chaincode-instantiated.sh testchannel24438 org1
[1;36m
Instantiate test chaincode in testchannel24438 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel24438 reference_testchannel24438[m[m[m
Instantiate chaincode testchannel24438 reference_testchannel24438 '[]' 1.0  
[34m2020-03-26 08:15:15.704 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-26 08:15:15.705 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode (reference_testchannel24438:1.0)
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel24438 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel24438' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel24438:

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 16_cli: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel24438 org1 reference_testchannel24438 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel24438 org1 reference_testchannel24438
Step: 17_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel24438 org1 reference_testchannel24438 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel24438 org1 reference_testchannel24438
[1;36m
Invoke test chaincode on the <testchannel24438> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel24438 reference_testchannel24438 '["put","testchannel24438","testchannel24438"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel24438 reference_testchannel24438 '["put","testchannel24438","testchannel24438"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel24438 -C testchannel24438 -c '{"Args":["put","testchannel24438","testchannel24438"]}'
[34m2020-03-26 08:15:37.485 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel24438) orderer endpoint: orderer.example.com:7050
Error: endorsement failure during invoke. response: status:500 message:"make sure the chaincode reference_testchannel24438 has been successfully instantiated and try again: chaincode reference_testchannel24438 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;36m
Query test chaincode on the <testchannel24438> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel24438 reference_testchannel24438 '["range","testchannel24438"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel24438 reference_testchannel24438 '["range","testchannel24438"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel24438 -C testchannel24438 -c '{"Args":["range","testchannel24438"]}'
Error: endorsement failure during query. response: status:500 message:"make sure the chaincode reference_testchannel24438 has been successfully instantiated and try again: chaincode reference_testchannel24438 not found" 
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 17_cli: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27872 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27872 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27872 org1 VERIFY: test-channel-exists.sh testchannel27872 org1
[1;36mCreating testchannel27872 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY3N30.u8oGTW1ICVCAt_myJhn3VHOLJ2QztU2k6Bc4feWX_4M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY3N30.u8oGTW1ICVCAt_myJhn3VHOLJ2QztU2k6Bc4feWX_4M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY3N30.u8oGTW1ICVCAt_myJhn3VHOLJ2QztU2k6Bc4feWX_4M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel27872","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY3N30.u8oGTW1ICVCAt_myJhn3VHOLJ2QztU2k6Bc4feWX_4M
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel27872> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27872> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:34:42.778 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:34:42.780 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:34:42.782 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:34:42.782 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27872",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:34:40Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileOAyM0R _testchannel27872_
[1;32mOK: The channel <testchannel27872> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27872 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27872 org2
[1;34m
Verifing if the <testchannel27872> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:34:44.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:34:44.973 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filejDPgDa _null_
[1;32mOK: The channel <testchannel27872> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel27872 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27872 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27872 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27872 org1
[1;36mCreating ^^^^^^testchannel27872 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY4N30.LyKu1zyDntqlsb83U3dVOhx1U2wM2Sl0j4NzNiIoVl8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY4N30.LyKu1zyDntqlsb83U3dVOhx1U2wM2Sl0j4NzNiIoVl8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY4N30.LyKu1zyDntqlsb83U3dVOhx1U2wM2Sl0j4NzNiIoVl8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"^^^^^^testchannel27872","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY4N30.LyKu1zyDntqlsb83U3dVOhx1U2wM2Sl0j4NzNiIoVl8
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27872\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27872\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27872\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27872> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:34:52.501 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:34:52.503 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file67F0Q5 _null_
[1;32mOK: The channel <^^^^^^testchannel27872> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27872 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27872 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27872 org2 VERIFY: test-channel-does-not-exist.sh testchannel27872 org2
[1;36mCreating testchannel27872 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY5NX0.0QrI1ZnkxkDMUEGQWm-QwiJlrcypH66fAMAtfnapS_s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY5NX0.0QrI1ZnkxkDMUEGQWm-QwiJlrcypH66fAMAtfnapS_s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY5NX0.0QrI1ZnkxkDMUEGQWm-QwiJlrcypH66fAMAtfnapS_s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel27872","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTY5NX0.0QrI1ZnkxkDMUEGQWm-QwiJlrcypH66fAMAtfnapS_s
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27872> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:00.251 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:00.253 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileNfVb28 _null_
[1;32mOK: The channel <testchannel27872> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27872-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27872-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27872-02 org2 VERIFY: test-channel-exists.sh testchannel27872-02 org2
[1;36mCreating testchannel27872-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcwMn0.e4HgeAxXmWF_JxPQI31S-CX7LnWeqfTnFC8kqodwCmc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcwMn0.e4HgeAxXmWF_JxPQI31S-CX7LnWeqfTnFC8kqodwCmc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcwMn0.e4HgeAxXmWF_JxPQI31S-CX7LnWeqfTnFC8kqodwCmc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel27872-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcwMn0.e4HgeAxXmWF_JxPQI31S-CX7LnWeqfTnFC8kqodwCmc
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel27872-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27872-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:07.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:07.846 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:35:07.848 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:35:07.848 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27872-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:35:05Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileeHVppe _testchannel27872-02_
[1;32mOK: The channel <testchannel27872-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27872-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27872-02 org1
[1;34m
Verifing if the <testchannel27872-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:09.853 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:09.860 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileq6tRVh _null_
[1;32mOK: The channel <testchannel27872-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27872-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27872-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27872-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel27872-02 org1
[1;36mCreating testchannel27872-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxMn0.dqBag37jqEJbdnTmJhwO1rxm7pYYum6Q7AXsONkcofU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxMn0.dqBag37jqEJbdnTmJhwO1rxm7pYYum6Q7AXsONkcofU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxMn0.dqBag37jqEJbdnTmJhwO1rxm7pYYum6Q7AXsONkcofU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel27872-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxMn0.dqBag37jqEJbdnTmJhwO1rxm7pYYum6Q7AXsONkcofU
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27872-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:17.300 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:17.302 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file3bZ67Z _null_
[1;32mOK: The channel <testchannel27872-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27872 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27872 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel27872> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27872 org1 org2 VERIFY: test-channel-add-org.sh testchannel27872 org1 org2
[1;36mAdd org2 to the testchannel27872 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel27872 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxOX0.v7rM9dD3ZvVHNBJ4LFHh69JRm0uV1jlh18uvg0cDhb4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxOX0.v7rM9dD3ZvVHNBJ4LFHh69JRm0uV1jlh18uvg0cDhb4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxOX0.v7rM9dD3ZvVHNBJ4LFHh69JRm0uV1jlh18uvg0cDhb4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel27872/orgs {"orgId":"org2","orgIp":"192.168.99.100","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTcxOX0.v7rM9dD3ZvVHNBJ4LFHh69JRm0uV1jlh18uvg0cDhb4
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel27872 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel27872 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:31.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:31.485 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:35:31.487 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:35:31.487 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUpJVDd3c1lmQm4rRVRIUlIzYzNsWGt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZ3lOakF3V2hjTk16QXdNekkwTURneU5qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkNxcW5adnlhMk5wVndOa2JSV0J1bjhMWXUvc2lIeVQKK1JBeWczbjNQd1RUWHV4Mmp3V0p3dnhiYTYzdE13Vy9kRmJMSmtPazFIditGTGVHakh5M2RmU2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUp1YkFXYU9LUE5uCjFDcUNQTnFjM2R5dVdhN0JHVGE5QndCZWh1d21ocVV0TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSURZK1BBUXUKZlFuK01NT1ppVmliSXhRRy9kdDJ1MVNjOWYxRXlSNU5IQ09CQWlBS05PT2NRc0VvSU9Fakwwc1E3S2V1OG5INQoweGlzWVdzQ0Nmd2JyTWtFU2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRZDZ1ci8zVHJQTUtBT0NLWGIzNjFBREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd09ESTJNREJhRncwek1EQXpNalF3T0RJMk1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKREFzZjcyU0JVYmppdGpwSVpubGxxd0F1amh4eVBOVnc2c1dmMDBSeTdxbUNUSC90djR1VFZINEVMZTVOV2p5UQpvTkNiV2JMYnU3M2ZaeVZtcWtXb3FhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ2IKbXdGbWppanpaOVFxZ2p6YW5OM2NybG11d1JrMnZRY0FYb2JzSm9hbExUQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBd2NUY3BkRVcvcGlhWi9Lb0t4Tm9lekhLcUVjMW1SbkJWc2diL1AyQkVDNENJQjN5a2dxZkdNaDRnd0szClNoRmJFSUhGMExqUFZZNGgvd1IrQllOUTlkSVEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWakNDQWYyZ0F3SUJBZ0lRQVRDTUJZc3RVOUYvVHN1Z2VkelhjVEFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPREkyTURCYUZ3MHpNREF6TWpRd09ESTIKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUV4NFd6RWZkOERUZVg1cEd2M0hiN1ZaRWltSHhLejZ4QjVVYWMzOUlBeDdrTnR0b0UrY0lCdldhegpnVGdzdGovUTlybldvV0ZEeS9vS3lXblppbEZBSDZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQkJyNmVTK04zdDBCNVR6L0dXY1VLUEJ4YnplajFaK2pFRk1ZMTNtL3gwTGpBS0JnZ3Foa2pPUFFRRApBZ05IQURCRUFpQUFuTXJHWll4d2JjaU94S3dXd3pmTEVHRXp0RldUNERnQlBxOWlJRDh0U0FJZ1d0WWlJc29hCnQ1cXYvZ2hoMCtHZzNJa0VuNk5DMkZmeUNVcXpNcDhKQWpZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filePArTmT _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel27872>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27872-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27872-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel27872-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27872-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel27872-02 org2 org1
[1;36mAdd org1 to the testchannel27872-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel27872-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTczM30.R6-otIA8QfqKLEm0vH4G2Au0-ln8o4FIn93c9rL-BVM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTczM30.R6-otIA8QfqKLEm0vH4G2Au0-ln8o4FIn93c9rL-BVM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTczM30.R6-otIA8QfqKLEm0vH4G2Au0-ln8o4FIn93c9rL-BVM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel27872-02/orgs {"orgId":"org1","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTczM30.R6-otIA8QfqKLEm0vH4G2Au0-ln8o4FIn93c9rL-BVM
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel27872-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel27872-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:45.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:35:45.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:35:45.730 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:35:45.730 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUlNWFdXV0VKbU5hdk1SdllNb2NoWWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZ3lNekF3V2hjTk16QXdNekkwTURneU16QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkVkM2x4dys4SmZXdXRTZDZKT1hpNHVkY1FzNy9YbWEKZU9wSGxPVStzeGlFd2pBNkdRUllVNmxIK3ZhOUM3MGpZSldlQlliOUxrQUVvclMvdEFNd3pzcWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUVOWjlhc2ZOa0gyCm9nUUw5M20xM1BFTWRrL2FqZWZYQ0RVUXFFbGlrU2R6TUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEc3p2eHIKVUNTSm5rLzVENDZTZjRjTndOM05NUHJiOEE0QVpDL0NPV01tdndJZ0xobGkzeWhuQVQ5dXM3V0M3R2E3akRTTgowalV6eVRCTTV4Nno5NS9qc3JZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRSndzekI1bktlbTZ6RHVGU0Q4bEo2VEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd09ESXpNREJhRncwek1EQXpNalF3T0RJek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKbEVaSUJ1Sk5SUlJ2YWk4anUzZTlBVjhmbTlvbFhjd3YzclozTzFqWXNqRzkrbXZmck5xTWhSWjlsY0phTUdqUApTc1JHWjJCU2hYdXoxcVJVNHpBSGM2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQkQKV2ZXckh6WkI5cUlFQy9kNXRkenhESFpQMm8zbjF3ZzFFS2hKWXBFbmN6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJUSzJYZWhYMlpNbEtYSGNJaDFpSG1hY3R1Myt2cGtqb0tWM1R5ZnJOQkFnSWdNeWtaWXBPSWd1SGZOTnNtCnhsT2NPRndUZGlGWDJkejIwd1VVc1krWU5HOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWakNDQWYyZ0F3SUJBZ0lRV0FiUUVjUWM0N3JjN0M2K3ExeURXekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPREl6TURCYUZ3MHpNREF6TWpRd09ESXoKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVZUTcxenltUWpHM2xaSmlyRGtiYnNRNXljN3BDTy9DQU1rcThkUTE4M3JNMC9tVjFqNXNnbXhaeQpKNnZOWmsySzNiOUdMQ21EeWwwNzJtQ0JYdUJUMXFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQ1FCbTFoaFZnU3FYZXY1WjlKTFQ1dlZ2L2dTVjh6VHlxbEFmYUFIRWRuRkRBS0JnZ3Foa2pPUFFRRApBZ05IQURCRUFpQUxnQ1V6c2FXUENFZXNBK0o2TElrT2FIQzJabjdNV2ZPSjdxZkdVMXNqakFJZ2MyZFJmUG51CnY0TTRLQWtFSW5ZeW5EUVdGZGw2Y1FlWEV6N3pKM2xURHEwPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file2wLitM _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel27872-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27872 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27872 org1
Step: 10_api Test 'Join <org1> to the <testchannel27872> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27872 org1 VERIFY: test-join-channel.sh testchannel27872 org1
[1;36mJoining org1.example.com to the testchannel27872 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27872 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc0OH0.pgMmD7W_WINYSjqNKOcOzWI24i17KwKdmZitLlwY0Pw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc0OH0.pgMmD7W_WINYSjqNKOcOzWI24i17KwKdmZitLlwY0Pw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc0OH0.pgMmD7W_WINYSjqNKOcOzWI24i17KwKdmZitLlwY0Pw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel27872 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc0OH0.pgMmD7W_WINYSjqNKOcOzWI24i17KwKdmZitLlwY0Pw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27872> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:35:52.411 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel27872> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27872 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27872 org2
Step: 11_api Test 'Join <org2> to the <testchannel27872> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27872 org2 VERIFY: test-join-channel.sh testchannel27872 org2
[1;36mJoining org2.example.com to the testchannel27872 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27872 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc1NH0.3Bas3ATZofW6WBRk1_26wbY3_CWxgJAtZyYh0iSXwMs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc1NH0.3Bas3ATZofW6WBRk1_26wbY3_CWxgJAtZyYh0iSXwMs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc1NH0.3Bas3ATZofW6WBRk1_26wbY3_CWxgJAtZyYh0iSXwMs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel27872 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTc1NH0.3Bas3ATZofW6WBRk1_26wbY3_CWxgJAtZyYh0iSXwMs
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27872> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:37:59.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel27872> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27872-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27872-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel27872-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27872-02 org1 VERIFY: test-join-channel.sh testchannel27872-02 org1
[1;36mJoining org1.example.com to the testchannel27872-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27872-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTg4MX0.g13b5z9AABV1VyCoEwnV1TAeINHjnQr5ys06RQKfUMc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTg4MX0.g13b5z9AABV1VyCoEwnV1TAeINHjnQr5ys06RQKfUMc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTg4MX0.g13b5z9AABV1VyCoEwnV1TAeINHjnQr5ys06RQKfUMc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel27872-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMTg4MX0.g13b5z9AABV1VyCoEwnV1TAeINHjnQr5ys06RQKfUMc
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27872-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:40:05.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel27872-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27872-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27872-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel27872-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27872-02 org2 VERIFY: test-join-channel.sh testchannel27872-02 org2
[1;36mJoining org2.example.com to the testchannel27872-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27872-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAwOH0.kkfxC7wLHNEw1Q92Clv00z8G13i4RKzgtgJmwJX4sNc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAwOH0.kkfxC7wLHNEw1Q92Clv00z8G13i4RKzgtgJmwJX4sNc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAwOH0.kkfxC7wLHNEw1Q92Clv00z8G13i4RKzgtgJmwJX4sNc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel27872-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAwOH0.kkfxC7wLHNEw1Q92Clv00z8G13i4RKzgtgJmwJX4sNc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27872-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:40:12.754 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel27872-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27872 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27872 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel27872> channel'
RUNTEST: chaincode-install.sh testchannel27872 org1 VERIFY: test-chaincode-installed.sh testchannel27872 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAxNX0.Zs-ornjEKroZ5cocBv5FPIcbDvalP-XaBts5o5feSf8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAxNX0.Zs-ornjEKroZ5cocBv5FPIcbDvalP-XaBts5o5feSf8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAxNX0.Zs-ornjEKroZ5cocBv5FPIcbDvalP-XaBts5o5feSf8
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27872/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27872/index.js (deflated 27%)
adding: reference_testchannel27872/package.json (deflated 41%)
adding: reference_testchannel27872/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 мар 26 11:40 /tmp/reference_testchannel27872.zip
/tmp/reference_testchannel27872.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel27872:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27872' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel27872, Version: 1.0, Path: /tmp/reference_testchannel27872, Id: 1f954d75257e0664f0010287ffcfa55358ac41dfc3ea4160e0b2b3b632684a33
reference_testchannel27872
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27872-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27872-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel27872-02> channel'
RUNTEST: chaincode-install.sh testchannel27872-02 org2 VERIFY: test-chaincode-installed.sh testchannel27872-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAyMn0.1k2HogcT1XyBHYVd_CGM10FKIz4zN8GCGNN5Fwab4xU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAyMn0.1k2HogcT1XyBHYVd_CGM10FKIz4zN8GCGNN5Fwab4xU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAyMn0.1k2HogcT1XyBHYVd_CGM10FKIz4zN8GCGNN5Fwab4xU
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27872-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27872-02/index.js (deflated 27%)
adding: reference_testchannel27872-02/package.json (deflated 41%)
adding: reference_testchannel27872-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 мар 26 11:40 /tmp/reference_testchannel27872-02.zip
/tmp/reference_testchannel27872-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel27872-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27872-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel27872-02, Version: 1.0, Path: /tmp/reference_testchannel27872-02, Id: 91633d7b98e80857c538e040e5498cfa4fa3457d2cb80851e9fed6b92c0f8108
reference_testchannel27872-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel27872 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27872 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel27872> channel'
RUNTEST: chaincode-instantiate.sh testchannel27872 org1 VERIFY: test-chaincode-instantiated.sh testchannel27872 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAzMX0.P9RE4LUxWkE6mszWCFvtUut_qFH71AUsZ7zcphS8PuY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAzMX0.P9RE4LUxWkE6mszWCFvtUut_qFH71AUsZ7zcphS8PuY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAzMX0.P9RE4LUxWkE6mszWCFvtUut_qFH71AUsZ7zcphS8PuY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel27872/chaincodes {"channelId":"testchannel27872","chaincodeId":"reference_testchannel27872","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjAzMX0.P9RE4LUxWkE6mszWCFvtUut_qFH71AUsZ7zcphS8PuY
curlGetIt got _ {"txid":"08128fd29ee3dfbbc19ba02bdb77ecfd085974a1408b614cbf20a43772b824cd","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"08128fd29ee3dfbbc19ba02bdb77ecfd085974a1408b614cbf20a43772b824cd","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27872 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27872' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27872:
Name: reference_testchannel27872, Version: 1.0, Path: /tmp/reference_testchannel27872, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel27872
[1;32mOK: The test chaincode installed in testchannel27872 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel27872 org1 reference_testchannel27872 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel27872 org1 reference_testchannel27872
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27872 org1 reference_testchannel27872 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27872 org1 reference_testchannel27872
[1;36m
Invoke test chaincode on the <testchannel27872> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjA4NH0.aqkDOdJGDWbU4JqaCqcIdY2c73mlmfEv-XRYgdibmNA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjA4NH0.aqkDOdJGDWbU4JqaCqcIdY2c73mlmfEv-XRYgdibmNA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjA4NH0.aqkDOdJGDWbU4JqaCqcIdY2c73mlmfEv-XRYgdibmNA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel27872/chaincodes/reference_testchannel27872 {"fcn":"put","args":["testchannel27872","testchannel27872"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjA4NH0.aqkDOdJGDWbU4JqaCqcIdY2c73mlmfEv-XRYgdibmNA
curlGetIt got _ {"txid":"ad5a184956b10a18b4d361647348f19ddd60c1c894630a6474782b4de09e760d","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"ad5a184956b10a18b4d361647348f19ddd60c1c894630a6474782b4de09e760d","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel27872 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27872> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27872 reference_testchannel27872 '["range","testchannel27872"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27872 reference_testchannel27872 '["range","testchannel27872"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel27872 -C testchannel27872 -c '{"Args":["range","testchannel27872"]}'
[{"key":"testchannel27872","value":"testchannel27872"}]
[1;32mOK: Chaincode reference_testchannel27872 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14208 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14208 org1 VERIFY: test-channel-exists.sh testchannel14208 org1
[1;36mCreating testchannel14208 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkxMn0.ErI3JZzFIqYQ0Y47jxgUPgYxPx9P9uckrd1eue9LeLc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkxMn0.ErI3JZzFIqYQ0Y47jxgUPgYxPx9P9uckrd1eue9LeLc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkxMn0.ErI3JZzFIqYQ0Y47jxgUPgYxPx9P9uckrd1eue9LeLc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkxMn0.ErI3JZzFIqYQ0Y47jxgUPgYxPx9P9uckrd1eue9LeLc
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel14208> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14208> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:17.993 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:17.999 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:55:18.003 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:55:18.003 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14208",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:55:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file9nmjhp _testchannel14208_
[1;32mOK: The channel <testchannel14208> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14208 org2
[1;34m
Verifing if the <testchannel14208> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:20.141 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:20.145 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileAEVslD _null_
[1;32mOK: The channel <testchannel14208> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel14208 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14208 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14208 org1
[1;36mCreating ^^^^^^testchannel14208 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkyMn0.43lYYLylJnFYxoI4L86KV7n53CHik9-LElMTxCnXLOI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkyMn0.43lYYLylJnFYxoI4L86KV7n53CHik9-LElMTxCnXLOI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkyMn0.43lYYLylJnFYxoI4L86KV7n53CHik9-LElMTxCnXLOI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"^^^^^^testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkyMn0.43lYYLylJnFYxoI4L86KV7n53CHik9-LElMTxCnXLOI
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel14208\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14208> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:27.762 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:27.764 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/file8chS3F _null_
[1;32mOK: The channel <^^^^^^testchannel14208> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14208 org2 VERIFY: test-channel-does-not-exist.sh testchannel14208 org2
[1;36mCreating testchannel14208 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzMH0.vah8l9usHzdJt0B_vCezSlMGx5RH_fwc9a2LEf-ZaMo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzMH0.vah8l9usHzdJt0B_vCezSlMGx5RH_fwc9a2LEf-ZaMo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzMH0.vah8l9usHzdJt0B_vCezSlMGx5RH_fwc9a2LEf-ZaMo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzMH0.vah8l9usHzdJt0B_vCezSlMGx5RH_fwc9a2LEf-ZaMo
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14208> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:35.902 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:35.904 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileqV1wvc _null_
[1;32mOK: The channel <testchannel14208> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14208-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel14208-02 org2 VERIFY: test-channel-exists.sh testchannel14208-02 org2
[1;36mCreating testchannel14208-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzOH0.TnmN-NUOMQmtV749JiQiPPF3SGH5IsNgKnPuqDUax3o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzOH0.TnmN-NUOMQmtV749JiQiPPF3SGH5IsNgKnPuqDUax3o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzOH0.TnmN-NUOMQmtV749JiQiPPF3SGH5IsNgKnPuqDUax3o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels {"channelId":"testchannel14208-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjkzOH0.TnmN-NUOMQmtV749JiQiPPF3SGH5IsNgKnPuqDUax3o
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel14208-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14208-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:43.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:43.739 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-26 08:55:43.741 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-26 08:55:43.741 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14208-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-26T08:55:41Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileyoG97i _testchannel14208-02_
[1;32mOK: The channel <testchannel14208-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14208-02 org1
[1;34m
Verifing if the <testchannel14208-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:45.805 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:45.807 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileu1FKqt _null_
[1;32mOK: The channel <testchannel14208-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14208-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14208-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14208-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel14208-02 org1
[1;36mCreating testchannel14208-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk0OH0.oBf25Ht9_HHGYo6xlkMm8tywL3wG78xBphy08BaoOjs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk0OH0.oBf25Ht9_HHGYo6xlkMm8tywL3wG78xBphy08BaoOjs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk0OH0.oBf25Ht9_HHGYo6xlkMm8tywL3wG78xBphy08BaoOjs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel14208-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk0OH0.oBf25Ht9_HHGYo6xlkMm8tywL3wG78xBphy08BaoOjs
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14208-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:55:53.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:55:53.526 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filenxkc6w _null_
[1;32mOK: The channel <testchannel14208-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14208 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14208 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel14208> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14208 org1 org2 VERIFY: test-channel-add-org.sh testchannel14208 org1 org2
[1;36mAdd org2 to the testchannel14208 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk1NX0.nc3S009p8Kbcuxo66MzCtd6LotOJSyKVVsLre-SD5fQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk1NX0.nc3S009p8Kbcuxo66MzCtd6LotOJSyKVVsLre-SD5fQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk1NX0.nc3S009p8Kbcuxo66MzCtd6LotOJSyKVVsLre-SD5fQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/orgs {"orgId":"org2","orgIp":"192.168.99.100","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk1NX0.nc3S009p8Kbcuxo66MzCtd6LotOJSyKVVsLre-SD5fQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel14208 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel14208 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:56:07.908 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:56:07.912 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:56:07.913 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:56:07.914 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUtWTjdqeDgyVTc3dWpyU1FZRmtZRUV3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZzBPREF3V2hjTk16QXdNekkwTURnME9EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQklKTzJucms4bDFSaEpWdUZKZkJ0cFJ6RXpLVVo0dk0KeFhXVkQxVElrREZLd1doOHNuanVobS93TjhVNGc2eWFNeDI3NFR0aloxMzJaMGlkTk1jUzI2YWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUhWRXRSZ0dUOWJUCkJsL2dXZHl0bHAwbk8zbE1VcnNMZ2libGE1ai82ZDIxTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFESzBibHUKRmxJZ0dlK21DS3ZUdXloSkJBRUxVZThNUExGWWhkVm12eTk0R0FJZ0E1bU52NWlEbXpxWDlEcDdEbW5SV0VHbQpRSnYzT1JWRkpsNTR0RFcySXZBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQVAydkdpeDVpa1ZyWlhrWi9wR1lDYjB3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJMk1EZzBPREF3V2hjTk16QXdNekkwTURnME9EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NaTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkp6V0xLY3VYWlNyeG1iUmdJaHlwb2JoWDk3dTcxK0VyMDJ6b0h2N1AyelRxOGVrUzJyZmVUYU1GZ2lBWFlHVgpyUDBKS3pIMyt0OVo0SUhWc2IrZXpnaWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKZFVTMUdBWlAxdE1HWCtCWjNLMlduU2M3ZVV4U3V3dUNKdVZybVAvcDNiVXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnSHV0b2ViZ3ZGUndiaFlYeVEwMlhZQW04Z0NEMlhPZ1V4ekg0Sml3YUVMTUNJRzBXV014WHRCaU5ndEFVCmlPNmdkL0VkY1FwZDB0aWxYNCt6RzVBVFRydUYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRR3NJSEhQTUlzT1FXTW15cXpsVzVnREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPRFE0TURCYUZ3MHpNREF6TWpRd09EUTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVvOXBCTTd0aCtHdTJjUTQ4UFpDaUhlcElxN0VCTU9RSGxYWE5YSWcrcG9keW5FbktyemQ1NG4wegplZjlqcnVmaU9QU0ZTSjdIZHd3SzNXSyt3dk44UmFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRDlpanFlL2d2UVBzMm5nVkNhd0padko0dGxSdDVUbkdIdDA4S091VWx0UHpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUE0bStHaC84Nzc1bzdDa1RFeHBoZjRCZzdpeFdjUStNK2RzdmdjSTVyZ3pNQ0lCWTNUdVJSCnB2S0p1cTB4RmRhd1RPcDBQSGQ4bW1XbitmR2ZNSUpRVWptUgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filepVjFsB _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel14208>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14208-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14208-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel14208-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14208-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel14208-02 org2 org1
[1;36mAdd org1 to the testchannel14208-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk3MH0.6Rw_qhGx5cCOKeIH8RXhchDOgORkNuhZe6sOtVNMB0c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk3MH0.6Rw_qhGx5cCOKeIH8RXhchDOgORkNuhZe6sOtVNMB0c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk3MH0.6Rw_qhGx5cCOKeIH8RXhchDOgORkNuhZe6sOtVNMB0c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208-02/orgs {"orgId":"org1","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk3MH0.6Rw_qhGx5cCOKeIH8RXhchDOgORkNuhZe6sOtVNMB0c
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel14208-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel14208-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:56:22.405 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-26 08:56:22.409 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-26 08:56:22.410 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-26 08:56:22.410 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRVy81WTRtM1o5c0JxUGJhNk9KWGl6akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd09EUTJNREJhRncwek1EQXpNalF3T0RRMk1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFN3VrdDdBMnM0bFJ4MFNEQk1rZzhRSktNSUdDWFJTZ0wKWUJXQWdBU1hha0FueVF0TTJhWkxwMmhueThUa05Nb2JsMXNIOXNQVFBLTS8xVFM0czRWc0JhTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0Fnci9mSWl3SFVlYyttCmQ2MU1qM1NTUVpFVS9BUG1RSXBlRGtSL3BEMjlNNFl3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU5wK0VqbmwKT3dod2FnT01PN2hjcVJaTVpKQUZBZEI0eFprWHJYM3dlMGQ2QWlCWFhQamNuVU1WSE5YNXB6Y0E5UWtSWlpDbwpEYlRaMGpVTUFPMFo3U00xc2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRYXBkcHhLNHVUMmJrOFJnd0NtalZtakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpZd09EUTJNREJhRncwek1EQXpNalF3T0RRMk1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKV2Q2S3dZR2dMZnNPT3NONnN2S0dxZldDUURLNzZhNnQ2aGt3MnV1dUZLUzRrNTZVdlVQWHZRazNNazBBZ0pQbwp6eDlrUzB1WGV5RXQrd0tHL0V1d3NhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQ3YKOThpTEFkUjV6NlozclV5UGRKSkJrUlQ4QStaQWlsNE9SSCtrUGIwemhqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBL0tqVHQ4dlRsaHhLQnVra2FlQitXb3JuS1dLZmVnV1A5bEROMlRic0syNENJQ1RmUzZkeVhNaExNN0laCjF1NkZUUWVrOXVHVXFHNXlCV0ZBUFdUN2Z5bVUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRkIxeDB0SSt2RWVjZWw4bC83eWpyekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qWXdPRFEyTURCYUZ3MHpNREF6TWpRd09EUTIKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVWT21ZLy9OMWRmVTAzMG9Nd09ncXA3MkNyQkk2ZlZMelRMK2RvOCttUVdKNzkvR2dsY05DeHc0Kwo3Ym9WNW1IV09MWlU1V0NjS2pETXNIaHhHdjBXNzZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRE9NRUNEdGgvSTFzbG44SUZUK3JoelFUd0hZTmdjM0RjUHVxZ1gvNXcxU3pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF2V2tzOXBwNWoyNW9GRDVJazgyV1Vlb1J4L2J6cU9XVVQrSFVtbHlTcGRjQ0lDdWxrY2lrCjhmR1lFY2FTOXo2bzg0by9pdE5XbVQwVkZnU0lpVlhqWEFMNQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file8MghMH _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel14208-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208 org1
Step: 10_api Test 'Join <org1> to the <testchannel14208> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208 org1 VERIFY: test-join-channel.sh testchannel14208 org1
[1;36mJoining org1.example.com to the testchannel14208 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk4NH0.XqXlh5-t4cFWrJOoQ8lMFCTXwVEJqj6WqrhHy6X_Cvc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk4NH0.XqXlh5-t4cFWrJOoQ8lMFCTXwVEJqj6WqrhHy6X_Cvc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk4NH0.XqXlh5-t4cFWrJOoQ8lMFCTXwVEJqj6WqrhHy6X_Cvc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk4NH0.XqXlh5-t4cFWrJOoQ8lMFCTXwVEJqj6WqrhHy6X_Cvc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel14208> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:56:29.206 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel14208> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208 org2
Step: 11_api Test 'Join <org2> to the <testchannel14208> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208 org2 VERIFY: test-join-channel.sh testchannel14208 org2
[1;36mJoining org2.example.com to the testchannel14208 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel14208 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk5MX0.Yi64fDFaqL8c_IzQBaesVx8aKj7gzBlF-EHMlapdLpQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk5MX0.Yi64fDFaqL8c_IzQBaesVx8aKj7gzBlF-EHMlapdLpQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk5MX0.Yi64fDFaqL8c_IzQBaesVx8aKj7gzBlF-EHMlapdLpQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMjk5MX0.Yi64fDFaqL8c_IzQBaesVx8aKj7gzBlF-EHMlapdLpQ
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel14208> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 08:58:36.639 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel14208> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel14208-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208-02 org1 VERIFY: test-join-channel.sh testchannel14208-02 org1
[1;36mJoining org1.example.com to the testchannel14208-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzExOX0.nYGHHbyddSvRY32T_mChK1kYKVNKyT54hZwaSYgLPA4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzExOX0.nYGHHbyddSvRY32T_mChK1kYKVNKyT54hZwaSYgLPA4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzExOX0.nYGHHbyddSvRY32T_mChK1kYKVNKyT54hZwaSYgLPA4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzExOX0.nYGHHbyddSvRY32T_mChK1kYKVNKyT54hZwaSYgLPA4
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel14208-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 09:00:44.016 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel14208-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14208-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel14208-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14208-02 org2 VERIFY: test-join-channel.sh testchannel14208-02 org2
[1;36mJoining org2.example.com to the testchannel14208-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel14208-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI0Nn0.VRWEO3tvFUy0jSNP5Tc2VMlbFEgRDfPLwN49Bezw8MY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI0Nn0.VRWEO3tvFUy0jSNP5Tc2VMlbFEgRDfPLwN49Bezw8MY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI0Nn0.VRWEO3tvFUy0jSNP5Tc2VMlbFEgRDfPLwN49Bezw8MY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/channels/testchannel14208-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI0Nn0.VRWEO3tvFUy0jSNP5Tc2VMlbFEgRDfPLwN49Bezw8MY
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel14208-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-26 09:00:51.255 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel14208-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14208 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel14208> channel'
RUNTEST: chaincode-install.sh testchannel14208 org1 VERIFY: test-chaincode-installed.sh testchannel14208 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI1NH0.P-H0lLTj5626YTPrGcPMNGr5GfS496nmGxjwnOfwggo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI1NH0.P-H0lLTj5626YTPrGcPMNGr5GfS496nmGxjwnOfwggo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI1NH0.P-H0lLTj5626YTPrGcPMNGr5GfS496nmGxjwnOfwggo
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14208/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14208/index.js (deflated 27%)
adding: reference_testchannel14208/package.json (deflated 41%)
adding: reference_testchannel14208/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 мар 26 12:00 /tmp/reference_testchannel14208.zip
/tmp/reference_testchannel14208.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14208:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14208' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208, Version: 1.0, Path: /tmp/reference_testchannel14208, Id: 103997782e8611e3e30239be9e14e18d19802004c085a33904a1e90ea1fd99fd
reference_testchannel14208
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14208-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14208-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel14208-02> channel'
RUNTEST: chaincode-install.sh testchannel14208-02 org2 VERIFY: test-chaincode-installed.sh testchannel14208-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.100:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2MX0.jP3uuL02nOLJlZrSLNty0AS8v19zcTcfz5FVWAZ1mUI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2MX0.jP3uuL02nOLJlZrSLNty0AS8v19zcTcfz5FVWAZ1mUI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2MX0.jP3uuL02nOLJlZrSLNty0AS8v19zcTcfz5FVWAZ1mUI
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14208-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14208-02/index.js (deflated 27%)
adding: reference_testchannel14208-02/package.json (deflated 41%)
adding: reference_testchannel14208-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 мар 26 12:01 /tmp/reference_testchannel14208-02.zip
/tmp/reference_testchannel14208-02.zip
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14208-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14208-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference_testchannel14208-02, Version: 1.0, Path: /tmp/reference_testchannel14208-02, Id: 62ae7ca959d56f58174a26a47278fab680fea1279d903c2285d7ee7ce06d8f75
reference_testchannel14208-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel14208 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel14208 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel14208> channel'
RUNTEST: chaincode-instantiate.sh testchannel14208 org1 VERIFY: test-chaincode-instantiated.sh testchannel14208 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2OX0.cOckeP7oaX_14-pCBBprSpsUjxy7UacObP6wR6Z8CuM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2OX0.cOckeP7oaX_14-pCBBprSpsUjxy7UacObP6wR6Z8CuM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2OX0.cOckeP7oaX_14-pCBBprSpsUjxy7UacObP6wR6Z8CuM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/chaincodes {"channelId":"testchannel14208","chaincodeId":"reference_testchannel14208","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzI2OX0.cOckeP7oaX_14-pCBBprSpsUjxy7UacObP6wR6Z8CuM
curlGetIt got _ {"txid":"e89572edf0f95d8e81e547dd378e244556483c0afb68f38b8ffd4e5fb8496e9e","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"e89572edf0f95d8e81e547dd378e244556483c0afb68f38b8ffd4e5fb8496e9e","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel14208 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel14208' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel14208:
Name: reference_testchannel14208, Version: 1.0, Path: /tmp/reference_testchannel14208, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel14208
[1;32mOK: The test chaincode installed in testchannel14208 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel14208 org1 reference_testchannel14208 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel14208 org1 reference_testchannel14208
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel14208 org1 reference_testchannel14208 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel14208 org1 reference_testchannel14208
[1;36m
Invoke test chaincode on the <testchannel14208> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzMyMn0.o2IupQrws3dQmEpvpT603VlOTTVHqDXWJhrXuuwQnqg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzMyMn0.o2IupQrws3dQmEpvpT603VlOTTVHqDXWJhrXuuwQnqg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzMyMn0.o2IupQrws3dQmEpvpT603VlOTTVHqDXWJhrXuuwQnqg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels/testchannel14208/chaincodes/reference_testchannel14208 {"fcn":"put","args":["testchannel14208","testchannel14208"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTIxMzMyMn0.o2IupQrws3dQmEpvpT603VlOTTVHqDXWJhrXuuwQnqg
curlGetIt got _ {"txid":"12cf968ac9b9c6e443b56ec9727e9b3f59e0b00ba274bdf08dbee161f3ef92a0","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"12cf968ac9b9c6e443b56ec9727e9b3f59e0b00ba274bdf08dbee161f3ef92a0","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel14208 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel14208> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel14208 reference_testchannel14208 '["range","testchannel14208"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml -fdocker-compose-multihost.yaml   run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel14208 reference_testchannel14208 '["range","testchannel14208"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel14208 -C testchannel14208 -c '{"Args":["range","testchannel14208"]}'
[{"key":"testchannel14208","value":"testchannel14208"}]
[1;32mOK: Chaincode reference_testchannel14208 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
