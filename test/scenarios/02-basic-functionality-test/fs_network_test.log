
Arguments passed: cli org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
checkArgsPassed: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 cli org1 org2
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel28454 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 1_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel28454 org1 VERIFY: test-channel-exists.sh testchannel28454 org1
[1;36m
Creating the [testchannel28454] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28454[m[m[m
example.com

Create channel org1 testchannel28454
--2020-04-20 08:40:20--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:20--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:20--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:20--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:20.328 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:20.377 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:20.425 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:20.426 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:20.426 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-20 08:40:20.426 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:20.426 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:20.427 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:20.427 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-20 08:40:20.427 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:20.479 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:20.521 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:20.593 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:20.595 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:40:20.597 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-20 08:40:20.597 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel28454
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:20.893 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:20.901 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
setExitCode: 0
[1;35m
Verifing if the [testchannel28454] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:21.819 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:21.821 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:21.822 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:21.822 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28454",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T08:40:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file3XotFB _testchannel28454_
Expect: testchannel28454, got: testchannel28454
setExitCode: 0
[1;32mOK: The channel [testchannel28454] exists and visible to [org1][m[m[m
Step 1_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 2_cli Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel28454 org2
[1;35m
Verifing if the [testchannel28454] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:40:22.400 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:22.401 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileGdvWj6 _null_
Expect: testchannel28454, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 2_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh ^^^^^^testchannel28454 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh ^^^^^^testchannel28454 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 3_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh ^^^^^^testchannel28454 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh ^^^^^^testchannel28454 org1
[1;36m
Creating the [^^^^^^testchannel28454] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel28454[m[m[m
example.com

Create channel org1 ^^^^^^testchannel28454
--2020-04-20 08:40:24--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:24--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:24--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:24--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:24.651 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:24.698 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:24.699 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:24.747 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:24.747 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:24.748 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-20 08:40:24.749 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:24.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel28454' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel28454.pb -o orderer.example.com:7050 -c ^^^^^^testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:24.868 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:24.869 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel28454.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel28454.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel28454
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:25.036 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel28454' != '^^^^^^testchannel28454'
[1;31mError occurred. See console output above.[m[1;33m[m
setExitCode: 1
[1;35m
Verifing if the [^^^^^^testchannel28454] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:25.996 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:25.998 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filebL5Z71 _null_
Expect: ^^^^^^testchannel28454, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 3_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel28454 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 4_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel28454 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel28454 org1
[1;36m
Creating the [testchannel28454] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28454[m[m[m
example.com

Create channel org1 testchannel28454
--2020-04-20 08:40:28--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:28--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:28--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:28--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:28.237 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:28.287 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:28.333 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:28.334 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-20 08:40:28.334 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:28.334 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:28.334 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:28.334 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-20 08:40:28.335 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:28.386 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel28454': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
Execute: channel fetch config crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:28.450 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:28.451 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:28.452 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:28.452 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel28454
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:28.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel28454': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1 be at version 0, but it is currently at version 1
[1;31mError occurred. See console output above.[m[1;33m[m
setExitCode: 1
[1;35m
Verifing if the [testchannel28454] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:29.665 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:29.667 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:29.668 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:29.668 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28454",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T08:40:20Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileyWYqxM _testchannel28454_
Expect: testchannel28454, got: testchannel28454
setExitCode: 0
[1;32mOK: The channel [testchannel28454] exists and visible to [org1][m[m[m
Step 4_cli: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel28454 org2 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 5_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel28454 org2 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel28454 org2
[1;36m
Creating the [testchannel28454] channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28454[m[m[m
example.com

Create channel org2 testchannel28454
--2020-04-20 08:40:31--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:31--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:31--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:31--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:31.862 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:31.910 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:31.970 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:31.971 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:31.971 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-20 08:40:31.972 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:31.972 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:31.972 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:31.972 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-20 08:40:31.973 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:32.033 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:32.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:32.099 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel28454.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel28454.json: No such file or directory
>> Prepare config update from org2 for channel testchannel28454
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:32.256 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
setExitCode: 1
[1;35m
Verifing if the [testchannel28454] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:40:33.282 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:33.285 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileaX6IdE _null_
Expect: testchannel28454, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel28454-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-exit-code.sh ;verify_error=$(($run_error | $verify_error | $?)); /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 6_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel28454-02 org2 VERIFY: test-exit-code.sh VERIFY: test-channel-exists.sh testchannel28454-02 org2
[1;36m
Creating the [testchannel28454-02] channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel28454-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28454-02[m[m[m
example.com

Create channel org2 testchannel28454-02
--2020-04-20 08:40:35--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:35--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:35--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:35--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:35.569 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:35.615 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:35.616 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:35.663 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:35.664 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:35.664 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:35.664 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-20 08:40:35.664 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:35.664 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:35.665 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:35.665 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-20 08:40:35.665 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:35.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:35.758 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:35.828 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:35.832 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:40:35.833 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-20 08:40:35.833 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel28454-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:36.137 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:36.145 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
setExitCode: 0
[1;35m
Checking exit code...[m[m[m
[1;32mOK: Exit code is OK: (0)[m[m[m
[1;35m
Verifing if the [testchannel28454-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:40:37.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:37.170 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:37.171 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:37.171 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel28454-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T08:40:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileU3LuhG _testchannel28454-02_
Expect: testchannel28454-02, got: testchannel28454-02
setExitCode: 0
[1;32mOK: The channel [testchannel28454-02] exists and visible to [org2][m[m[m
Step 6_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 7_cli Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel28454-02 org1
[1;35m
Verifing if the [testchannel28454-02] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:37.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:37.741 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileysqk6d _null_
Expect: testchannel28454-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel28454-02 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel28454-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 8_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel28454-02 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel28454-02 org1
[1;36m
Creating the [testchannel28454-02] channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel28454-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel28454-02[m[m[m
example.com

Create channel org1 testchannel28454-02
--2020-04-20 08:40:39--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:39--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:39--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:39--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-20 08:40:39.985 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-20 08:40:40.046 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:40.094 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:40.095 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:40.095 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-20 08:40:40.095 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-20 08:40:40.095 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-20 08:40:40.095 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-20 08:40:40.096 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-20 08:40:40.096 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-20 08:40:40.151 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:40.222 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:40.224 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel28454-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel28454-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel28454-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:40.388 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
setExitCode: 1
[1;35m
Verifing if the [testchannel28454-02] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:41.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:41.396 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file3C0iDZ _null_
Expect: testchannel28454-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel28454 org1 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel28454 org1 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 9_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel28454 org1 org1 VERIFY: test-channel-add-org.sh testchannel28454 org1 org1
[1;36m
Add [org1] to the [testchannel28454] channel[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel28454 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28454 org1 7051 example.com[m[m[m
--2020-04-20 08:40:43--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:43--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:43--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel28454, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:43.606 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:43.608 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:43.610 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:43.610 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel28454
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:43.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel28454': error authorizing update: ConfigUpdate for channel 'testchannel28454-02' but envelope for channel 'testchannel28454'
[1;31mError occurred. See console output above.[m[1;33m[m
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel28454][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:44.741 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:44.743 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:44.744 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:44.744 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQTR2eEZRaFZnRkJaREd3VDl1N2xrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFK2JSZUZra2F3TUVYeThQbnVnUGR3alNoUUdUd2M0MHMKazFycjMxOUZZcmpqc1gxZmZzQ0loSWUySnJvcVU1dW00Q0pHc2ZyT3Y1TFJOUHZqelY4c1M2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnOFI2QzJBTmcySjZ5ClNUZUZRR0VpbXQ2NFBjKy9sVnR6TWtySjE5Q2NVRzR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUpRZHR1ZUgKTHFrQVlrRllGTHJFOGV4S1d4MFg4MnpQZFJ4RElvRnRuRm1YQWlCZVBzNHBRa3VNN09WYWppUjFZM3NnVmxaawpQazZkM3V1MWNxcXV0WGtNZ3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRQ25XKzIvWG5KRGYxZWlWVEFMbVoxREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSURxZlV5UEY1ci9QWHlvL0Q2V1BpdkpOZEE3M3E4bk1KeUNiQU5CM2JpRTZQNStlcUhQRWdVRFNuNGh6V2FtQwp4NjVhQk9OTXRTeGhhdFhqOHp6MXVhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHgKSG9MWUEyRFluckpKTjRWQVlTS2Ezcmc5ejcrVlczTXlTc25YMEp4UWJqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFFSW9PUk1menQ0bFh4bjc3ZjZJQU9OR1NlQ3JnNTVnSElvN3djSk12ZitRSWdUQ1hQM1YvRHQxdEtzUUVPCjRoYkcvZER2Y3R2MThKOWE5bGtxek1vVUNjVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUxrOXFDTVRwSzFmQlA5c090TzFoM2d3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05ESXdNRGN6TWpBd1doY05NekF3TkRFNE1EY3oKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCT1pKRVhGc1FseGxNUjhUR0JFSjE3c1JzZGR6azEvYUttTHl4cnBiNFBvWTFTQ1lZbmJ6MnhoRwoyYUNuaFYweHVOYTBCYkplVi9PUmMxcEpLc1JEWFFpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd2UFlqUlFhbXNXV3pnN1BhUVZQWWNNS1ppdzJmNnlrMXlKMDBNeEVUdkZRd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLeXc1VUN3RGVLd2dld0ZhMjkyenprWTE4VC80UXB1VmlIRktBS1FPU3RrQ0lEKytmamptCjByZlp2ZUpDRXZobTRWdU9pVi9sSzcxSmoySUQyZG1HMzBqSwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filem6ZHcy _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel28454][m[m[m
Step 9_cli: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel28454-02 org2 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel28454-02 org2 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 10_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel28454-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel28454-02 org2 org2
[1;36m
Add [org2] to the [testchannel28454-02] channel[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel28454-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28454-02 org2 7051 example.com[m[m[m
--2020-04-20 08:40:46--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:46--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:46--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel28454-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:46.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:46.959 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:46.961 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:46.961 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel28454-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:47.259 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:47.267 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel28454-02] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel28454-02][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:40:48.264 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:48.267 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-20 08:40:48.268 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-20 08:40:48.268 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUkzQnlOWG4waFE2N0MyUVB6RUQ2U2t3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRJd01EY3pNakF3V2hjTk16QXdOREU0TURjek1qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkk4UFk5QXMzZjl6S1lad052VjVmTFIzb2FqZUxIcSsKZEZMVXpIMUlxTThGREFudTNXcVh6WEdyQkozWjI2N1Z2UFFlcDh6MjA5bngzMlZIUER3bnQzV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU1QMUgrY0JlTWsvCmI0NzRHallXaTNnZkpES2E3SkdSeFBhcmdjZnNxMG1yTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDUlFPMk0KSGxGN093QVRZNFBuaTFvRjdyQmw3a1JkczQrbDhVSWZvRFpzZGdJZ1U3eHVSTUNEZFJUa0EvcjVOZzBNczM5QQpYL0RQQnZRTS9COHdnQ095N2FBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRVlp1UnVPa3Y3dHdGdk1PVVFBUlZTVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKK1FqNDdjOVBlVHRtRmRtNGtMRXloK2xLLzltWEJETEl2T3YvV20rcXo5UllOWkkzd05icUdyY0UyT2duU1E3dApMakpYaU5TZS9kN1JPc0dJbk8zb2RLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDREQKOVIvbkFYakpQMitPK0JvMkZvdDRIeVF5bXV5UmtjVDJxNEhIN0t0SnF6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJNZVJlWndETDVzZFEzRDlkRE5PSXhXVFhRMmpjZUgzNnBTT3M2ZHAyZmRBSWdRVmFIZ05JQzFGUlJlRkVkClAxN3Ivd3NvYXJ5ZG51S1paNTVKV2pqc1MwOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRmttNFMvOWwvY0Y2dkI5cVQ3ZEpWekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1qQXdOek15TURCYUZ3MHpNREEwTVRnd056TXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVqMFYxT0FVeTdOS1pxNWNVTmQvcDgrODV5Z2NUY2FUUkZBVTVLM3ltbVBjUG13d29RTStaVUg0SQo1Z0ZpZmhPMVZBRzdvMkRKQkNHVmdzS045aU9GeUtOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHRGTzYxeUQ2N2ttWEJKVHdTbTVINFJGVk0vcVYwNHl1bXdSbit3K2ZPZ2pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF0NWJqTUQvZzR6dnE2OFMyK0Eyem5xTGFmZWVqQ0tVSUU1Zyt4TEVQMVJFQ0lHV2IwbGVzCkpOc2d0L3JxcHhSaTlyeElRTS9aeDR0RmZZcWZScFczdUIwOAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filelDfVIa _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel28454-02][m[m[m
Step 10_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel28454 org1 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel28454 org1 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 11_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel28454 org1 org2 VERIFY: test-channel-add-org.sh testchannel28454 org1 org2
[1;36m
Add [org2] to the [testchannel28454] channel[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel28454 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28454 org2 7051 example.com[m[m[m
--2020-04-20 08:40:50--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:50--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:50--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.15
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel28454, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:50.579 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:50.581 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 08:40:50.582 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 08:40:50.582 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel28454
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:50.878 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:50.889 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel28454] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel28454][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:40:51.755 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:51.758 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-20 08:40:51.759 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-20 08:40:51.759 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUkzQnlOWG4waFE2N0MyUVB6RUQ2U2t3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRJd01EY3pNakF3V2hjTk16QXdOREU0TURjek1qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkk4UFk5QXMzZjl6S1lad052VjVmTFIzb2FqZUxIcSsKZEZMVXpIMUlxTThGREFudTNXcVh6WEdyQkozWjI2N1Z2UFFlcDh6MjA5bngzMlZIUER3bnQzV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU1QMUgrY0JlTWsvCmI0NzRHallXaTNnZkpES2E3SkdSeFBhcmdjZnNxMG1yTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDUlFPMk0KSGxGN093QVRZNFBuaTFvRjdyQmw3a1JkczQrbDhVSWZvRFpzZGdJZ1U3eHVSTUNEZFJUa0EvcjVOZzBNczM5QQpYL0RQQnZRTS9COHdnQ095N2FBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRVlp1UnVPa3Y3dHdGdk1PVVFBUlZTVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKK1FqNDdjOVBlVHRtRmRtNGtMRXloK2xLLzltWEJETEl2T3YvV20rcXo5UllOWkkzd05icUdyY0UyT2duU1E3dApMakpYaU5TZS9kN1JPc0dJbk8zb2RLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDREQKOVIvbkFYakpQMitPK0JvMkZvdDRIeVF5bXV5UmtjVDJxNEhIN0t0SnF6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJNZVJlWndETDVzZFEzRDlkRE5PSXhXVFhRMmpjZUgzNnBTT3M2ZHAyZmRBSWdRVmFIZ05JQzFGUlJlRkVkClAxN3Ivd3NvYXJ5ZG51S1paNTVKV2pqc1MwOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRmttNFMvOWwvY0Y2dkI5cVQ3ZEpWekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1qQXdOek15TURCYUZ3MHpNREEwTVRnd056TXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVqMFYxT0FVeTdOS1pxNWNVTmQvcDgrODV5Z2NUY2FUUkZBVTVLM3ltbVBjUG13d29RTStaVUg0SQo1Z0ZpZmhPMVZBRzdvMkRKQkNHVmdzS045aU9GeUtOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHRGTzYxeUQ2N2ttWEJKVHdTbTVINFJGVk0vcVYwNHl1bXdSbit3K2ZPZ2pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF0NWJqTUQvZzR6dnE2OFMyK0Eyem5xTGFmZWVqQ0tVSUU1Zyt4TEVQMVJFQ0lHV2IwbGVzCkpOc2d0L3JxcHhSaTlyeElRTS9aeDR0RmZZcWZScFczdUIwOAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filennFVOT _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel28454][m[m[m
Step 11_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel28454-02 org2 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel28454-02 org2 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 12_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel28454-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel28454-02 org2 org1
[1;36m
Add [org1] to the [testchannel28454-02] channel[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel28454-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel28454-02 org1 7051 example.com[m[m[m
--2020-04-20 08:40:54--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:54--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:54--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.7
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel28454-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:54.099 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:54.101 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-20 08:40:54.102 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-20 08:40:54.102 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org1 for channel testchannel28454-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel28454-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:54.394 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:54.403 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
setExitCode: 0
[1;32mOK: Organization [org1] added to [testchannel28454-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel28454-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:55.341 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:55.343 UTC [cli.common] readBlock -> INFO 002[0m Received block: 3
[34m2020-04-20 08:40:55.344 UTC [cli.common] readBlock -> INFO 003[0m Received block: 3
[34m2020-04-20 08:40:55.344 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 3
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQTR2eEZRaFZnRkJaREd3VDl1N2xrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFK2JSZUZra2F3TUVYeThQbnVnUGR3alNoUUdUd2M0MHMKazFycjMxOUZZcmpqc1gxZmZzQ0loSWUySnJvcVU1dW00Q0pHc2ZyT3Y1TFJOUHZqelY4c1M2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnOFI2QzJBTmcySjZ5ClNUZUZRR0VpbXQ2NFBjKy9sVnR6TWtySjE5Q2NVRzR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUpRZHR1ZUgKTHFrQVlrRllGTHJFOGV4S1d4MFg4MnpQZFJ4RElvRnRuRm1YQWlCZVBzNHBRa3VNN09WYWppUjFZM3NnVmxaawpQazZkM3V1MWNxcXV0WGtNZ3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRQ25XKzIvWG5KRGYxZWlWVEFMbVoxREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSURxZlV5UEY1ci9QWHlvL0Q2V1BpdkpOZEE3M3E4bk1KeUNiQU5CM2JpRTZQNStlcUhQRWdVRFNuNGh6V2FtQwp4NjVhQk9OTXRTeGhhdFhqOHp6MXVhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHgKSG9MWUEyRFluckpKTjRWQVlTS2Ezcmc5ejcrVlczTXlTc25YMEp4UWJqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFFSW9PUk1menQ0bFh4bjc3ZjZJQU9OR1NlQ3JnNTVnSElvN3djSk12ZitRSWdUQ1hQM1YvRHQxdEtzUUVPCjRoYkcvZER2Y3R2MThKOWE5bGtxek1vVUNjVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUxrOXFDTVRwSzFmQlA5c090TzFoM2d3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05ESXdNRGN6TWpBd1doY05NekF3TkRFNE1EY3oKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCT1pKRVhGc1FseGxNUjhUR0JFSjE3c1JzZGR6azEvYUttTHl4cnBiNFBvWTFTQ1lZbmJ6MnhoRwoyYUNuaFYweHVOYTBCYkplVi9PUmMxcEpLc1JEWFFpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd2UFlqUlFhbXNXV3pnN1BhUVZQWWNNS1ppdzJmNnlrMXlKMDBNeEVUdkZRd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLeXc1VUN3RGVLd2dld0ZhMjkyenprWTE4VC80UXB1VmlIRktBS1FPU3RrQ0lEKytmamptCjByZlp2ZUpDRXZobTRWdU9pVi9sSzcxSmoySUQyZG1HMzBqSwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileBTVwUC _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel28454-02][m[m[m
Step 12_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel28454 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel28454 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 13_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel28454 org1 VERIFY: test-join-channel.sh testchannel28454 org1
[1;36m
Joining [org1] to the [testchannel28454] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel28454[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=402380ce4b86
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-20 08:40:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:40:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel28454
Execute: channel fetch 0 crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:40:57.575 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:57.577 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:40:57.630 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:40:57.782 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
setExitCode: 0
[1;32mOK: Organization [org1] joined to [testchannel28454] channel[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel28454] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:40:58.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org1 has joined to: Channels peers has joined: 
common
testchannel15676-02
testchannel23582
testchannel18585
testchannel28454
testchannel13405
testchannel13405-02
testchannel15676
testchannel11837
testchannel11837-02
testchannel23582-02
Result: testchannel28454
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel28454] channel[m[m[m
Step 13_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel28454 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel28454 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 14_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel28454 org2 VERIFY: test-join-channel.sh testchannel28454 org2
[1;36m
Joining [org2] to the [testchannel28454] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel28454
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel28454[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3d05748d2ee7
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-20 08:41:00--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:00--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:00--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:00--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel28454
Execute: channel fetch 0 crypto-config/configtx/testchannel28454.pb -o orderer.example.com:7050 -c testchannel28454 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:41:00.992 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:00.995 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:41:01.057 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:01.256 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
setExitCode: 0
[1;32mOK: Organization [org2] joined to [testchannel28454] channel[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel28454] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:41:02.296 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org2 has joined to: Channels peers has joined: 
testchannel13405
testchannel13405-02
testchannel18585-02
testchannel18585
testchannel28454
testchannel23582
common
testchannel15676-02
testchannel15676
testchannel11837
testchannel11837-02
testchannel23582-02
Result: testchannel28454
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel28454] channel[m[m[m
Step 14_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel28454-02 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel28454-02 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 15_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel28454-02 org1 VERIFY: test-join-channel.sh testchannel28454-02 org1
[1;36m
Joining [org1] to the [testchannel28454-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel28454-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel28454-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9b5f3f846c92
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-20 08:41:04--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:04--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:04--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:04--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel28454-02
Execute: channel fetch 0 crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:41:04.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:04.626 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:41:04.707 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:04.931 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
setExitCode: 0
[1;32mOK: Organization [org1] joined to [testchannel28454-02] channel[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel28454-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 08:41:06.149 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org1 has joined to: Channels peers has joined: 
testchannel23582
testchannel18585
testchannel28454-02
common
testchannel15676-02
testchannel15676
testchannel11837
testchannel11837-02
testchannel23582-02
testchannel28454
testchannel13405
testchannel13405-02
Result: testchannel28454-02
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel28454-02] channel[m[m[m
Step 15_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel28454-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel28454-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 16_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel28454-02 org2 VERIFY: test-join-channel.sh testchannel28454-02 org2
[1;36m
Joining [org2] to the [testchannel28454-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel28454-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel28454-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d6bf6d74ea8f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-20 08:41:09--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:09--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:09--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-20 08:41:09--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.4
Connecting to www.example.com (www.example.com)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel28454-02
Execute: channel fetch 0 crypto-config/configtx/testchannel28454-02.pb -o orderer.example.com:7050 -c testchannel28454-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-20 08:41:09.280 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:09.284 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 08:41:09.356 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 08:41:09.550 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
setExitCode: 0
[1;32mOK: Organization [org2] joined to [testchannel28454-02] channel[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel28454-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 08:41:10.740 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org2 has joined to: Channels peers has joined: 
testchannel23582-02
testchannel23582
testchannel28454-02
common
testchannel15676-02
testchannel15676
testchannel11837
testchannel11837-02
testchannel13405
testchannel13405-02
testchannel18585-02
testchannel18585
testchannel28454
Result: testchannel28454-02
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel28454-02] channel[m[m[m
Step 16_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel28454 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel28454 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 17_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel28454 org1 VERIFY: test-chaincode-installed.sh testchannel28454 org1
[1;36m
Installing test chaincode in [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode to [org1][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel28454 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel28454[m[m[m
setExitCode: 0
[1;36m
Installing [testchannel28454] chaincode in [org1][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel28454'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d084a497f70b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel28454  /opt/chaincode/node/reference_testchannel28454 node 1.0
[34m2020-04-20 08:41:16.402 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-04-20 08:41:16.402 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-04-20 08:41:16.585 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
setExitCode: 0
[1;32mOK: Test chaincode installed in [org1][m[m[m
[1;35m
Verifing if the test chaincode installed in [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel28454' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11837, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11837, Id: 8218d09c09cfdafc02a701c2a49ce5655f674fdcc4eb0f9d1e4b4b16a4a98abc
Name: reference_testchannel13405, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405, Id: 76c65256c4c297541cffcaef83e785ccc318d9bd2dcfea35063723b872bc543d
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Id: aa58d566887e37b499b2bfb43c9416e4102c8a095644e0cf4627a2150ca83f44
Name: reference_testchannel18585, Version: 1.0, Path: /tmp/reference_testchannel18585, Id: 8905fc158baf7a15af4ba765de6ad9f8180f881c220f412b87eb4b26dd97089b
Name: reference_testchannel23582, Version: 1.0, Path: /tmp/reference_testchannel23582, Id: a7f8b48e85e97ee08654c5a223f836258174814c24805426c6bbd274cf7fca5f
Name: reference_testchannel28454, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28454, Id: 9e64f606321966524b2e1d66723ddb428b647a0bbb15121b99172d9409b4b5dd
setExitCode: 0
reference_testchannel28454
setExitCode: 0
[1;32mOK: The test chaincode installed in [org1][m[m[m
Step 17_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel28454 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel28454 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 18_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel28454 org2 VERIFY: test-chaincode-installed.sh testchannel28454 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode to [org2][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel28454 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel28454[m[m[m
setExitCode: 0
[1;36m
Installing [testchannel28454] chaincode in [org2][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel28454'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=56aa14ee1b4b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel28454  /opt/chaincode/node/reference_testchannel28454 node 1.0
[34m2020-04-20 08:41:25.234 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-04-20 08:41:25.234 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-04-20 08:41:25.379 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
setExitCode: 0
[1;32mOK: Test chaincode installed in [org2][m[m[m
[1;35m
Verifing if the test chaincode installed in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel28454' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel11837-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11837-02, Id: 0ec564e5c031a572678a5c2fe549a46459cb8a188909e766ca4d6c39ec2c0b43
Name: reference_testchannel11837, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel11837, Id: 8218d09c09cfdafc02a701c2a49ce5655f674fdcc4eb0f9d1e4b4b16a4a98abc
Name: reference_testchannel13405-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405-02, Id: 74dc8f8b9ed0974c6b6f88f930bc784c79aee28ef8f81c6cb119fb70f5ecc723
Name: reference_testchannel13405, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405, Id: 76c65256c4c297541cffcaef83e785ccc318d9bd2dcfea35063723b872bc543d
Name: reference_testchannel15676-02, Version: 1.0, Path: /tmp/reference_testchannel15676-02, Id: b1b72b3023f3c56b7648445bef9b6a9058af7fb4da03c9dcf50ea1bb1557cf73
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Id: aa58d566887e37b499b2bfb43c9416e4102c8a095644e0cf4627a2150ca83f44
Name: reference_testchannel18585-02, Version: 1.0, Path: /tmp/reference_testchannel18585-02, Id: 512277a638b3e0f4c0e46b91e2fdac9157253186fb5ffb7be8d4bbeb63bf4eef
Name: reference_testchannel18585, Version: 1.0, Path: /tmp/reference_testchannel18585, Id: 8905fc158baf7a15af4ba765de6ad9f8180f881c220f412b87eb4b26dd97089b
Name: reference_testchannel23582-02, Version: 1.0, Path: /tmp/reference_testchannel23582-02, Id: 64ddb059e2da8a5940c619f595438310cf61f203b1dd3b4313043295e4a00772
Name: reference_testchannel23582, Version: 1.0, Path: /tmp/reference_testchannel23582, Id: a7f8b48e85e97ee08654c5a223f836258174814c24805426c6bbd274cf7fca5f
Name: reference_testchannel28454, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28454, Id: 9e64f606321966524b2e1d66723ddb428b647a0bbb15121b99172d9409b4b5dd
setExitCode: 0
reference_testchannel28454
setExitCode: 0
[1;32mOK: The test chaincode installed in [org2][m[m[m
Step 18_cli: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel28454-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel28454-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 19_cli Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel28454-02 org2 VERIFY: test-chaincode-installed.sh testchannel28454-02 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode to [org2][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel28454-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel28454-02[m[m[m
setExitCode: 0
[1;36m
Installing [testchannel28454-02] chaincode in [org2][m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel28454-02'[m[m[m
