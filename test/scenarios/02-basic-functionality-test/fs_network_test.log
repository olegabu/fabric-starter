
Arguments passed: cli,api org1 org2
Arguments required: Fabric test interface:interface_types First organization:org1 Second organization:org2
scenarioArgsParse: args required: 3 Fabric test interface:interface_types First organization:org1 Second organization:org2 args passed: 3 cli,api org1 org2
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9070 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9070 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 1_cli Test 'Create <testchannel9070> channel in ORG1: <org1>'(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel9070 org1 VERIFY: test-channel-exists.sh testchannel9070 org1
[1;36m
Creating the <testchannel9070> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9070
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9070[m[m[m
example.com

Create channel org1 testchannel9070
--2020-04-02 16:46:18--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:18--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:18--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:18--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-02 16:46:19.066 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-02 16:46:19.126 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:19.180 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:19.182 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-02 16:46:19.182 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:19.182 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:19.182 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:19.182 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-02 16:46:19.183 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-02 16:46:19.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:19.294 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:19.400 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:19.402 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:46:19.403 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-02 16:46:19.403 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org1 for channel testchannel9070
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:19.719 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:19.730 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9070> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9070> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:20.992 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:20.995 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:20.997 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:20.997 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9070",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-02T16:46:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filefkkziz _testchannel9070_
Expect: testchannel9070, got: testchannel9070
[1;32mOK: The channel <testchannel9070> exists and visible to org1[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9070 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 2_cli Test 'The channel is not visible in ORG2: <org2>'(B[m
[1m[37m---------------------------(B[m
VERIFY: test-channel-does-not-exist.sh testchannel9070 org2
[1;34m
Verifing if the <testchannel9070> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:46:21.686 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:21.689 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filesk17Lj _null_
Expect: testchannel9070, got: null
[1;32mOK: The channel <testchannel9070> does not exist and in not visible to org2[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel9070 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel9070 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 3_cli Test 'Can not create the channel with incorrect name in ORG1'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel9070 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel9070 org1
[1;36m
Creating the <^^^^^^testchannel9070> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel9070
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel9070[m[m[m
example.com

Create channel org1 ^^^^^^testchannel9070
--2020-04-02 16:46:24--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:24--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:24--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:24--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-02 16:46:24.290 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-02 16:46:24.343 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-02 16:46:24.394 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:24.395 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:24.395 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:24.396 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-02 16:46:24.396 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:24.396 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:24.397 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:24.397 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-02 16:46:24.397 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-02 16:46:24.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel9070' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel9070.pb -o orderer.example.com:7050 -c ^^^^^^testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:24.527 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:24.530 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel9070.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel9070.json: No such file or directory
>> Prepare config update from org1 for channel ^^^^^^testchannel9070
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel9070 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:24.710 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel9070' != '^^^^^^testchannel9070'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel9070> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:25.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:25.786 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/fileEdRIbF _null_
Expect: ^^^^^^testchannel9070, got: null
[1;32mOK: The channel <^^^^^^testchannel9070> does not exist and in not visible to org1[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9070 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9070 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 4_cli Test 'Can not create channel in ORG2 with the same name'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh testchannel9070 org2 VERIFY: test-channel-does-not-exist.sh testchannel9070 org2
[1;36m
Creating the <testchannel9070> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel9070
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9070[m[m[m
example.com

Create channel org2 testchannel9070
--2020-04-02 16:46:28--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:28--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:28--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:28--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-02 16:46:28.297 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-02 16:46:28.351 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:28.402 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:28.403 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:28.404 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-02 16:46:28.404 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:28.404 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:28.404 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:28.405 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-02 16:46:28.405 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-02 16:46:28.462 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:28.533 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:28.535 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel9070.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel9070.json: No such file or directory
>> Prepare config update from org2 for channel testchannel9070
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:28.719 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9070> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:46:29.868 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:29.869 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filep7JG8T _null_
Expect: testchannel9070, got: null
[1;32mOK: The channel <testchannel9070> does not exist and in not visible to org2[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9070-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9070-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 5_cli Test 'Create new channel <testchannel9070-02> in ORG2'(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel9070-02 org2 VERIFY: test-channel-exists.sh testchannel9070-02 org2
[1;36m
Creating the <testchannel9070-02> channel for org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel9070-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9070-02[m[m[m
example.com

Create channel org2 testchannel9070-02
--2020-04-02 16:46:32--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:32--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:32--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:32--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-02 16:46:32.308 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-02 16:46:32.371 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:32.422 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:32.423 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:32.423 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[33m2020-04-02 16:46:32.423 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:32.423 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:32.423 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:32.424 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org2 in configtx.yaml
[34m2020-04-02 16:46:32.425 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-02 16:46:32.483 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:32.518 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:32.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:32.591 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:46:32.592 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-02 16:46:32.592 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from org2 for channel testchannel9070-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:32.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:32.915 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel9070-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9070-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:46:34.129 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:34.134 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:34.135 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:34.135 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel9070-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-02T16:46:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileSOBXEo _testchannel9070-02_
Expect: testchannel9070-02, got: testchannel9070-02
[1;32mOK: The channel <testchannel9070-02> exists and visible to org2[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9070-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 6_cli Test 'This new channel is not visible in ORG1'(B[m
[1m[37m---------------------------(B[m
VERIFY: test-channel-does-not-exist.sh testchannel9070-02 org1
[1;34m
Verifing if the <testchannel9070-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:34.766 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:34.768 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filecybCu0 _null_
Expect: testchannel9070-02, got: null
[1;32mOK: The channel <testchannel9070-02> does not exist and in not visible to org1[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel9070-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel9070-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 7_cli Test 'Can not create channel in ORG1 with the same name'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh testchannel9070-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel9070-02 org1
[1;36m
Creating the <testchannel9070-02> channel for org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel9070-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel9070-02[m[m[m
example.com

Create channel org1 testchannel9070-02
--2020-04-02 16:46:37--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:37--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:37--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:37--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-04-02 16:46:37.280 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-04-02 16:46:37.334 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:37.388 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:37.389 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[33m2020-04-02 16:46:37.389 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-04-02 16:46:37.390 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-04-02 16:46:37.390 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-04-02 16:46:37.390 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group org1 in configtx.yaml
[34m2020-04-02 16:46:37.390 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-04-02 16:46:37.451 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:37.524 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:37.525 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel9070-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel9070-02.json: No such file or directory
>> Prepare config update from org1 for channel testchannel9070-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:37.708 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel9070-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:38.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:38.846 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filexKnL1k _null_
Expect: testchannel9070-02, got: null
[1;32mOK: The channel <testchannel9070-02> does not exist and in not visible to org1[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9070 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9070 org1 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 8_cli Test 'Add <org1> to channel <testchannel9070> created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9070 org1 org1 VERIFY: test-channel-add-org.sh testchannel9070 org1 org1
[1;36m
Add org1 to the testchannel9070 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel9070 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9070 org1 7051 example.com[m[m[m
--2020-04-02 16:46:41--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:41--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:41--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel9070, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:41.269 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:41.272 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:41.273 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:41.273 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org1 for channel testchannel9070
configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:41.572 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'testchannel9070': error authorizing update: ConfigUpdate for channel 'testchannel9070-02' but envelope for channel 'testchannel9070'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel9070 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:42.634 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:42.636 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:42.637 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:42.637 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUFd5b2o5WVdlZXlvd1JKS1ArMHpPREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFRWE4L0FXM05mUTBRODhOZzhpSEJOczZqR0MwL001M0oKQlZPMGp6V1pyZEJzQnZ0SC9uYldva1IzSGNHbnZoTDF3UDB1ZG5iWk5YcEp4NC9HejFoOXpLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnODRwalNJSkprVXFnCkRPa1VyNmJ5MlV5Rk1yeURnbWJjc2JLQUs2bDRvaHN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBZQ2tIbFQKSytXL0c3SFhic0xOWUJqU2JSVWlUTlB5Mk4zd3JHbXhxeVE2QWlBcVJyMWJSeGtwQnVkZG5PMGorb1hhdTQ4bApTL20vMVFRZ3l0TExZY2xzc0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUtWYTViV2JTaW82dWg4em1jMGtyZ1l3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBeE1UQTFPVEF3V2hjTk16QXdNek13TVRBMU9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBtV3ExeDlpYUcrRVZSU3RKa25OK09oT1Y0ZzkzbUU4aUZiUS96aU1DWHNpYlp0b2JtZ3lzZzVBT3g5ZDhwRgp3M1JjcExhTTMxbmdFMFBJOFN4OHdFNmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKODRwalNJSkprVXFnRE9rVXI2YnkyVXlGTXJ5RGdtYmNzYktBSzZsNG9oc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnRzZXd256ZkpSbXVKeWd1SC9aNVUrcW9yRVVpK0VveFZJdkxSYitucU1jWUNJRGtpT3FGTXV0dXp1THJPCjZpU2pJbXE3ajd4K1ZnVy8rTlJrYUlvK01UVEwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpOSmNrS3RRUENBei9uNUo4aDZJTGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTUQ4MGdlV2g4aHF6Y0RNVlF6NGlIUE90VXg3S0kwVUw2cVhoTEZXNnZSTmdNS0xvYXZkRWxIQgpGdml4VFZ3S0gwc1d3TXMxMXZValNwN2VvSmVZZ1hlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdESXd6eE9HVGd4dUtoSWdMb2MxZkJFRDg3RnpLNGlnc3BhVkdhVDJzeG9Jd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTStkWGFPUFhHeG1ZVGRQMTJVU0U1eGhTUGhLU2ZIQWpKK2pyVWgwQTFySUFpQTJEUFpLCkRQSUU1dGEvSW01MTE2c2xFVVpyeFR0OWQzQWd6ZXZPeWdSM1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileqvXLZd _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel9070>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9070-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9070-02 org2 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 9_cli Test 'Add <org2> to channel <testchannel9070-02> created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9070-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel9070-02 org2 org2
[1;36m
Add org2 to the testchannel9070-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel9070-02 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9070-02 org2 7051 example.com[m[m[m
--2020-04-02 16:46:45--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:45--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:45--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel9070-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:45.242 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:45.243 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:45.244 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:45.244 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel9070-02
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:45.554 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:45.564 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel9070-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel9070-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:46:46.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:46.607 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-02 16:46:46.608 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-02 16:46:46.608 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQytUdlc1dXFtM25raVZyeFBRY0lOekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFcUF0ZlBCem8wVXh5SjNrVnVMemxuNmt6WURDWm5FM0QKR2hsVE4rNXErQVM4V2Nsdkw2dkZmNlliQVpGQ0N1K0phUDJzVm1nYlg2SUtEdWpKTGd4UVlLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRjZYMnNQY2lqYVloCnpCVWQxNjNqSk12K3BQYzdwczRRS1JOQVAySkdKSEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUtCZHRQLzYKcWNYRE1iTmYxTGxBWk1Gc1p5OFU4MkdPWC9sRE44OFZuS2wxQWlCYWd2M3B3N0E5WG15KzRlVFNFQ2h2SFFvNQp3NmYvdFZQTmRDY0Y3V2Ywb1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUXd3OFlBTFNLc0oxNUx6eXZaaUpwakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKYTVzS2piUlhGNVRUVldFNlpHSlZiam1LVnZhS1pocklHUys1TDJhMjZhNWMwVlcvK1I0Qk5hMjZBajh2bU9QQgpsZDFRSW9GSCt1ZEh3bDBBL1UrcENxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVgKcGZhdzl5S05waUhNRlIzWHJlTWt5LzZrOXp1bXpoQXBFMEEvWWtZa2NUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFrb1RXTnhCS2xvZWpDam9wVC9PVEszN1lta3V1Rnd2QTVOdW9DZEdsa3BnSWdYZzR0WVEzMlZ2SC9wZVRECmRyYk9RY3A1REQvaTVkelQ3OFl0aDBwcW5HND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9wZ0YzSUw4cHFSaXVCK0ZMSGdYdVF3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRmU3b2U3NEtrM05ORFd5b2dUWms0YkF0MC9xb3JWbnNWbmN1L3NNVkt6SHJiemMxaHpwa21tYwpRbW9rZ3J4TlhDaUxJTUJ5RmhDUENvaHBJRDNzS1gyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdBdFI4ZXNVNUFqRnBnemFRc1NpMXJpejhxM2FheUZWdnRGcFRzRCs3WkZVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdaWEgxWDYydnorSU4yNnFLMUhrT2VwRVdPQTBIR2FPRHBjamtTZTZRMkRNQ0lBWm5PUSt0ClphejVFb2FuZ1JGdlB1VkFmR3NhSWxpem1vYU5oZy9tRzQ2RgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileo07ESn _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel9070-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9070 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9070 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 10_cli Test 'Add <org2> to channel <testchannel9070> created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9070 org1 org2 VERIFY: test-channel-add-org.sh testchannel9070 org1 org2
[1;36m
Add org2 to the testchannel9070 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel9070 org2
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9070 org2 7051 example.com[m[m[m
--2020-04-02 16:46:49--  http://www.org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/admincerts/Admin@org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:49--  http://www.org2.example.com/msp/cacerts/ca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/cacerts/ca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:49--  http://www.org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pem
Resolving www.org2.example.com (www.org2.example.com)... 172.19.0.14
Connecting to www.org2.example.com (www.org2.example.com)|172.19.0.14|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org2.example.com/msp/tlscacerts/tlsca.org2.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org2' to channel testchannel9070, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:49.184 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:49.186 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:46:49.187 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:46:49.187 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from org2 for channel testchannel9070
>> org2 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:49.496 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:49.507 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org2 added to testchannel9070 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel9070 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:46:50.662 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:50.665 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-02 16:46:50.666 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-02 16:46:50.666 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQytUdlc1dXFtM25raVZyeFBRY0lOekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFcUF0ZlBCem8wVXh5SjNrVnVMemxuNmt6WURDWm5FM0QKR2hsVE4rNXErQVM4V2Nsdkw2dkZmNlliQVpGQ0N1K0phUDJzVm1nYlg2SUtEdWpKTGd4UVlLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRjZYMnNQY2lqYVloCnpCVWQxNjNqSk12K3BQYzdwczRRS1JOQVAySkdKSEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUtCZHRQLzYKcWNYRE1iTmYxTGxBWk1Gc1p5OFU4MkdPWC9sRE44OFZuS2wxQWlCYWd2M3B3N0E5WG15KzRlVFNFQ2h2SFFvNQp3NmYvdFZQTmRDY0Y3V2Ywb1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUXd3OFlBTFNLc0oxNUx6eXZaaUpwakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKYTVzS2piUlhGNVRUVldFNlpHSlZiam1LVnZhS1pocklHUys1TDJhMjZhNWMwVlcvK1I0Qk5hMjZBajh2bU9QQgpsZDFRSW9GSCt1ZEh3bDBBL1UrcENxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVgKcGZhdzl5S05waUhNRlIzWHJlTWt5LzZrOXp1bXpoQXBFMEEvWWtZa2NUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFrb1RXTnhCS2xvZWpDam9wVC9PVEszN1lta3V1Rnd2QTVOdW9DZEdsa3BnSWdYZzR0WVEzMlZ2SC9wZVRECmRyYk9RY3A1REQvaTVkelQ3OFl0aDBwcW5HND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9wZ0YzSUw4cHFSaXVCK0ZMSGdYdVF3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRmU3b2U3NEtrM05ORFd5b2dUWms0YkF0MC9xb3JWbnNWbmN1L3NNVkt6SHJiemMxaHpwa21tYwpRbW9rZ3J4TlhDaUxJTUJ5RmhDUENvaHBJRDNzS1gyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdBdFI4ZXNVNUFqRnBnemFRc1NpMXJpejhxM2FheUZWdnRGcFRzRCs3WkZVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdaWEgxWDYydnorSU4yNnFLMUhrT2VwRVdPQTBIR2FPRHBjamtTZTZRMkRNQ0lBWm5PUSt0ClphejVFb2FuZ1JGdlB1VkFmR3NhSWxpem1vYU5oZy9tRzQ2RgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileHQ5vPD _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel9070>.[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel9070-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9070-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 11_cli Test 'Add <org1> to channel <testchannel9070-02> created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9070-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel9070-02 org2 org1
[1;36m
Add org1 to the testchannel9070-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel9070-02 org1
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel9070-02 org1 7051 example.com[m[m[m
--2020-04-02 16:46:53--  http://www.org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/admincerts/Admin@org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:53--  http://www.org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/cacerts/ca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:53--  http://www.org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
Resolving www.org1.example.com (www.org1.example.com)... 172.19.0.2
Connecting to www.org1.example.com (www.org1.example.com)|172.19.0.2|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'org1' to channel testchannel9070-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:53.322 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:53.324 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-02 16:46:53.325 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-02 16:46:53.326 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
>> Prepare config update from org1 for channel testchannel9070-02
>> org1 is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel9070-02 -o orderer.example.com:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:53.690 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:53.700 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization org1 added to testchannel9070-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel9070-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:54.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:54.767 UTC [cli.common] readBlock -> INFO 002[0m Received block: 3
[34m2020-04-02 16:46:54.768 UTC [cli.common] readBlock -> INFO 003[0m Received block: 3
[34m2020-04-02 16:46:54.768 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 3
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUFd5b2o5WVdlZXlvd1JKS1ArMHpPREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFRWE4L0FXM05mUTBRODhOZzhpSEJOczZqR0MwL001M0oKQlZPMGp6V1pyZEJzQnZ0SC9uYldva1IzSGNHbnZoTDF3UDB1ZG5iWk5YcEp4NC9HejFoOXpLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnODRwalNJSkprVXFnCkRPa1VyNmJ5MlV5Rk1yeURnbWJjc2JLQUs2bDRvaHN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBZQ2tIbFQKSytXL0c3SFhic0xOWUJqU2JSVWlUTlB5Mk4zd3JHbXhxeVE2QWlBcVJyMWJSeGtwQnVkZG5PMGorb1hhdTQ4bApTL20vMVFRZ3l0TExZY2xzc0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUtWYTViV2JTaW82dWg4em1jMGtyZ1l3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBeE1UQTFPVEF3V2hjTk16QXdNek13TVRBMU9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBtV3ExeDlpYUcrRVZSU3RKa25OK09oT1Y0ZzkzbUU4aUZiUS96aU1DWHNpYlp0b2JtZ3lzZzVBT3g5ZDhwRgp3M1JjcExhTTMxbmdFMFBJOFN4OHdFNmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKODRwalNJSkprVXFnRE9rVXI2YnkyVXlGTXJ5RGdtYmNzYktBSzZsNG9oc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnRzZXd256ZkpSbXVKeWd1SC9aNVUrcW9yRVVpK0VveFZJdkxSYitucU1jWUNJRGtpT3FGTXV0dXp1THJPCjZpU2pJbXE3ajd4K1ZnVy8rTlJrYUlvK01UVEwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpOSmNrS3RRUENBei9uNUo4aDZJTGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTUQ4MGdlV2g4aHF6Y0RNVlF6NGlIUE90VXg3S0kwVUw2cVhoTEZXNnZSTmdNS0xvYXZkRWxIQgpGdml4VFZ3S0gwc1d3TXMxMXZValNwN2VvSmVZZ1hlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdESXd6eE9HVGd4dUtoSWdMb2MxZkJFRDg3RnpLNGlnc3BhVkdhVDJzeG9Jd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTStkWGFPUFhHeG1ZVGRQMTJVU0U1eGhTUGhLU2ZIQWpKK2pyVWgwQTFySUFpQTJEUFpLCkRQSUU1dGEvSW01MTE2c2xFVVpyeFR0OWQzQWd6ZXZPeWdSM1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/fileQ4DVjV _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel9070-02>.[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9070 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9070 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 12_cli Test 'Join <org1> to the <testchannel9070> chanel created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel9070 org1 VERIFY: test-join-channel.sh testchannel9070 org1
[1;36m
Joining  org1 to the testchannel9070 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel9070
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9070[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3f2ee95e81f7
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-02 16:46:57--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:57--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:57--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:46:57--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel9070
Execute: channel fetch 0 crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:46:57.367 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:57.369 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:46:57.429 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:46:57.612 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel9070 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel9070> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:46:59.412 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel9070> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9070 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9070 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 13_cli Test 'Join <org2> to the <testchannel9070> chanel created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel9070 org2 VERIFY: test-join-channel.sh testchannel9070 org2
[1;36m
Joining  org2 to the testchannel9070 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel9070
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9070[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=7aca9b5a78ac
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-02 16:47:01--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:02--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:02--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:02--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel9070
Execute: channel fetch 0 crypto-config/configtx/testchannel9070.pb -o orderer.example.com:7050 -c testchannel9070 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:47:02.112 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:02.114 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:47:02.180 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:02.478 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel9070 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel9070> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:47:04.682 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel9070> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9070-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9070-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 14_cli Test 'Join <org1> to the <testchannel9070-02> chanel created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel9070-02 org1 VERIFY: test-join-channel.sh testchannel9070-02 org1
[1;36m
Joining  org1 to the testchannel9070-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel9070-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9070-02[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=485c3a7d9e15
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-02 16:47:07--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:07--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:07--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:07--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org1 to channel testchannel9070-02
Execute: channel fetch 0 crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:47:07.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:07.829 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:47:07.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:08.015 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org1 has been joined to testchannel9070-02 channel[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel9070-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:47:09.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel9070-02> channel[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel9070-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9070-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 15_cli Test 'Join <org2> to the <testchannel9070-02> chanel created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel9070-02 org2 VERIFY: test-join-channel.sh testchannel9070-02 org2
[1;36m
Joining  org2 to the testchannel9070-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel9070-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel9070-02[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d22abda92707
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=example.com
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-04-02 16:47:11--  http://www.example.com/msp/admincerts/Admin@example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/admincerts/Admin@example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:11--  http://www.example.com/msp/cacerts/ca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/cacerts/ca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:11--  http://www.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pemâ€™ not modified on server. Omitting download.

--2020-04-02 16:47:11--  http://www.example.com/msp/orderer.example.com/tls/server.crt
Resolving www.example.com (www.example.com)... 172.19.0.3
Connecting to www.example.com (www.example.com)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/example.com/msp/orderer.example.com/tls/server.crtâ€™ not modified on server. Omitting download.

Join org2 to channel testchannel9070-02
Execute: channel fetch 0 crypto-config/configtx/testchannel9070-02.pb -o orderer.example.com:7050 -c testchannel9070-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2020-04-02 16:47:11.782 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:11.784 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:47:11.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:47:11.979 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization org2 has been joined to testchannel9070-02 channel[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel9070-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:47:13.191 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel9070-02> channel[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel9070 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel9070 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 16_cli Test 'Install test chaincode by <org1> to the <testchannel9070> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel9070 org1 VERIFY: test-chaincode-installed.sh testchannel9070 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9070 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel9070[m[m[m
[1;36m
Installing testchannel9070  chaincode in org1...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel9070'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=org1
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=3af80fce59a3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org1
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel9070  /opt/chaincode/node/reference_testchannel9070 node 1.0
[34m2020-04-02 16:47:18.894 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-04-02 16:47:18.894 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-04-02 16:47:19.115 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel9070' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel9070, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel9070, Id: 6aeed35d9dbc0ea9efd0d37408a464b4209931d265bd174797d01255c0bc3eff
reference_testchannel9070
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 16_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel9070-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel9070-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 17_cli Test 'Install test chaincode by <org2> to the <testchannel9070-02> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel9070-02 org2 VERIFY: test-chaincode-installed.sh testchannel9070-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel9070-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel9070-02[m[m[m
[1;36m
Installing testchannel9070-02  chaincode in org2...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel9070-02'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051
CORE_PEER_LOCALMSPID=org2
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=example.com
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=db9a4a5220cd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=org2
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel9070-02  /opt/chaincode/node/reference_testchannel9070-02 node 1.0
[34m2020-04-02 16:47:28.336 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-04-02 16:47:28.336 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-04-02 16:47:28.469 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel9070-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel9070-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel9070-02, Id: 1de6e0fa9d578afb140c4722310a6b079dc5120fa4d4ca22776a02680850da42
reference_testchannel9070-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel9070 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel9070 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 18_cli Test 'Instantiate test chaincode by <org1> to the <testchannel9070> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-instantiate.sh testchannel9070 org1 VERIFY: test-chaincode-instantiated.sh testchannel9070 org1
[1;36m
Instantiate test chaincode in testchannel9070 in org1...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel9070 reference_testchannel9070[m[m[m
Instantiate chaincode testchannel9070 reference_testchannel9070 '[]' 1.0  
[34m2020-04-02 16:47:33.836 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-04-02 16:47:33.836 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel9070 by org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel9070 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel9070' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel9070:
Name: reference_testchannel9070, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel9070, Escc: escc, Vscc: vscc
reference_testchannel9070
[1;32mOK: The test chaincode installed in testchannel9070 channel by org1 org[m[m[m
Step 18_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel9070 org1 reference_testchannel9070 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel9070 org1 reference_testchannel9070
[1m[37m---------------------------(B[m
[1m[37mStep: 19_cli Test 'Test chaincode invocation and query:  <org1> <-> <org2>'(B[m
[1m[37m---------------------------(B[m
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel9070 org1 reference_testchannel9070 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel9070 org1 reference_testchannel9070
[1;36m
Invoke test chaincode on the <testchannel9070> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel9070 reference_testchannel9070 '["put","testchannel9070","testchannel9070"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel9070 reference_testchannel9070 '["put","testchannel9070","testchannel9070"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke -n reference_testchannel9070 -C testchannel9070 -c '{"Args":["put","testchannel9070","testchannel9070"]}'
[34m2020-04-02 16:48:22.348 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel9070) orderer endpoint: orderer.example.com:7050
[34m2020-04-02 16:48:22.395 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel9070 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel9070> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel9070 reference_testchannel9070 '["range","testchannel9070"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel9070 reference_testchannel9070 '["range","testchannel9070"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel9070 -C testchannel9070 -c '{"Args":["range","testchannel9070"]}'
[{"key":"testchannel9070","value":"testchannel9070"}]
[1;32mOK: Chaincode reference_testchannel9070 invoked sucsessfuly.[m[m[m
Step 19_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27130 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 20_api Test 'Create <testchannel27130> channel in ORG1: <org1>'(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel27130 org1 VERIFY: test-channel-exists.sh testchannel27130 org1
[1;36mCreating testchannel27130 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyMX0.gg_U6_PhkroekyBBw3hxXGbSFF8FyvAIRD5H-xTPtU4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyMX0.gg_U6_PhkroekyBBw3hxXGbSFF8FyvAIRD5H-xTPtU4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyMX0.gg_U6_PhkroekyBBw3hxXGbSFF8FyvAIRD5H-xTPtU4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27130","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyMX0.gg_U6_PhkroekyBBw3hxXGbSFF8FyvAIRD5H-xTPtU4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel27130> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27130> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:48:43.828 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:43.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:48:43.831 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-02 16:48:43.832 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27130",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-02T16:48:42Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileaIutyH _testchannel27130_
Expect: testchannel27130, got: testchannel27130
[1;32mOK: The channel <testchannel27130> exists and visible to org1[m[m[m
Step 20_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27130 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 21_api Test 'The channel is not visible in ORG2: <org2>'(B[m
[1m[37m---------------------------(B[m
VERIFY: test-channel-does-not-exist.sh testchannel27130 org2
[1;34m
Verifing if the <testchannel27130> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:48:44.478 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:44.479 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileJv649A _null_
Expect: testchannel27130, got: null
[1;32mOK: The channel <testchannel27130> does not exist and in not visible to org2[m[m[m
Step 21_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel27130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27130 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 22_api Test 'Can not create the channel with incorrect name in ORG1'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27130 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27130 org1
[1;36mCreating ^^^^^^testchannel27130 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyNH0.uAVtWEazKp3CFdxpKCAMueA7ArR8hndJAWMqnwurYsk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyNH0.uAVtWEazKp3CFdxpKCAMueA7ArR8hndJAWMqnwurYsk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyNH0.uAVtWEazKp3CFdxpKCAMueA7ArR8hndJAWMqnwurYsk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel27130","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyNH0.uAVtWEazKp3CFdxpKCAMueA7ArR8hndJAWMqnwurYsk
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27130\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27130\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27130\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27130> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:48:46.696 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:46.699 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filelb50XY _null_
Expect: ^^^^^^testchannel27130, got: null
[1;32mOK: The channel <^^^^^^testchannel27130> does not exist and in not visible to org1[m[m[m
Step 22_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27130 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27130 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 23_api Test 'Can not create channel in ORG2 with the same name'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh testchannel27130 org2 VERIFY: test-channel-does-not-exist.sh testchannel27130 org2
[1;36mCreating testchannel27130 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyN30.EH3zDjZ-0C4jvhUKaTt_GePs3931WFmCygRbaJZp_HI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyN30.EH3zDjZ-0C4jvhUKaTt_GePs3931WFmCygRbaJZp_HI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyN30.EH3zDjZ-0C4jvhUKaTt_GePs3931WFmCygRbaJZp_HI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27130","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyN30.EH3zDjZ-0C4jvhUKaTt_GePs3931WFmCygRbaJZp_HI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27130> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:48:49.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:49.251 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileZQkNnH _null_
Expect: testchannel27130, got: null
[1;32mOK: The channel <testchannel27130> does not exist and in not visible to org2[m[m[m
Step 23_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27130-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 24_api Test 'Create new channel <testchannel27130-02> in ORG2'(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel27130-02 org2 VERIFY: test-channel-exists.sh testchannel27130-02 org2
[1;36mCreating testchannel27130-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyOX0.ZAiafYZtk2GH6C3UUrWtkbFWHGfU5tb0rzx3ofEt05c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyOX0.ZAiafYZtk2GH6C3UUrWtkbFWHGfU5tb0rzx3ofEt05c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyOX0.ZAiafYZtk2GH6C3UUrWtkbFWHGfU5tb0rzx3ofEt05c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27130-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEyOX0.ZAiafYZtk2GH6C3UUrWtkbFWHGfU5tb0rzx3ofEt05c
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel <testchannel27130-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27130-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:48:52.073 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:52.074 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-02 16:48:52.075 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-02 16:48:52.075 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27130-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-02T16:48:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileDVZeYq _testchannel27130-02_
Expect: testchannel27130-02, got: testchannel27130-02
[1;32mOK: The channel <testchannel27130-02> exists and visible to org2[m[m[m
Step 24_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27130-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 25_api Test 'This new channel is not visible in ORG1'(B[m
[1m[37m---------------------------(B[m
VERIFY: test-channel-does-not-exist.sh testchannel27130-02 org1
[1;34m
Verifing if the <testchannel27130-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:48:52.936 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:52.939 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileoHy2Dq _null_
Expect: testchannel27130-02, got: null
[1;32mOK: The channel <testchannel27130-02> does not exist and in not visible to org1[m[m[m
Step 25_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27130-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27130-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 26_api Test 'Can not create channel in ORG1 with the same name'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: create-channel.sh testchannel27130-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel27130-02 org1
[1;36mCreating testchannel27130-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzM30.z-qZx6xahAjE7Al0wUAjcyxTUvWbc4UiJYiEdGd-_xI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzM30.z-qZx6xahAjE7Al0wUAjcyxTUvWbc4UiJYiEdGd-_xI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzM30.z-qZx6xahAjE7Al0wUAjcyxTUvWbc4UiJYiEdGd-_xI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27130-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzM30.z-qZx6xahAjE7Al0wUAjcyxTUvWbc4UiJYiEdGd-_xI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27130-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:48:56.156 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:56.161 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileAT7VsF _null_
Expect: testchannel27130-02, got: null
[1;32mOK: The channel <testchannel27130-02> does not exist and in not visible to org1[m[m[m
Step 26_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27130 org1 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27130 org1 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 27_api Test 'Add <org1> to channel <testchannel27130> created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27130 org1 org1 VERIFY: test-channel-add-org.sh testchannel27130 org1 org1
[1;36mAdd org1 to the testchannel27130 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel27130 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzNn0.I2PtD4Ir8XOeLIObxhcQAtw62EqrpvZh30b5NT0D9s0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzNn0.I2PtD4Ir8XOeLIObxhcQAtw62EqrpvZh30b5NT0D9s0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzNn0.I2PtD4Ir8XOeLIObxhcQAtw62EqrpvZh30b5NT0D9s0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzNn0.I2PtD4Ir8XOeLIObxhcQAtw62EqrpvZh30b5NT0D9s0
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel27130 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel27130 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:48:59.418 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:48:59.421 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:48:59.422 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:48:59.423 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUFd5b2o5WVdlZXlvd1JKS1ArMHpPREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFRWE4L0FXM05mUTBRODhOZzhpSEJOczZqR0MwL001M0oKQlZPMGp6V1pyZEJzQnZ0SC9uYldva1IzSGNHbnZoTDF3UDB1ZG5iWk5YcEp4NC9HejFoOXpLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnODRwalNJSkprVXFnCkRPa1VyNmJ5MlV5Rk1yeURnbWJjc2JLQUs2bDRvaHN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBZQ2tIbFQKSytXL0c3SFhic0xOWUJqU2JSVWlUTlB5Mk4zd3JHbXhxeVE2QWlBcVJyMWJSeGtwQnVkZG5PMGorb1hhdTQ4bApTL20vMVFRZ3l0TExZY2xzc0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUtWYTViV2JTaW82dWg4em1jMGtyZ1l3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBeE1UQTFPVEF3V2hjTk16QXdNek13TVRBMU9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBtV3ExeDlpYUcrRVZSU3RKa25OK09oT1Y0ZzkzbUU4aUZiUS96aU1DWHNpYlp0b2JtZ3lzZzVBT3g5ZDhwRgp3M1JjcExhTTMxbmdFMFBJOFN4OHdFNmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKODRwalNJSkprVXFnRE9rVXI2YnkyVXlGTXJ5RGdtYmNzYktBSzZsNG9oc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnRzZXd256ZkpSbXVKeWd1SC9aNVUrcW9yRVVpK0VveFZJdkxSYitucU1jWUNJRGtpT3FGTXV0dXp1THJPCjZpU2pJbXE3ajd4K1ZnVy8rTlJrYUlvK01UVEwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpOSmNrS3RRUENBei9uNUo4aDZJTGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTUQ4MGdlV2g4aHF6Y0RNVlF6NGlIUE90VXg3S0kwVUw2cVhoTEZXNnZSTmdNS0xvYXZkRWxIQgpGdml4VFZ3S0gwc1d3TXMxMXZValNwN2VvSmVZZ1hlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdESXd6eE9HVGd4dUtoSWdMb2MxZkJFRDg3RnpLNGlnc3BhVkdhVDJzeG9Jd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTStkWGFPUFhHeG1ZVGRQMTJVU0U1eGhTUGhLU2ZIQWpKK2pyVWgwQTFySUFpQTJEUFpLCkRQSUU1dGEvSW01MTE2c2xFVVpyeFR0OWQzQWd6ZXZPeWdSM1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/file0Drj5c _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel27130>.[m[m[m
Step 27_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27130-02 org2 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27130-02 org2 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 28_api Test 'Add <org2> to channel <testchannel27130-02> created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27130-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel27130-02 org2 org2
[1;36mAdd org2 to the testchannel27130-02 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel27130-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzOX0.GE1qVSdgcplAbWyYWXREQELxmfRvLvvSACdHLRl71Bo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzOX0.GE1qVSdgcplAbWyYWXREQELxmfRvLvvSACdHLRl71Bo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzOX0.GE1qVSdgcplAbWyYWXREQELxmfRvLvvSACdHLRl71Bo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27130-02/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjEzOX0.GE1qVSdgcplAbWyYWXREQELxmfRvLvvSACdHLRl71Bo
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel27130-02 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel27130-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:49:02.248 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:49:02.250 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-02 16:49:02.251 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-02 16:49:02.253 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQytUdlc1dXFtM25raVZyeFBRY0lOekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFcUF0ZlBCem8wVXh5SjNrVnVMemxuNmt6WURDWm5FM0QKR2hsVE4rNXErQVM4V2Nsdkw2dkZmNlliQVpGQ0N1K0phUDJzVm1nYlg2SUtEdWpKTGd4UVlLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRjZYMnNQY2lqYVloCnpCVWQxNjNqSk12K3BQYzdwczRRS1JOQVAySkdKSEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUtCZHRQLzYKcWNYRE1iTmYxTGxBWk1Gc1p5OFU4MkdPWC9sRE44OFZuS2wxQWlCYWd2M3B3N0E5WG15KzRlVFNFQ2h2SFFvNQp3NmYvdFZQTmRDY0Y3V2Ywb1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUXd3OFlBTFNLc0oxNUx6eXZaaUpwakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKYTVzS2piUlhGNVRUVldFNlpHSlZiam1LVnZhS1pocklHUys1TDJhMjZhNWMwVlcvK1I0Qk5hMjZBajh2bU9QQgpsZDFRSW9GSCt1ZEh3bDBBL1UrcENxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVgKcGZhdzl5S05waUhNRlIzWHJlTWt5LzZrOXp1bXpoQXBFMEEvWWtZa2NUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFrb1RXTnhCS2xvZWpDam9wVC9PVEszN1lta3V1Rnd2QTVOdW9DZEdsa3BnSWdYZzR0WVEzMlZ2SC9wZVRECmRyYk9RY3A1REQvaTVkelQ3OFl0aDBwcW5HND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9wZ0YzSUw4cHFSaXVCK0ZMSGdYdVF3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRmU3b2U3NEtrM05ORFd5b2dUWms0YkF0MC9xb3JWbnNWbmN1L3NNVkt6SHJiemMxaHpwa21tYwpRbW9rZ3J4TlhDaUxJTUJ5RmhDUENvaHBJRDNzS1gyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdBdFI4ZXNVNUFqRnBnemFRc1NpMXJpejhxM2FheUZWdnRGcFRzRCs3WkZVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdaWEgxWDYydnorSU4yNnFLMUhrT2VwRVdPQTBIR2FPRHBjamtTZTZRMkRNQ0lBWm5PUSt0ClphejVFb2FuZ1JGdlB1VkFmR3NhSWxpem1vYU5oZy9tRzQ2RgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/file1oGsJc _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel27130-02>.[m[m[m
Step 28_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27130 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27130 org1 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 29_api Test 'Add <org2> to channel <testchannel27130> created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27130 org1 org2 VERIFY: test-channel-add-org.sh testchannel27130 org1 org2
[1;36mAdd org2 to the testchannel27130 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel27130 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Mn0.q0HlSZTz_du_hKYdbOd9jh1VztmK3FAubcp7Rj9gEbo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Mn0.q0HlSZTz_du_hKYdbOd9jh1VztmK3FAubcp7Rj9gEbo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Mn0.q0HlSZTz_du_hKYdbOd9jh1VztmK3FAubcp7Rj9gEbo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Mn0.q0HlSZTz_du_hKYdbOd9jh1VztmK3FAubcp7Rj9gEbo
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel27130 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel27130 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:49:05.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:49:05.909 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-02 16:49:05.912 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-02 16:49:05.912 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQytUdlc1dXFtM25raVZyeFBRY0lOekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFcUF0ZlBCem8wVXh5SjNrVnVMemxuNmt6WURDWm5FM0QKR2hsVE4rNXErQVM4V2Nsdkw2dkZmNlliQVpGQ0N1K0phUDJzVm1nYlg2SUtEdWpKTGd4UVlLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnRjZYMnNQY2lqYVloCnpCVWQxNjNqSk12K3BQYzdwczRRS1JOQVAySkdKSEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUtCZHRQLzYKcWNYRE1iTmYxTGxBWk1Gc1p5OFU4MkdPWC9sRE44OFZuS2wxQWlCYWd2M3B3N0E5WG15KzRlVFNFQ2h2SFFvNQp3NmYvdFZQTmRDY0Y3V2Ywb1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRUXd3OFlBTFNLc0oxNUx6eXZaaUpwakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKYTVzS2piUlhGNVRUVldFNlpHSlZiam1LVnZhS1pocklHUys1TDJhMjZhNWMwVlcvK1I0Qk5hMjZBajh2bU9QQgpsZDFRSW9GSCt1ZEh3bDBBL1UrcENxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQVgKcGZhdzl5S05waUhNRlIzWHJlTWt5LzZrOXp1bXpoQXBFMEEvWWtZa2NUQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFrb1RXTnhCS2xvZWpDam9wVC9PVEszN1lta3V1Rnd2QTVOdW9DZEdsa3BnSWdYZzR0WVEzMlZ2SC9wZVRECmRyYk9RY3A1REQvaTVkelQ3OFl0aDBwcW5HND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9wZ0YzSUw4cHFSaXVCK0ZMSGdYdVF3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCRmU3b2U3NEtrM05ORFd5b2dUWms0YkF0MC9xb3JWbnNWbmN1L3NNVkt6SHJiemMxaHpwa21tYwpRbW9rZ3J4TlhDaUxJTUJ5RmhDUENvaHBJRDNzS1gyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdBdFI4ZXNVNUFqRnBnemFRc1NpMXJpejhxM2FheUZWdnRGcFRzRCs3WkZVd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdaWEgxWDYydnorSU4yNnFLMUhrT2VwRVdPQTBIR2FPRHBjamtTZTZRMkRNQ0lBWm5PUSt0ClphejVFb2FuZ1JGdlB1VkFmR3NhSWxpem1vYU5oZy9tRzQ2RgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileJjbKgR _org2_
org2
[1;32mOK: Organization <org2> is in the channel <testchannel27130>.[m[m[m
Step 29_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27130-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27130-02 org2 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 30_api Test 'Add <org1> to channel <testchannel27130-02> created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27130-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel27130-02 org2 org1
[1;36mAdd org1 to the testchannel27130-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel27130-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Nn0.PPeII1V1B3uxM7heVbuIZ0KJz7NCrvcmbk0zVxPU88Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Nn0.PPeII1V1B3uxM7heVbuIZ0KJz7NCrvcmbk0zVxPU88Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Nn0.PPeII1V1B3uxM7heVbuIZ0KJz7NCrvcmbk0zVxPU88Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27130-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0Nn0.PPeII1V1B3uxM7heVbuIZ0KJz7NCrvcmbk0zVxPU88Q
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel27130-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel27130-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:49:08.803 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-02 16:49:08.806 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-02 16:49:08.807 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-02 16:49:08.807 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRUFd5b2o5WVdlZXlvd1JKS1ArMHpPREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTURFeE1EVTVNREJhRncwek1EQXpNekF4TURVNU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFRWE4L0FXM05mUTBRODhOZzhpSEJOczZqR0MwL001M0oKQlZPMGp6V1pyZEJzQnZ0SC9uYldva1IzSGNHbnZoTDF3UDB1ZG5iWk5YcEp4NC9HejFoOXpLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnODRwalNJSkprVXFnCkRPa1VyNmJ5MlV5Rk1yeURnbWJjc2JLQUs2bDRvaHN3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQVBZQ2tIbFQKSytXL0c3SFhic0xOWUJqU2JSVWlUTlB5Mk4zd3JHbXhxeVE2QWlBcVJyMWJSeGtwQnVkZG5PMGorb1hhdTQ4bApTL20vMVFRZ3l0TExZY2xzc0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUtWYTViV2JTaW82dWg4em1jMGtyZ1l3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRBeE1UQTFPVEF3V2hjTk16QXdNek13TVRBMU9UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBtV3ExeDlpYUcrRVZSU3RKa25OK09oT1Y0ZzkzbUU4aUZiUS96aU1DWHNpYlp0b2JtZ3lzZzVBT3g5ZDhwRgp3M1JjcExhTTMxbmdFMFBJOFN4OHdFNmpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKODRwalNJSkprVXFnRE9rVXI2YnkyVXlGTXJ5RGdtYmNzYktBSzZsNG9oc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnRzZXd256ZkpSbXVKeWd1SC9aNVUrcW9yRVVpK0VveFZJdkxSYitucU1jWUNJRGtpT3FGTXV0dXp1THJPCjZpU2pJbXE3ajd4K1ZnVy8rTlJrYUlvK01UVEwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXRENDQWY2Z0F3SUJBZ0lSQUpOSmNrS3RRUENBei9uNUo4aDZJTGN3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05EQXhNVEExT1RBd1doY05NekF3TXpNd01UQTEKT1RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCTUQ4MGdlV2g4aHF6Y0RNVlF6NGlIUE90VXg3S0kwVUw2cVhoTEZXNnZSTmdNS0xvYXZkRWxIQgpGdml4VFZ3S0gwc1d3TXMxMXZValNwN2VvSmVZZ1hlamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdESXd6eE9HVGd4dUtoSWdMb2MxZkJFRDg3RnpLNGlnc3BhVkdhVDJzeG9Jd0NnWUlLb1pJemowRQpBd0lEU0FBd1JRSWhBTStkWGFPUFhHeG1ZVGRQMTJVU0U1eGhTUGhLU2ZIQWpKK2pyVWgwQTFySUFpQTJEUFpLCkRQSUU1dGEvSW01MTE2c2xFVVpyeFR0OWQzQWd6ZXZPeWdSM1JBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
cat /tmp/file0AVAlZ _org1_
org1
[1;32mOK: Organization <org1> is in the channel <testchannel27130-02>.[m[m[m
Step 30_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27130 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 31_api Test 'Join <org1> to the <testchannel27130> chanel created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27130 org1 VERIFY: test-join-channel.sh testchannel27130 org1
[1;36mJoining org1.example.com to the testchannel27130 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27130 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0OX0.5g6qaQYzpBGZ5nKyzzry5N5sGfHQADXCBW54gqyGWdE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0OX0.5g6qaQYzpBGZ5nKyzzry5N5sGfHQADXCBW54gqyGWdE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0OX0.5g6qaQYzpBGZ5nKyzzry5N5sGfHQADXCBW54gqyGWdE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE0OX0.5g6qaQYzpBGZ5nKyzzry5N5sGfHQADXCBW54gqyGWdE
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27130> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:49:11.284 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel27130> channel[m[m[m
Step 31_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27130 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27130 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 32_api Test 'Join <org2> to the <testchannel27130> chanel created by the <org1> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27130 org2 VERIFY: test-join-channel.sh testchannel27130 org2
[1;36mJoining org2.example.com to the testchannel27130 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27130 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE1MX0.JeFxYIIo7aiprnA7gemrPj3J5vsksL9V5YENu0f-0i4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE1MX0.JeFxYIIo7aiprnA7gemrPj3J5vsksL9V5YENu0f-0i4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE1MX0.JeFxYIIo7aiprnA7gemrPj3J5vsksL9V5YENu0f-0i4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27130 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjE1MX0.JeFxYIIo7aiprnA7gemrPj3J5vsksL9V5YENu0f-0i4
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27130> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:51:12.543 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel27130> channel[m[m[m
Step 32_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27130-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27130-02 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 33_api Test 'Join <org1> to the <testchannel27130-02> chanel created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27130-02 org1 VERIFY: test-join-channel.sh testchannel27130-02 org1
[1;36mJoining org1.example.com to the testchannel27130-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27130-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjI3M30.s4KhPa6P4J5zgvcUwAjvGAdeA6NjSU__YxhugohT7R8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjI3M30.s4KhPa6P4J5zgvcUwAjvGAdeA6NjSU__YxhugohT7R8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjI3M30.s4KhPa6P4J5zgvcUwAjvGAdeA6NjSU__YxhugohT7R8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjI3M30.s4KhPa6P4J5zgvcUwAjvGAdeA6NjSU__YxhugohT7R8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27130-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-02 16:53:13.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel27130-02> channel[m[m[m
Step 33_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27130-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 34_api Test 'Join <org2> to the <testchannel27130-02> chanel created by the <org2> org'(B[m
[1m[37m---------------------------(B[m
RUNTESTNOERRPRINT: join-channel.sh testchannel27130-02 org2 VERIFY: test-join-channel.sh testchannel27130-02 org2
[1;36mJoining org2.example.com to the testchannel27130-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27130-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5NH0.JdB0nvBRVHv_S5AKPd5H5oddVB7BiBr0oKMHuZMPXPI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5NH0.JdB0nvBRVHv_S5AKPd5H5oddVB7BiBr0oKMHuZMPXPI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5NH0.JdB0nvBRVHv_S5AKPd5H5oddVB7BiBr0oKMHuZMPXPI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27130-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5NH0.JdB0nvBRVHv_S5AKPd5H5oddVB7BiBr0oKMHuZMPXPI
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27130-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-02 16:53:16.017 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel27130-02> channel[m[m[m
Step 34_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27130 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 35_api Test 'Install test chaincode by <org1> to the <testchannel27130> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel27130 org1 VERIFY: test-chaincode-installed.sh testchannel27130 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5Nn0.sOa7jD65Ncb6zmNVAzWnaQ7abpI4ZfDvPC7HQcYjGWo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5Nn0.sOa7jD65Ncb6zmNVAzWnaQ7abpI4ZfDvPC7HQcYjGWo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjM5Nn0.sOa7jD65Ncb6zmNVAzWnaQ7abpI4ZfDvPC7HQcYjGWo
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27130/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27130/index.js (deflated 27%)
adding: reference_testchannel27130/package.json (deflated 41%)
adding: reference_testchannel27130/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð°Ð¿Ñ€  2 19:53 /tmp/reference_testchannel27130.zip
/tmp/reference_testchannel27130.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel27130:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27130' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27130, Version: 1.0, Path: /tmp/reference_testchannel27130, Id: 42097172bd60922140f79abf388604e29594857106d4da99b378235ff326e0c7
Name: reference_testchannel9070, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel9070, Id: 6aeed35d9dbc0ea9efd0d37408a464b4209931d265bd174797d01255c0bc3eff
reference_testchannel27130
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 35_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27130-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27130-02 org2
[1m[37m---------------------------(B[m
[1m[37mStep: 36_api Test 'Install test chaincode by <org2> to the <testchannel27130-02> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel27130-02 org2 VERIFY: test-chaincode-installed.sh testchannel27130-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwMX0.gD0_OHzZFdZdw5UOojkJmQU9r4Se1yXWPj_SUp1WdjA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwMX0.gD0_OHzZFdZdw5UOojkJmQU9r4Se1yXWPj_SUp1WdjA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwMX0.gD0_OHzZFdZdw5UOojkJmQU9r4Se1yXWPj_SUp1WdjA
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27130-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27130-02/index.js (deflated 27%)
adding: reference_testchannel27130-02/package.json (deflated 41%)
adding: reference_testchannel27130-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð°Ð¿Ñ€  2 19:53 /tmp/reference_testchannel27130-02.zip
/tmp/reference_testchannel27130-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel27130-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27130-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27130-02, Version: 1.0, Path: /tmp/reference_testchannel27130-02, Id: 876ac44c62d048fc05e32abd7bdf9a8eb230594a29b83b4bbb1fe6819871902f
Name: reference_testchannel9070-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel9070-02, Id: 1de6e0fa9d578afb140c4722310a6b079dc5120fa4d4ca22776a02680850da42
reference_testchannel27130-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 36_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel27130 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27130 org1
[1m[37m---------------------------(B[m
[1m[37mStep: 37_api Test 'Instantiate test chaincode by <org1> to the <testchannel27130> channel'(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-instantiate.sh testchannel27130 org1 VERIFY: test-chaincode-instantiated.sh testchannel27130 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwNn0.O6c-Ec43hdcxMzi8_9sMgWR32Nlb_HAsMOL9aixhaOg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwNn0.O6c-Ec43hdcxMzi8_9sMgWR32Nlb_HAsMOL9aixhaOg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwNn0.O6c-Ec43hdcxMzi8_9sMgWR32Nlb_HAsMOL9aixhaOg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130/chaincodes {"channelId":"testchannel27130","chaincodeId":"reference_testchannel27130","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQwNn0.O6c-Ec43hdcxMzi8_9sMgWR32Nlb_HAsMOL9aixhaOg
curlGetIt got _ {"txid":"e6d72643be5a96a9a1355a96d63c5c8f8e51ab4c3a5d41560dcbfeea7f493622","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"e6d72643be5a96a9a1355a96d63c5c8f8e51ab4c3a5d41560dcbfeea7f493622","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27130 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27130' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27130:
Name: reference_testchannel27130, Version: 1.0, Path: /tmp/reference_testchannel27130, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel27130
[1;32mOK: The test chaincode installed in testchannel27130 channel by org1 org[m[m[m
Step 37_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel27130 org1 reference_testchannel27130 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel27130 org1 reference_testchannel27130
[1m[37m---------------------------(B[m
[1m[37mStep: 38_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'(B[m
[1m[37m---------------------------(B[m
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27130 org1 reference_testchannel27130 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27130 org1 reference_testchannel27130
[1;36m
Invoke test chaincode on the <testchannel27130> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQ1N30.cxMGdQ0AvZLf9QkiKT2zAE9RiHMt0AtOYXR_6WlnvvA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQ1N30.cxMGdQ0AvZLf9QkiKT2zAE9RiHMt0AtOYXR_6WlnvvA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQ1N30.cxMGdQ0AvZLf9QkiKT2zAE9RiHMt0AtOYXR_6WlnvvA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27130/chaincodes/reference_testchannel27130 {"fcn":"put","args":["testchannel27130","testchannel27130"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NTg0NjQ1N30.cxMGdQ0AvZLf9QkiKT2zAE9RiHMt0AtOYXR_6WlnvvA
curlGetIt got _ {"txid":"9c2b9adb9ad4f564445c5ee591623413093d88f444bf27b5169f0814c395ea3a","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"9c2b9adb9ad4f564445c5ee591623413093d88f444bf27b5169f0814c395ea3a","status":"VALID","blockNumber":"4"}, code is 200
[1;32mOK: Chaincode reference_testchannel27130 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27130> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27130 reference_testchannel27130 '["range","testchannel27130"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27130 reference_testchannel27130 '["range","testchannel27130"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel27130 -C testchannel27130 -c '{"Args":["range","testchannel27130"]}'
[{"key":"testchannel27130","value":"testchannel27130"}]
[1;32mOK: Chaincode reference_testchannel27130 invoked sucsessfuly.[m[m[m
Step 38_api: exit code 0
