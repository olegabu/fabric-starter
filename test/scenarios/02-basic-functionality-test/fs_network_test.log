
Arguments passed: api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
scenarioArgsParse: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 api org1 org2
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel31183 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 1_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel31183 org1 VERIFY: test-channel-exists.sh testchannel31183 org1
[1;36mCreating [testchannel31183] channel in [org1.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3MH0.RjP4VTJdW-ELj-YzWaAaY_s4fkruH_PC91EC7hodcbQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3MH0.RjP4VTJdW-ELj-YzWaAaY_s4fkruH_PC91EC7hodcbQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3MH0.RjP4VTJdW-ELj-YzWaAaY_s4fkruH_PC91EC7hodcbQ
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel31183","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3MH0.RjP4VTJdW-ELj-YzWaAaY_s4fkruH_PC91EC7hodcbQ
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}}}], code is 200
createChannelAPI: exit code:: 0 result:: [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}}}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel31183] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel31183] channel exists in [org1.exmple.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:33.661 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:33.667 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-16 08:24:33.668 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-16 08:24:33.668 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel31183",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-16T08:24:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileNWxkxr _testchannel31183_
Expect: testchannel31183, got: testchannel31183
setExitCode: 0
[1;32mOK: The channel [testchannel31183] exists and visible to [org1][m[m[m
Step 1_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 2_api Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel31183 org2
[1;35m
Verifing if the [testchannel31183] channel exists in [org2.exmple.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:24:34.377 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:34.387 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileixqNcn _null_
Expect: testchannel31183, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh ^^^^^^testchannel31183 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh ^^^^^^testchannel31183 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 3_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh ^^^^^^testchannel31183 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh ^^^^^^testchannel31183 org1
[1;36mCreating [^^^^^^testchannel31183] channel in [org1.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3NH0.Wnse_cTdPP0TLa0JZiOLDAO3BDy_vklWTZu8Cnn0I-A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3NH0.Wnse_cTdPP0TLa0JZiOLDAO3BDy_vklWTZu8Cnn0I-A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3NH0.Wnse_cTdPP0TLa0JZiOLDAO3BDy_vklWTZu8Cnn0I-A
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel31183","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3NH0.Wnse_cTdPP0TLa0JZiOLDAO3BDy_vklWTZu8Cnn0I-A
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel31183\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel31183\"", code is 500
createChannelAPI: exit code:: 0 result:: "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel31183\"" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [^^^^^^testchannel31183] channel exists in [org1.exmple.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:36.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:36.535 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filejIVvXs _null_
Expect: ^^^^^^testchannel31183, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel31183 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 4_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel31183 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel31183 org1
[1;36mCreating [testchannel31183] channel in [org1.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3Nn0.SfN-mC76fA-QQ0XaAzAUrpDoWVI58YOd_boDeapb-oU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3Nn0.SfN-mC76fA-QQ0XaAzAUrpDoWVI58YOd_boDeapb-oU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3Nn0.SfN-mC76fA-QQ0XaAzAUrpDoWVI58YOd_boDeapb-oU
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel31183","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3Nn0.SfN-mC76fA-QQ0XaAzAUrpDoWVI58YOd_boDeapb-oU
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}},"isProposalResponse":true}], code is 200
createChannelAPI: exit code:: 0 result:: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}},"isProposalResponse":true}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel31183] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel31183] channel exists in [org1.exmple.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:38.715 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:38.718 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-16 08:24:38.719 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-16 08:24:38.719 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel31183",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-16T08:24:32Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file1MqjcR _testchannel31183_
Expect: testchannel31183, got: testchannel31183
setExitCode: 0
[1;32mOK: The channel [testchannel31183] exists and visible to [org1][m[m[m
Step 4_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel31183 org2 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 5_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel31183 org2 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel31183 org2
[1;36mCreating [testchannel31183] channel in [org2.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3OX0.A78-O9-o4ohXLpD6XP9e2TdA1LzC5pfcGu5TquTuBi4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3OX0.A78-O9-o4ohXLpD6XP9e2TdA1LzC5pfcGu5TquTuBi4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3OX0.A78-O9-o4ohXLpD6XP9e2TdA1LzC5pfcGu5TquTuBi4
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels {"channelId":"testchannel31183","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ3OX0.A78-O9-o4ohXLpD6XP9e2TdA1LzC5pfcGu5TquTuBi4
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
createChannelAPI: exit code:: 0 result:: "Invalid results returned ::FORBIDDEN" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [testchannel31183] channel exists in [org2.exmple.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:24:42.150 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:42.152 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileKBhiIr _null_
Expect: testchannel31183, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel31183-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-exit-code.sh ;verify_error=$(($run_error | $verify_error | $?)); /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 6_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel31183-02 org2 VERIFY: test-exit-code.sh VERIFY: test-channel-exists.sh testchannel31183-02 org2
[1;36mCreating [testchannel31183-02] channel in [org2.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4Mn0.JF7llsQcpZRZuRzvvobP6_lN9A1i0YxfXbu3b7TKxVs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4Mn0.JF7llsQcpZRZuRzvvobP6_lN9A1i0YxfXbu3b7TKxVs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4Mn0.JF7llsQcpZRZuRzvvobP6_lN9A1i0YxfXbu3b7TKxVs
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels {"channelId":"testchannel31183-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4Mn0.JF7llsQcpZRZuRzvvobP6_lN9A1i0YxfXbu3b7TKxVs
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.exmple.com:8051","name":"peer0.org2.exmple.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.exmple.com:8051","grpc.default_authority":"peer0.org2.exmple.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.exmple.com:8051","name":"peer0.org2.exmple.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.exmple.com:8051","grpc.default_authority":"peer0.org2.exmple.com:8051"}}}], code is 200
createChannelAPI: exit code:: 0 result:: [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.exmple.com:8051","name":"peer0.org2.exmple.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.exmple.com:8051","grpc.default_authority":"peer0.org2.exmple.com:8051"}}}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel31183-02] creation run sucsessfuly.[m[m[m
[1;35m
Checking exit code...[m[m[m
[1;32mOK: Exit code is OK: (0)[m[m[m
[1;35m
Verifing if the [testchannel31183-02] channel exists in [org2.exmple.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:24:44.691 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:44.694 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-16 08:24:44.695 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-16 08:24:44.695 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel31183-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-16T08:24:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/filevWXOx2 _testchannel31183-02_
Expect: testchannel31183-02, got: testchannel31183-02
setExitCode: 0
[1;32mOK: The channel [testchannel31183-02] exists and visible to [org2][m[m[m
Step 6_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 7_api Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel31183-02 org1
[1;35m
Verifing if the [testchannel31183-02] channel exists in [org1.exmple.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:45.339 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:45.341 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filejk6buM _null_
Expect: testchannel31183-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel31183-02 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel31183-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 8_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel31183-02 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel31183-02 org1
[1;36mCreating [testchannel31183-02] channel in [org1.exmple.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4NX0.7ArHl4TGUVTdh2N0bT-utdi9wt6xmlxMqSrTQv9iYBs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4NX0.7ArHl4TGUVTdh2N0bT-utdi9wt6xmlxMqSrTQv9iYBs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4NX0.7ArHl4TGUVTdh2N0bT-utdi9wt6xmlxMqSrTQv9iYBs
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel31183-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4NX0.7ArHl4TGUVTdh2N0bT-utdi9wt6xmlxMqSrTQv9iYBs
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
createChannelAPI: exit code:: 0 result:: "Invalid results returned ::FORBIDDEN" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [testchannel31183-02] channel exists in [org1.exmple.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:47.560 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:47.561 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileW2FWz1 _null_
Expect: testchannel31183-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel31183 org1 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31183 org1 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 9_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel31183 org1 org1 VERIFY: test-channel-add-org.sh testchannel31183 org1 org1
[1;36mAdd [org1] to the [testchannel31183] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel31183] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4N30.wXf3g3jzmZf7A57VViukpazc_WOZM7Z5Z1g-S3Wvwhs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4N30.wXf3g3jzmZf7A57VViukpazc_WOZM7Z5Z1g-S3Wvwhs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4N30.wXf3g3jzmZf7A57VViukpazc_WOZM7Z5Z1g-S3Wvwhs
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183/orgs {"orgId":"org1","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ4N30.wXf3g3jzmZf7A57VViukpazc_WOZM7Z5Z1g-S3Wvwhs
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org1] added to [testchannel31183] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel31183][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:50.169 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:50.172 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-16 08:24:50.174 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-16 08:24:50.174 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRV3ZWWVdVRGwzNWs4NXdPeHdCQlpQREFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBiM0puTVM1bGVHMXdiR1V1WTI5dE1Sc3dHUVlEVlFRREV4SmpZUzV2CmNtY3hMbVY0YlhCc1pTNWpiMjB3SGhjTk1qQXdOREV6TURZMU1EQXdXaGNOTXpBd05ERXhNRFkxTURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFiM0puTVM1bGVHMXdiR1V1WTI5dE1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUyMEZWa2ZzNHZNNjlyTkhRd2YxalpBZVhRbWdMVEVpWEJCOGIKWVUwTFZkT0lJdEttZU5xN1k3YUZFZkNYRTZFdVNJaVlFNHJsZGxNM1dUQS8yWFhMWGFOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWdOM0txdTF3dUxFWFdrQi83CnBOcWZNVFBVY0ptNy9nU0hqaVFhM2ltUjZDOHdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdic1l6eG9QaVJEKzgKamQ1dVdMR0FmR25CWW55VDZkTDNMcHkvZndzalNxTUNJR0ZQdG5OZVoxakVxR2s5N281ZVVLUzc4aTBJKzRGTQo2eEY0ODNUNWlLY2QKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNURENDQWZPZ0F3SUJBZ0lRQm8rNWlGL2dVWXp6V3Z4UW9BUGEzREFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBiM0puTVM1bGVHMXdiR1V1WTI5dE1Sc3dHUVlEVlFRREV4SmpZUzV2CmNtY3hMbVY0YlhCc1pTNWpiMjB3SGhjTk1qQXdOREV6TURZMU1EQXdXaGNOTXpBd05ERXhNRFkxTURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QYjNKbk1TNWxlRzF3YkdVdVkyOXRNUnN3R1FZRFZRUURFeEpqCllTNXZjbWN4TG1WNGJYQnNaUzVqYjIwd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWHFwa3AKRnhjQ1JZUmNnRHhFUkNESGxnbzhYZm1VTTlCWENmNjhpTHlhZStHYW1RaThQbFdaVElhTDF4d3JhQzNGL0IyKwpteWd0STBWK21OU0lVSkdUbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSURkeXFydGMKTGl4RjFwQWYrNlRhbnpFejFIQ1p1LzRFaDQ0a0d0NHBrZWd2TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUJURworSEkwTWN6Y1V2Nk9nZkpGMU1GRkVOWE1NbTlKNXk4djltbUEzcG0rQWlBNE9sc050ME0xTFhSbVFtbUFWamRLClBjYm1WWlZmR1hhcTNiV3BUMlp4V0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWRENDQWZxZ0F3SUJBZ0lSQU9QZTZ0V0x6ZFd4akRSYWl6WkJtaTB3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpFdVpYaHRjR3hsTG1OdmJURWVNQndHQTFVRUF4TVZkR3h6ClkyRXViM0puTVM1bGVHMXdiR1V1WTI5dE1CNFhEVEl3TURReE16QTJOVEF3TUZvWERUTXdNRFF4TVRBMk5UQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQyOXlaekV1WlhodGNHeGxMbU52YlRFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWIzSm5NUzVsZUcxd2JHVXVZMjl0TUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRS90SUxaV2VuQ3graWM3SUhaTFkvRHZ2dXdmR1VXZEFVM3RmNEFadkF1SVVmRGdnU1d2dE5iNitCSGtkMwpyU1NCQm82WHg2OElyQXQ3Q2t0MzFMR3d4Nk50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNBUkhqWi8vS2lCelpmRUxmckhYWElIcEphNHdjemQ3SFp3MHowNS9ITTV6ekFLQmdncWhrak9QUVFEQWdOSQpBREJGQWlFQXJ2eUpkSTk2aUV3Z1htV1RIUW1yVjlhVnFiZGlIdzF6QUN6ZTljTDZudjRDSUNxTFhISU5KSjV5CjBFc1lMUTNYOXBXZmFvS0U3NXB1THM1OEl2Y2x6bDR3Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
cat /tmp/filefFhvaG _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel31183][m[m[m
Step 9_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel31183-02 org2 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31183-02 org2 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 10_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel31183-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel31183-02 org2 org2
[1;36mAdd [org2] to the [testchannel31183-02] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel31183-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5MX0.-ZtNBZ1MlFA5YIcGHWGVSdlsGCUqHRy_4TbrGuYo_RM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5MX0.-ZtNBZ1MlFA5YIcGHWGVSdlsGCUqHRy_4TbrGuYo_RM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5MX0.-ZtNBZ1MlFA5YIcGHWGVSdlsGCUqHRy_4TbrGuYo_RM
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel31183-02/orgs {"orgId":"org2","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5MX0.-ZtNBZ1MlFA5YIcGHWGVSdlsGCUqHRy_4TbrGuYo_RM
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel31183-02] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel31183-02][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:24:53.689 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:53.692 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-16 08:24:53.693 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-16 08:24:53.693 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGakNDQWIyZ0F3SUJBZ0lSQUljcmE3QVZsM0hXR1kydEhtRThIOTR3Q2dZSUtvWkl6ajBFQXdJd2NURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWJNQmtHQTFVRUF4TVNZMkV1CmIzSm5NaTVsZUcxd2JHVXVZMjl0TUI0WERUSXdNRFF4TXpBMk5UQXdNRm9YRFRNd01EUXhNVEEyTlRBd01Gb3cKV2pFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4SGpBY0JnTlZCQU1NRlVGa2JXbHVRRzl5WnpJdVpYaHRjR3hsTG1OdmJUQlpNQk1HCkJ5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTUdmRlEwYUNSZGd4NWZOZ25WZStvdnZuRi9pY1ZGUElxMEoKUmlrK1Qyc1lFYXdlc3FTVlhiNTR3OVhjOTRsZC9oVm9HMUhUNG5jWEJ5ZWlEbm1UVDM2alRUQkxNQTRHQTFVZApEd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJTFhVYTFGYUZjNFo0Vk5ECjZjRkRWNlpUSTIzNnhPckFJQWJjV1o2RU00andNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJRGdONUhjK3NsVCsKSVd1TnB5eTFzdWZhTERONmpUK05PYUY5NGpZVDhEbWtBaUJzSTV1Vm9BRXpCelFEY1M0Z2c3RlhsaVhEa3lBbApMWjdPT2U0ejU1Y2l1Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUakNDQWZTZ0F3SUJBZ0lSQUlZTlVhVXFUNzA1YWVsMWtMSGJSS1F3Q2dZSUtvWkl6ajBFQXdJd2NURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWJNQmtHQTFVRUF4TVNZMkV1CmIzSm5NaTVsZUcxd2JHVXVZMjl0TUI0WERUSXdNRFF4TXpBMk5UQXdNRm9YRFRNd01EUXhNVEEyTlRBd01Gb3cKY1RFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4R0RBV0JnTlZCQW9URDI5eVp6SXVaWGh0Y0d4bExtTnZiVEViTUJrR0ExVUVBeE1TClkyRXViM0puTWk1bGVHMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWJYamkKR0svOWhrSWRCOElIcXJkME1CZ1J1NWN3Qll5MkJacmVyYjdaZ3NuY3hobVI5Wjc3eWlqZHNTblV2dVNmNE82LwpkRnEvTW9IRE5YRVQxd2xnUGFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHCkFRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDMTFHdFIKV2hYT0dlRlRRK25CUTFlbVV5TnQrc1Rxd0NBRzNGbWVoRE9JOERBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQQpyVHk4dWNuNDVXSk5VQXdJZWVKMWtqUDlIR0h2RXl2NTJKdkt5QWJkeXVFQ0lDNWVBd1VDUmJkeHRJaFVoZHhPCjA0UUNsM1A2SEJsaUxyNC9BaU1XRm5IaAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWRENDQWZxZ0F3SUJBZ0lSQU5mUjdYdTB1WFBjWVJKUEdqQzF4RGt3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWVNQndHQTFVRUF4TVZkR3h6ClkyRXViM0puTWk1bGVHMXdiR1V1WTI5dE1CNFhEVEl3TURReE16QTJOVEF3TUZvWERUTXdNRFF4TVRBMk5UQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQyOXlaekl1WlhodGNHeGxMbU52YlRFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWIzSm5NaTVsZUcxd2JHVXVZMjl0TUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRWR0a0hNb1lrdDRYYzVlbXJNZEZseUdvTDhQbXhZZzBFRjRWVUJCRWRrQ0w2bWZ3ZHpQeTlmbDU0MDJJbgowcUgwWkhhZ1g1TDdTZkF3U3k0TGRBK3J4S050TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNDNUx1SkMxM3RNSnoxNTY3aHZvUS96TGZoNFpTYVdsbVFRem55ZnRFMFRNakFLQmdncWhrak9QUVFEQWdOSQpBREJGQWlFQTM3ZHZwTnc5eXJ5TzZFTXkyVkJ0Z0FYZ0xFTGlxS09oNUdTNWp1S3ZuWElDSUUyNDZ6YlBodldsCnhXeHc5bjBINGM0L0RsTWd1OUgxYUJxNTNIMjdBa2hRCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
cat /tmp/file19Bj9o _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel31183-02][m[m[m
Step 10_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel31183 org1 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31183 org1 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 11_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel31183 org1 org2 VERIFY: test-channel-add-org.sh testchannel31183 org1 org2
[1;36mAdd [org2] to the [testchannel31183] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel31183] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5NH0.eARLKhqar3kal5eo-YCkmPb3zujcR8sscjFq1diLA60"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5NH0.eARLKhqar3kal5eo-YCkmPb3zujcR8sscjFq1diLA60", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5NH0.eARLKhqar3kal5eo-YCkmPb3zujcR8sscjFq1diLA60
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183/orgs {"orgId":"org2","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5NH0.eARLKhqar3kal5eo-YCkmPb3zujcR8sscjFq1diLA60
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel31183] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel31183][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:24:56.334 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:56.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-16 08:24:56.339 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-16 08:24:56.339 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGakNDQWIyZ0F3SUJBZ0lSQUljcmE3QVZsM0hXR1kydEhtRThIOTR3Q2dZSUtvWkl6ajBFQXdJd2NURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWJNQmtHQTFVRUF4TVNZMkV1CmIzSm5NaTVsZUcxd2JHVXVZMjl0TUI0WERUSXdNRFF4TXpBMk5UQXdNRm9YRFRNd01EUXhNVEEyTlRBd01Gb3cKV2pFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4SGpBY0JnTlZCQU1NRlVGa2JXbHVRRzl5WnpJdVpYaHRjR3hsTG1OdmJUQlpNQk1HCkJ5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCTUdmRlEwYUNSZGd4NWZOZ25WZStvdnZuRi9pY1ZGUElxMEoKUmlrK1Qyc1lFYXdlc3FTVlhiNTR3OVhjOTRsZC9oVm9HMUhUNG5jWEJ5ZWlEbm1UVDM2alRUQkxNQTRHQTFVZApEd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJTFhVYTFGYUZjNFo0Vk5ECjZjRkRWNlpUSTIzNnhPckFJQWJjV1o2RU00andNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJRGdONUhjK3NsVCsKSVd1TnB5eTFzdWZhTERONmpUK05PYUY5NGpZVDhEbWtBaUJzSTV1Vm9BRXpCelFEY1M0Z2c3RlhsaVhEa3lBbApMWjdPT2U0ejU1Y2l1Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNUakNDQWZTZ0F3SUJBZ0lSQUlZTlVhVXFUNzA1YWVsMWtMSGJSS1F3Q2dZSUtvWkl6ajBFQXdJd2NURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWJNQmtHQTFVRUF4TVNZMkV1CmIzSm5NaTVsZUcxd2JHVXVZMjl0TUI0WERUSXdNRFF4TXpBMk5UQXdNRm9YRFRNd01EUXhNVEEyTlRBd01Gb3cKY1RFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4R0RBV0JnTlZCQW9URDI5eVp6SXVaWGh0Y0d4bExtTnZiVEViTUJrR0ExVUVBeE1TClkyRXViM0puTWk1bGVHMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWJYamkKR0svOWhrSWRCOElIcXJkME1CZ1J1NWN3Qll5MkJacmVyYjdaZ3NuY3hobVI5Wjc3eWlqZHNTblV2dVNmNE82LwpkRnEvTW9IRE5YRVQxd2xnUGFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHCkFRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNDMTFHdFIKV2hYT0dlRlRRK25CUTFlbVV5TnQrc1Rxd0NBRzNGbWVoRE9JOERBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQQpyVHk4dWNuNDVXSk5VQXdJZWVKMWtqUDlIR0h2RXl2NTJKdkt5QWJkeXVFQ0lDNWVBd1VDUmJkeHRJaFVoZHhPCjA0UUNsM1A2SEJsaUxyNC9BaU1XRm5IaAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWRENDQWZxZ0F3SUJBZ0lSQU5mUjdYdTB1WFBjWVJKUEdqQzF4RGt3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpJdVpYaHRjR3hsTG1OdmJURWVNQndHQTFVRUF4TVZkR3h6ClkyRXViM0puTWk1bGVHMXdiR1V1WTI5dE1CNFhEVEl3TURReE16QTJOVEF3TUZvWERUTXdNRFF4TVRBMk5UQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQyOXlaekl1WlhodGNHeGxMbU52YlRFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWIzSm5NaTVsZUcxd2JHVXVZMjl0TUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRWR0a0hNb1lrdDRYYzVlbXJNZEZseUdvTDhQbXhZZzBFRjRWVUJCRWRrQ0w2bWZ3ZHpQeTlmbDU0MDJJbgowcUgwWkhhZ1g1TDdTZkF3U3k0TGRBK3J4S050TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNDNUx1SkMxM3RNSnoxNTY3aHZvUS96TGZoNFpTYVdsbVFRem55ZnRFMFRNakFLQmdncWhrak9QUVFEQWdOSQpBREJGQWlFQTM3ZHZwTnc5eXJ5TzZFTXkyVkJ0Z0FYZ0xFTGlxS09oNUdTNWp1S3ZuWElDSUUyNDZ6YlBodldsCnhXeHc5bjBINGM0L0RsTWd1OUgxYUJxNTNIMjdBa2hRCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
cat /tmp/filesjmy3k _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel31183][m[m[m
Step 11_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel31183-02 org2 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel31183-02 org2 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 12_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel31183-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel31183-02 org2 org1
[1;36mAdd [org1] to the [testchannel31183-02] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel31183-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5Nn0.P45icgaLOd7YGmQYrw7jKSwPIKCb-rE0ySdbzjEOUiA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5Nn0.P45icgaLOd7YGmQYrw7jKSwPIKCb-rE0ySdbzjEOUiA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5Nn0.P45icgaLOd7YGmQYrw7jKSwPIKCb-rE0ySdbzjEOUiA
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel31183-02/orgs {"orgId":"org1","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5Nn0.P45icgaLOd7YGmQYrw7jKSwPIKCb-rE0ySdbzjEOUiA
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org1] added to [testchannel31183-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel31183-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:24:58.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-16 08:24:58.927 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-16 08:24:58.928 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-16 08:24:58.928 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNGVENDQWJ5Z0F3SUJBZ0lRV3ZWWVdVRGwzNWs4NXdPeHdCQlpQREFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBiM0puTVM1bGVHMXdiR1V1WTI5dE1Sc3dHUVlEVlFRREV4SmpZUzV2CmNtY3hMbVY0YlhCc1pTNWpiMjB3SGhjTk1qQXdOREV6TURZMU1EQXdXaGNOTXpBd05ERXhNRFkxTURBd1dqQmEKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVBd3dWUVdSdGFXNUFiM0puTVM1bGVHMXdiR1V1WTI5dE1Ga3dFd1lICktvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUyMEZWa2ZzNHZNNjlyTkhRd2YxalpBZVhRbWdMVEVpWEJCOGIKWVUwTFZkT0lJdEttZU5xN1k3YUZFZkNYRTZFdVNJaVlFNHJsZGxNM1dUQS8yWFhMWGFOTk1Fc3dEZ1lEVlIwUApBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqQkNRd0lvQWdOM0txdTF3dUxFWFdrQi83CnBOcWZNVFBVY0ptNy9nU0hqaVFhM2ltUjZDOHdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdic1l6eG9QaVJEKzgKamQ1dVdMR0FmR25CWW55VDZkTDNMcHkvZndzalNxTUNJR0ZQdG5OZVoxakVxR2s5N281ZVVLUzc4aTBJKzRGTQo2eEY0ODNUNWlLY2QKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNURENDQWZPZ0F3SUJBZ0lRQm8rNWlGL2dVWXp6V3Z4UW9BUGEzREFLQmdncWhrak9QUVFEQWpCeE1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVlNQllHQTFVRUNoTVBiM0puTVM1bGVHMXdiR1V1WTI5dE1Sc3dHUVlEVlFRREV4SmpZUzV2CmNtY3hMbVY0YlhCc1pTNWpiMjB3SGhjTk1qQXdOREV6TURZMU1EQXdXaGNOTXpBd05ERXhNRFkxTURBd1dqQngKTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdQpJRVp5WVc1amFYTmpiekVZTUJZR0ExVUVDaE1QYjNKbk1TNWxlRzF3YkdVdVkyOXRNUnN3R1FZRFZRUURFeEpqCllTNXZjbWN4TG1WNGJYQnNaUzVqYjIwd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWHFwa3AKRnhjQ1JZUmNnRHhFUkNESGxnbzhYZm1VTTlCWENmNjhpTHlhZStHYW1RaThQbFdaVElhTDF4d3JhQzNGL0IyKwpteWd0STBWK21OU0lVSkdUbzIwd2F6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCCkJRVUhBd0lHQ0NzR0FRVUZCd01CTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSURkeXFydGMKTGl4RjFwQWYrNlRhbnpFejFIQ1p1LzRFaDQ0a0d0NHBrZWd2TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUJURworSEkwTWN6Y1V2Nk9nZkpGMU1GRkVOWE1NbTlKNXk4djltbUEzcG0rQWlBNE9sc050ME0xTFhSbVFtbUFWamRLClBjYm1WWlZmR1hhcTNiV3BUMlp4V0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWRENDQWZxZ0F3SUJBZ0lSQU9QZTZ0V0x6ZFd4akRSYWl6WkJtaTB3Q2dZSUtvWkl6ajBFQXdJd2RERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHREFXQmdOVkJBb1REMjl5WnpFdVpYaHRjR3hsTG1OdmJURWVNQndHQTFVRUF4TVZkR3h6ClkyRXViM0puTVM1bGVHMXdiR1V1WTI5dE1CNFhEVEl3TURReE16QTJOVEF3TUZvWERUTXdNRFF4TVRBMk5UQXcKTUZvd2RERUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeEZqQVVCZ05WQkFjVApEVk5oYmlCR2NtRnVZMmx6WTI4eEdEQVdCZ05WQkFvVEQyOXlaekV1WlhodGNHeGxMbU52YlRFZU1Cd0dBMVVFCkF4TVZkR3h6WTJFdWIzSm5NUzVsZUcxd2JHVXVZMjl0TUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0QKUWdBRS90SUxaV2VuQ3graWM3SUhaTFkvRHZ2dXdmR1VXZEFVM3RmNEFadkF1SVVmRGdnU1d2dE5iNitCSGtkMwpyU1NCQm82WHg2OElyQXQ3Q2t0MzFMR3d4Nk50TUdzd0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQ2tHQTFVZERnUWkKQkNBUkhqWi8vS2lCelpmRUxmckhYWElIcEphNHdjemQ3SFp3MHowNS9ITTV6ekFLQmdncWhrak9QUVFEQWdOSQpBREJGQWlFQXJ2eUpkSTk2aUV3Z1htV1RIUW1yVjlhVnFiZGlIdzF6QUN6ZTljTDZudjRDSUNxTFhISU5KSjV5CjBFc1lMUTNYOXBXZmFvS0U3NXB1THM1OEl2Y2x6bDR3Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
]
},
"type": 0
}
cat /tmp/filecPczxV _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel31183-02][m[m[m
Step 12_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel31183 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31183 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 13_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel31183 org1 VERIFY: test-join-channel.sh testchannel31183 org1
[1;36mJoining org1.exmple.com to the [testchannel31183] channel using API...[m[m[m
[1;36mJoining org1.exmple.com to the [testchannel31183] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5OX0.oKD7RrK0EFeeEvBTi1x7jLKF-ttV6CvwpT2omyOaH2Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5OX0.oKD7RrK0EFeeEvBTi1x7jLKF-ttV6CvwpT2omyOaH2Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5OX0.oKD7RrK0EFeeEvBTi1x7jLKF-ttV6CvwpT2omyOaH2Q
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTQ5OX0.oKD7RrK0EFeeEvBTi1x7jLKF-ttV6CvwpT2omyOaH2Q
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.exmple.com:7051","name":"peer0.org1.exmple.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.exmple.com:7051","grpc.default_authority":"peer0.org1.exmple.com:7051"}},"isProposalResponse":true}], code is 200
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel31183] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:25:01.412 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel31183] channel[m[m[m
Step 13_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel31183 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31183 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 14_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel31183 org2 VERIFY: test-join-channel.sh testchannel31183 org2
[1;36mJoining org2.exmple.com to the [testchannel31183] channel using API...[m[m[m
[1;36mJoining org2.exmple.com to the [testchannel31183] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUwMX0.6FUPOY-W82KBK34dU0sGRt07fL2yJU1G0cgYTvX4H3E"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUwMX0.6FUPOY-W82KBK34dU0sGRt07fL2yJU1G0cgYTvX4H3E", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUwMX0.6FUPOY-W82KBK34dU0sGRt07fL2yJU1G0cgYTvX4H3E
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel31183 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUwMX0.6FUPOY-W82KBK34dU0sGRt07fL2yJU1G0cgYTvX4H3E
[31mcurlRequest: (curl exit code: 28) (B[m
curlGetIt got _ 000 _ result
body is empty (set to {"empty":"true"}), code is 000
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel31183] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:25:17.553 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel31183] channel[m[m[m
Step 14_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel31183-02 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31183-02 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 15_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel31183-02 org1 VERIFY: test-join-channel.sh testchannel31183-02 org1
[1;36mJoining org1.exmple.com to the [testchannel31183-02] channel using API...[m[m[m
[1;36mJoining org1.exmple.com to the [testchannel31183-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUxN30.zmM2sb2wW0h71x3KWRZFeab12Jw9mIwpE8z35eJie84"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUxN30.zmM2sb2wW0h71x3KWRZFeab12Jw9mIwpE8z35eJie84", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUxN30.zmM2sb2wW0h71x3KWRZFeab12Jw9mIwpE8z35eJie84
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUxN30.zmM2sb2wW0h71x3KWRZFeab12Jw9mIwpE8z35eJie84
[31mcurlRequest: (curl exit code: 28) (B[m
curlGetIt got _ 000 _ result
body is empty (set to {"empty":"true"}), code is 000
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel31183-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-16 08:25:33.613 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel31183-02] channel[m[m[m
Step 15_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel31183-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel31183-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 16_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel31183-02 org2 VERIFY: test-join-channel.sh testchannel31183-02 org2
[1;36mJoining org2.exmple.com to the [testchannel31183-02] channel using API...[m[m[m
[1;36mJoining org2.exmple.com to the [testchannel31183-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzM30.Kb_m6Lh5Y6EkpXnZB0X90612exLaQUJLw5-sxTO5BQE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzM30.Kb_m6Lh5Y6EkpXnZB0X90612exLaQUJLw5-sxTO5BQE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzM30.Kb_m6Lh5Y6EkpXnZB0X90612exLaQUJLw5-sxTO5BQE
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel31183-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzM30.Kb_m6Lh5Y6EkpXnZB0X90612exLaQUJLw5-sxTO5BQE
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.exmple.com:8051","name":"peer0.org2.exmple.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.exmple.com:8051","grpc.default_authority":"peer0.org2.exmple.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.exmple.com:8051","name":"peer0.org2.exmple.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.exmple.com:8051","grpc.default_authority":"peer0.org2.exmple.com:8051"}},"isProposalResponse":true}], code is 200
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel31183-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-16 08:25:35.070 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel31183-02] channel[m[m[m
Step 16_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel31183 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31183 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 17_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel31183 org1 VERIFY: test-chaincode-installed.sh testchannel31183 org1
[1;36m
Installing test chaincode in [org1][m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzNX0.Es4yyj2tVnMcmJom1x1Pmv-ykFUV7ArFS3LYmY27t6c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzNX0.Es4yyj2tVnMcmJom1x1Pmv-ykFUV7ArFS3LYmY27t6c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzNX0.Es4yyj2tVnMcmJom1x1Pmv-ykFUV7ArFS3LYmY27t6c
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel31183/chaincode-reference.js (deflated 27%)
adding: reference_testchannel31183/index.js (deflated 27%)
adding: reference_testchannel31183/package.json (deflated 41%)
adding: reference_testchannel31183/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 апр 16 11:25 /tmp/reference_testchannel31183.zip
/tmp/reference_testchannel31183.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel31183:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org1][m[m[m
[1;35m
Verifing if the test chaincode installed in [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31183' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/exmple.com/msp/tlscacerts/tlsca.exmple.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel14290, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel14290, Id: f568cef6bcc14da7c54a0522b861060efb3fb49ea99f582e70dd78238178d842
Name: reference_testchannel20366, Version: 1.0, Path: /tmp/reference_testchannel20366, Id: 7f812b6738ee108f212c5da0faa8030bf2464d668a3d442ad60a11644fa9e5f0
Name: reference_testchannel22742, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel22742, Id: e85355717b8264742940b09572d1233e767ef9875c1eabe9b8112c96b330e238
Name: reference_testchannel26862, Version: 1.0, Path: /tmp/reference_testchannel26862, Id: 6a004cecac48e4987b51823d250a54bb6e4ba2cfa728827d9efab6e0ccc1d4df
Name: reference_testchannel27061, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27061, Id: e07228d7f657f7bfef18b09ee5450028814334688ece5890a18220f10162c524
Name: reference_testchannel28323, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28323, Id: c3abc325e6d070a3993d2e96849382b20007a49dae2777c43210c28e1deaeee2
Name: reference_testchannel31183, Version: 1.0, Path: /tmp/reference_testchannel31183, Id: ed6a98434cabe5e843fcf488f49558ae62d7211a1fa1de35223e0ed9155aca88
Name: reference_testchannel31749, Version: 1.0, Path: /tmp/reference_testchannel31749, Id: 50f45f05ca60270036ab0bf0255d7abc3bcd7e47ff2f94c7a99c2f177d3aca98
Name: reference_testchannel3306, Version: 1.0, Path: /tmp/reference_testchannel3306, Id: 87b86afc9b32c52a48fee28800a831f7a312373fa4989852a43039cf3fdcd371
Name: reference_testchannel4778, Version: 1.0, Path: /tmp/reference_testchannel4778, Id: 1c7439b7975b434f6fe71b3689a242e24b32b806f4c3c09cb65c348d97f3a1c5
Name: reference_testchannel6643, Version: 1.0, Path: /tmp/reference_testchannel6643, Id: 9b369b69c3767083323a4e889aafd553b35ad98973b009193330785fe1b5addf
Name: reference_testchannel8234, Version: 1.0, Path: /tmp/reference_testchannel8234, Id: 2285f288a36dbbad645f7d897753737d7c39fca05d42524a5e84fe4ef2a69926
setExitCode: 0
reference_testchannel31183
setExitCode: 0
[1;32mOK: The test chaincode installed in [org1][m[m[m
Step 17_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel31183 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31183 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 18_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel31183 org2 VERIFY: test-chaincode-installed.sh testchannel31183 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzOX0.1gVIdM6lJKg2dlyjDvpYhefbeNY6tKHemvt0PlJFyLI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzOX0.1gVIdM6lJKg2dlyjDvpYhefbeNY6tKHemvt0PlJFyLI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTUzOX0.1gVIdM6lJKg2dlyjDvpYhefbeNY6tKHemvt0PlJFyLI
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
updating: reference_testchannel31183/chaincode-reference.js (deflated 27%)
updating: reference_testchannel31183/index.js (deflated 27%)
updating: reference_testchannel31183/package.json (deflated 41%)
updating: reference_testchannel31183/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 апр 16 11:25 /tmp/reference_testchannel31183.zip
/tmp/reference_testchannel31183.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel31183:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org2][m[m[m
[1;35m
Verifing if the test chaincode installed in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31183' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/exmple.com/msp/tlscacerts/tlsca.exmple.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel14290-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel14290-02, Id: cdad85bf4007eb3382f898025537d464204252adbcea23aca0c1e4b506f585c1
Name: reference_testchannel14290, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel14290, Id: f568cef6bcc14da7c54a0522b861060efb3fb49ea99f582e70dd78238178d842
Name: reference_testchannel20366-02, Version: 1.0, Path: /tmp/reference_testchannel20366-02, Id: df1acccab958cfdf9ffb57879f9b0de84a384ecd6e5e6b43bcfdd6121df5c7e9
Name: reference_testchannel20366, Version: 1.0, Path: /tmp/reference_testchannel20366, Id: 7f812b6738ee108f212c5da0faa8030bf2464d668a3d442ad60a11644fa9e5f0
Name: reference_testchannel22742-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel22742-02, Id: 6bf77addcbcda0aceac52249518f6c8239eb7207046112ed3761d90e1017bb78
Name: reference_testchannel22742, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel22742, Id: e85355717b8264742940b09572d1233e767ef9875c1eabe9b8112c96b330e238
Name: reference_testchannel26862-02, Version: 1.0, Path: /tmp/reference_testchannel26862-02, Id: 1deb80dce390918834ae73dfcde8896b8f04a0ef31b9255cbdd6350288990760
Name: reference_testchannel26862, Version: 1.0, Path: /tmp/reference_testchannel26862, Id: 6a004cecac48e4987b51823d250a54bb6e4ba2cfa728827d9efab6e0ccc1d4df
Name: reference_testchannel27061-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27061-02, Id: 8add4d45b4a2883b60e111144b358e5b782eb1dacc5ae8cfb952f80d20221e46
Name: reference_testchannel27061, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27061, Id: e07228d7f657f7bfef18b09ee5450028814334688ece5890a18220f10162c524
Name: reference_testchannel28323-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28323-02, Id: 6d1d439a85ff3cd230adccee52151821af2f0d73966609893576ea269ad70076
Name: reference_testchannel28323, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28323, Id: c3abc325e6d070a3993d2e96849382b20007a49dae2777c43210c28e1deaeee2
Name: reference_testchannel31183, Version: 1.0, Path: /tmp/reference_testchannel31183, Id: ed6a98434cabe5e843fcf488f49558ae62d7211a1fa1de35223e0ed9155aca88
Name: reference_testchannel31749-02, Version: 1.0, Path: /tmp/reference_testchannel31749-02, Id: 0914a8f2b4f877e6d1adffb6049fab8072bd7c78bad0f861c4ac3efd709ddae9
Name: reference_testchannel31749, Version: 1.0, Path: /tmp/reference_testchannel31749, Id: 50f45f05ca60270036ab0bf0255d7abc3bcd7e47ff2f94c7a99c2f177d3aca98
Name: reference_testchannel3306-02, Version: 1.0, Path: /tmp/reference_testchannel3306-02, Id: 41ef6ded5d505064d0a120dcba41236b69834eb0bb3479489a0d9ec1aca3a5f9
Name: reference_testchannel3306, Version: 1.0, Path: /tmp/reference_testchannel3306, Id: 87b86afc9b32c52a48fee28800a831f7a312373fa4989852a43039cf3fdcd371
Name: reference_testchannel4778-02, Version: 1.0, Path: /tmp/reference_testchannel4778-02, Id: b9a154e90c700405505c387d819ee5bc0ce3642356193e873efbc4e0d5d88548
Name: reference_testchannel4778, Version: 1.0, Path: /tmp/reference_testchannel4778, Id: 1c7439b7975b434f6fe71b3689a242e24b32b806f4c3c09cb65c348d97f3a1c5
Name: reference_testchannel6643-02, Version: 1.0, Path: /tmp/reference_testchannel6643-02, Id: 075cf3879f73bcfddd0b458e63c47c8cfc7599ef96bdadf1a31bd5b32307ab0a
Name: reference_testchannel6643, Version: 1.0, Path: /tmp/reference_testchannel6643, Id: 9b369b69c3767083323a4e889aafd553b35ad98973b009193330785fe1b5addf
Name: reference_testchannel8234-02, Version: 1.0, Path: /tmp/reference_testchannel8234-02, Id: cadc8ea5d22abf5d5fdd399e2b17606df3f7fe0ed4febb51bf2ef3ce931ae0e9
Name: reference_testchannel8234, Version: 1.0, Path: /tmp/reference_testchannel8234, Id: 2285f288a36dbbad645f7d897753737d7c39fca05d42524a5e84fe4ef2a69926
setExitCode: 0
reference_testchannel31183
setExitCode: 0
[1;32mOK: The test chaincode installed in [org2][m[m[m
Step 18_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel31183-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel31183-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 19_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel31183-02 org2 VERIFY: test-chaincode-installed.sh testchannel31183-02 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0NH0.V4KiEvWxaxejRm4eqcuEvOxkFFBFVOTzlWAybhe2yFk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0NH0.V4KiEvWxaxejRm4eqcuEvOxkFFBFVOTzlWAybhe2yFk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0NH0.V4KiEvWxaxejRm4eqcuEvOxkFFBFVOTzlWAybhe2yFk
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel31183-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel31183-02/index.js (deflated 27%)
adding: reference_testchannel31183-02/package.json (deflated 41%)
adding: reference_testchannel31183-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 апр 16 11:25 /tmp/reference_testchannel31183-02.zip
/tmp/reference_testchannel31183-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel31183-02:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org2][m[m[m
[1;35m
Verifing if the test chaincode installed in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel31183-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/exmple.com/msp/tlscacerts/tlsca.exmple.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel14290-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel14290-02, Id: cdad85bf4007eb3382f898025537d464204252adbcea23aca0c1e4b506f585c1
Name: reference_testchannel14290, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel14290, Id: f568cef6bcc14da7c54a0522b861060efb3fb49ea99f582e70dd78238178d842
Name: reference_testchannel20366-02, Version: 1.0, Path: /tmp/reference_testchannel20366-02, Id: df1acccab958cfdf9ffb57879f9b0de84a384ecd6e5e6b43bcfdd6121df5c7e9
Name: reference_testchannel20366, Version: 1.0, Path: /tmp/reference_testchannel20366, Id: 7f812b6738ee108f212c5da0faa8030bf2464d668a3d442ad60a11644fa9e5f0
Name: reference_testchannel22742-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel22742-02, Id: 6bf77addcbcda0aceac52249518f6c8239eb7207046112ed3761d90e1017bb78
Name: reference_testchannel22742, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel22742, Id: e85355717b8264742940b09572d1233e767ef9875c1eabe9b8112c96b330e238
Name: reference_testchannel26862-02, Version: 1.0, Path: /tmp/reference_testchannel26862-02, Id: 1deb80dce390918834ae73dfcde8896b8f04a0ef31b9255cbdd6350288990760
Name: reference_testchannel26862, Version: 1.0, Path: /tmp/reference_testchannel26862, Id: 6a004cecac48e4987b51823d250a54bb6e4ba2cfa728827d9efab6e0ccc1d4df
Name: reference_testchannel27061-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27061-02, Id: 8add4d45b4a2883b60e111144b358e5b782eb1dacc5ae8cfb952f80d20221e46
Name: reference_testchannel27061, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27061, Id: e07228d7f657f7bfef18b09ee5450028814334688ece5890a18220f10162c524
Name: reference_testchannel28323-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28323-02, Id: 6d1d439a85ff3cd230adccee52151821af2f0d73966609893576ea269ad70076
Name: reference_testchannel28323, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel28323, Id: c3abc325e6d070a3993d2e96849382b20007a49dae2777c43210c28e1deaeee2
Name: reference_testchannel31183-02, Version: 1.0, Path: /tmp/reference_testchannel31183-02, Id: 3a80030d73ec2a3c878092f05de9263dcf7c16bc81436229ccc5a55a58fb91c7
Name: reference_testchannel31183, Version: 1.0, Path: /tmp/reference_testchannel31183, Id: ed6a98434cabe5e843fcf488f49558ae62d7211a1fa1de35223e0ed9155aca88
Name: reference_testchannel31749-02, Version: 1.0, Path: /tmp/reference_testchannel31749-02, Id: 0914a8f2b4f877e6d1adffb6049fab8072bd7c78bad0f861c4ac3efd709ddae9
Name: reference_testchannel31749, Version: 1.0, Path: /tmp/reference_testchannel31749, Id: 50f45f05ca60270036ab0bf0255d7abc3bcd7e47ff2f94c7a99c2f177d3aca98
Name: reference_testchannel3306-02, Version: 1.0, Path: /tmp/reference_testchannel3306-02, Id: 41ef6ded5d505064d0a120dcba41236b69834eb0bb3479489a0d9ec1aca3a5f9
Name: reference_testchannel3306, Version: 1.0, Path: /tmp/reference_testchannel3306, Id: 87b86afc9b32c52a48fee28800a831f7a312373fa4989852a43039cf3fdcd371
Name: reference_testchannel4778-02, Version: 1.0, Path: /tmp/reference_testchannel4778-02, Id: b9a154e90c700405505c387d819ee5bc0ce3642356193e873efbc4e0d5d88548
Name: reference_testchannel4778, Version: 1.0, Path: /tmp/reference_testchannel4778, Id: 1c7439b7975b434f6fe71b3689a242e24b32b806f4c3c09cb65c348d97f3a1c5
Name: reference_testchannel6643-02, Version: 1.0, Path: /tmp/reference_testchannel6643-02, Id: 075cf3879f73bcfddd0b458e63c47c8cfc7599ef96bdadf1a31bd5b32307ab0a
Name: reference_testchannel6643, Version: 1.0, Path: /tmp/reference_testchannel6643, Id: 9b369b69c3767083323a4e889aafd553b35ad98973b009193330785fe1b5addf
Name: reference_testchannel8234-02, Version: 1.0, Path: /tmp/reference_testchannel8234-02, Id: cadc8ea5d22abf5d5fdd399e2b17606df3f7fe0ed4febb51bf2ef3ce931ae0e9
Name: reference_testchannel8234, Version: 1.0, Path: /tmp/reference_testchannel8234, Id: 2285f288a36dbbad645f7d897753737d7c39fca05d42524a5e84fe4ef2a69926
setExitCode: 0
reference_testchannel31183-02
setExitCode: 0
[1;32mOK: The test chaincode installed in [org2][m[m[m
Step 19_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-instantiate.sh testchannel31183 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel31183 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 20_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-instantiate.sh testchannel31183 org1 VERIFY: test-chaincode-instantiated.sh testchannel31183 org1
[1;36m
Instantiating test chaincode in [org1][m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0OH0.uV5dxuKWlTkkttJx5f78D3SAyCoot2lqFEh9MUJvcm4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0OH0.uV5dxuKWlTkkttJx5f78D3SAyCoot2lqFEh9MUJvcm4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0OH0.uV5dxuKWlTkkttJx5f78D3SAyCoot2lqFEh9MUJvcm4
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183/chaincodes {"channelId":"testchannel31183","chaincodeId":"reference_testchannel31183","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTU0OH0.uV5dxuKWlTkkttJx5f78D3SAyCoot2lqFEh9MUJvcm4 150
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ {"txid":"ec01a786d3bc92a6ddd1e53c7ce23b3e6866a63113708d99ece3188ad4376cd3","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"ec01a786d3bc92a6ddd1e53c7ce23b3e6866a63113708d99ece3188ad4376cd3","status":"VALID","blockNumber":"3"}, code is 200
setExitCode: 0
[1;32mOK: Test chaincode installed in [org1][m[m[m
[1;35m
Verifing if the test chaincode instantiated in channel [testchannel31183] channel by [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel31183' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/exmple.com/msp/tlscacerts/tlsca.exmple.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel31183:
Name: reference_testchannel31183, Version: 1.0, Path: /tmp/reference_testchannel31183, Input: <nil>, Escc: escc, Vscc: vscc
setExitCode: 0
reference_testchannel31183
setExitCode: 0
[1;32mOK: The test chaincode installed in [testchannel31183] channel by [org1] org[m[m[m
Step 20_api: exit code 0
run_error=0;verify_error=0;sleep 15 ; NO_RED_OUTPUT=false ./chaincode-invoke.sh testchannel31183 org1 reference_testchannel31183 ;run_error=$?;echo $run_error; NO_RED_OUTPUT=false ./chaincode-query.sh testchannel31183 org2 reference_testchannel31183 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-exit-code.sh;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 21_api Test(B[m
[1m[37m---------------------------(B[m
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel31183 org1 reference_testchannel31183 RUNTEST: chaincode-query.sh testchannel31183 org2 reference_testchannel31183 VERIFY: test-exit-code.sh
[1;36m
Invoke test chaincode on the [testchannel31183] channel'[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTYwMX0.cXFC81AC1Ot4BTC9hXMOjAusfT5VFjFWvcNvUV9xgps"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTYwMX0.cXFC81AC1Ot4BTC9hXMOjAusfT5VFjFWvcNvUV9xgps", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTYwMX0.cXFC81AC1Ot4BTC9hXMOjAusfT5VFjFWvcNvUV9xgps
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel31183/chaincodes/reference_testchannel31183 {"fcn":"put","args":["testchannel31183","testchannel31183"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzAyNTYwMX0.cXFC81AC1Ot4BTC9hXMOjAusfT5VFjFWvcNvUV9xgps
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ {"txid":"1b61347452deec09ebbddb7c7c48f171955a932d9f2bd5f78395b919c7f302e3","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"1b61347452deec09ebbddb7c7c48f171955a932d9f2bd5f78395b919c7f302e3","status":"VALID","blockNumber":"4"}, code is 200
setExitCode: 0
[1;32mOK: Chaincode [reference_testchannel31183] invoked sucsessfuly[m[m[m
[1;36m
Query test chaincode on the [testchannel31183] channel'[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./chaincode-query.sh testchannel31183 reference_testchannel31183 '["range","testchannel31183"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel31183 reference_testchannel31183 '["range","testchannel31183"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.exmple.com:8051 peer chaincode query -n reference_testchannel31183 -C testchannel31183 -c '{"Args":["range","testchannel31183"]}'
[{"key":"testchannel31183","value":"testchannel31183"}]
setExitCode: 0
[1;32mOK: Chaincode [reference_testchannel31183] invoked sucsessfuly[m[m[m
[1;35m
Checking exit code...[m[m[m
[1;32mOK: Exit code is OK: (0)[m[m[m
Step 21_api: exit code 0
