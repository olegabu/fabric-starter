
Arguments passed: api org1 org2
Arguments required: Fabric test interface (cli|api|...)  First organization  Second organization
checkArgsPassed: args required: 3 Fabric test interface (cli|api|...)  First organization  Second organization args passed: 3 api org1 org2
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel15676 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 1_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel15676 org1 VERIFY: test-channel-exists.sh testchannel15676 org1
[1;36mCreating [testchannel15676] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3MX0.1uvYO4pynYmgJ02Kefr2FUwbht9lxUy-Vo-RE3kqRPw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3MX0.1uvYO4pynYmgJ02Kefr2FUwbht9lxUy-Vo-RE3kqRPw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3MX0.1uvYO4pynYmgJ02Kefr2FUwbht9lxUy-Vo-RE3kqRPw
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel15676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3MX0.1uvYO4pynYmgJ02Kefr2FUwbht9lxUy-Vo-RE3kqRPw
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
createChannelAPI: exit code:: 0 result:: [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel15676] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel15676] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:52:53.584 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:52:53.586 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 07:52:53.587 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-20 07:52:53.587 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15676",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T07:52:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileA2b6En _testchannel15676_
Expect: testchannel15676, got: testchannel15676
setExitCode: 0
[1;32mOK: The channel [testchannel15676] exists and visible to [org1][m[m[m
Step 1_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 2_api Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel15676 org2
[1;35m
Verifing if the [testchannel15676] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:52:54.154 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:52:54.156 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/fileXqe8D3 _null_
Expect: testchannel15676, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh ^^^^^^testchannel15676 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh ^^^^^^testchannel15676 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 3_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh ^^^^^^testchannel15676 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh ^^^^^^testchannel15676 org1
[1;36mCreating [^^^^^^testchannel15676] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3NH0.YIiR3LdWyKJFGCHzovEQ8L2d9xUJzNtZ0PkLzzdb35Y"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3NH0.YIiR3LdWyKJFGCHzovEQ8L2d9xUJzNtZ0PkLzzdb35Y", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3NH0.YIiR3LdWyKJFGCHzovEQ8L2d9xUJzNtZ0PkLzzdb35Y
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel15676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3NH0.YIiR3LdWyKJFGCHzovEQ8L2d9xUJzNtZ0PkLzzdb35Y
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15676\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15676\"", code is 500
createChannelAPI: exit code:: 0 result:: "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel15676\"" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [^^^^^^testchannel15676] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:52:56.262 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:52:56.263 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
cat /tmp/filesCekog _null_
Expect: ^^^^^^testchannel15676, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel15676 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 4_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel15676 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel15676 org1
[1;36mCreating [testchannel15676] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3Nn0.1fZyLNAAg8ezi1-sydcZ4xD1mJlobh90wqY7afLLXb0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3Nn0.1fZyLNAAg8ezi1-sydcZ4xD1mJlobh90wqY7afLLXb0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3Nn0.1fZyLNAAg8ezi1-sydcZ4xD1mJlobh90wqY7afLLXb0
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel15676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3Nn0.1fZyLNAAg8ezi1-sydcZ4xD1mJlobh90wqY7afLLXb0
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
createChannelAPI: exit code:: 0 result:: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel15676] creation run sucsessfuly.[m[m[m
[1;35m
Verifing if the [testchannel15676] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:52:58.308 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:52:58.310 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 07:52:58.311 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-20 07:52:58.311 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15676",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T07:52:52Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/file0UWTMm _testchannel15676_
Expect: testchannel15676, got: testchannel15676
setExitCode: 0
[1;32mOK: The channel [testchannel15676] exists and visible to [org1][m[m[m
Step 4_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel15676 org2 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676 org2;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 5_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel15676 org2 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel15676 org2
[1;36mCreating [testchannel15676] channel in [org2.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3OH0.NvB0pUwXc1s3AaeGOJKkLM8izNSkwmPwbxBrxlIFmN4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3OH0.NvB0pUwXc1s3AaeGOJKkLM8izNSkwmPwbxBrxlIFmN4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3OH0.NvB0pUwXc1s3AaeGOJKkLM8izNSkwmPwbxBrxlIFmN4
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels {"channelId":"testchannel15676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE3OH0.NvB0pUwXc1s3AaeGOJKkLM8izNSkwmPwbxBrxlIFmN4
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
createChannelAPI: exit code:: 0 result:: "Invalid results returned ::FORBIDDEN" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [testchannel15676] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:00.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:00.730 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filepYBqaO _null_
Expect: testchannel15676, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel15676-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-exit-code.sh ;verify_error=$(($run_error | $verify_error | $?)); /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 6_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel15676-02 org2 VERIFY: test-exit-code.sh VERIFY: test-channel-exists.sh testchannel15676-02 org2
[1;36mCreating [testchannel15676-02] channel in [org2.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4MX0.qf_CM6WNVcV97MQOQ4rOcaJVEGZelIViJsYEMH3lDM0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4MX0.qf_CM6WNVcV97MQOQ4rOcaJVEGZelIViJsYEMH3lDM0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4MX0.qf_CM6WNVcV97MQOQ4rOcaJVEGZelIViJsYEMH3lDM0
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels {"channelId":"testchannel15676-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4MX0.qf_CM6WNVcV97MQOQ4rOcaJVEGZelIViJsYEMH3lDM0
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
createChannelAPI: exit code:: 0 result:: [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
setExitCode: 0
[1;32mOK: Channel [testchannel15676-02] creation run sucsessfuly.[m[m[m
[1;35m
Checking exit code...[m[m[m
[1;32mOK: Exit code is OK: (0)[m[m[m
[1;35m
Verifing if the [testchannel15676-02] channel exists in [org2.example.com][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:03.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:03.177 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-04-20 07:53:03.178 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-04-20 07:53:03.178 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15676-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-04-20T07:53:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
cat /tmp/fileKxABri _testchannel15676-02_
Expect: testchannel15676-02, got: testchannel15676-02
setExitCode: 0
[1;32mOK: The channel [testchannel15676-02] exists and visible to [org2][m[m[m
Step 6_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 7_api Test(B[m
[1m[37m---------------------------(B[m
VERIFY_NOT: test-channel-exists.sh testchannel15676-02 org1
[1;35m
Verifing if the [testchannel15676-02] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:03.760 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:03.761 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/file6kPw7Y _null_
Expect: testchannel15676-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./create-channel.sh testchannel15676-02 org1 ;run_error=$?;echo $run_error;verify_error=$((! $run_error | $verify_error));run_error=0;echo $verify_error; NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15676-02 org1;verify_error=$(($run_error | $verify_error | ! $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 8_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: create-channel.sh testchannel15676-02 org1 VERIFY_NON_ZERO_EXIT_CODE: VERIFY_NOT: test-channel-exists.sh testchannel15676-02 org1
[1;36mCreating [testchannel15676-02] channel in [org1.example.com] using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4NH0.S0kE7QO7LS_CDUtT7N6igLg6JqRLrrfA5wW0ckSgirY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4NH0.S0kE7QO7LS_CDUtT7N6igLg6JqRLrrfA5wW0ckSgirY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4NH0.S0kE7QO7LS_CDUtT7N6igLg6JqRLrrfA5wW0ckSgirY
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels {"channelId":"testchannel15676-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4NH0.S0kE7QO7LS_CDUtT7N6igLg6JqRLrrfA5wW0ckSgirY
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
createChannelAPI: exit code:: 0 result:: "Invalid results returned ::FORBIDDEN" 500
setExitCode: 1
[1;31mERROR! Exit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [testchannel15676-02] channel exists in [org1.example.com][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:05.897 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:05.899 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
cat /tmp/filexQ0vob _null_
Expect: testchannel15676-02, got: null
setExitCode: 1
[1;37mExit code in not 0 but 1. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 8_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel15676 org1 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15676 org1 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 9_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel15676 org1 org1 VERIFY: test-channel-add-org.sh testchannel15676 org1 org1
[1;36mAdd [org1] to the [testchannel15676] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel15676] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4Nn0.GjMEhBlfYJzLZ7iIX-F_NuYgx6_IUsKqOejbO_fk3jQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4Nn0.GjMEhBlfYJzLZ7iIX-F_NuYgx6_IUsKqOejbO_fk3jQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4Nn0.GjMEhBlfYJzLZ7iIX-F_NuYgx6_IUsKqOejbO_fk3jQ
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676/orgs {"orgId":"org1","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4Nn0.GjMEhBlfYJzLZ7iIX-F_NuYgx6_IUsKqOejbO_fk3jQ
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org1] added to [testchannel15676] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel15676][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:08.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:08.432 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 07:53:08.433 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 07:53:08.433 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQTR2eEZRaFZnRkJaREd3VDl1N2xrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFK2JSZUZra2F3TUVYeThQbnVnUGR3alNoUUdUd2M0MHMKazFycjMxOUZZcmpqc1gxZmZzQ0loSWUySnJvcVU1dW00Q0pHc2ZyT3Y1TFJOUHZqelY4c1M2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnOFI2QzJBTmcySjZ5ClNUZUZRR0VpbXQ2NFBjKy9sVnR6TWtySjE5Q2NVRzR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUpRZHR1ZUgKTHFrQVlrRllGTHJFOGV4S1d4MFg4MnpQZFJ4RElvRnRuRm1YQWlCZVBzNHBRa3VNN09WYWppUjFZM3NnVmxaawpQazZkM3V1MWNxcXV0WGtNZ3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRQ25XKzIvWG5KRGYxZWlWVEFMbVoxREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSURxZlV5UEY1ci9QWHlvL0Q2V1BpdkpOZEE3M3E4bk1KeUNiQU5CM2JpRTZQNStlcUhQRWdVRFNuNGh6V2FtQwp4NjVhQk9OTXRTeGhhdFhqOHp6MXVhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHgKSG9MWUEyRFluckpKTjRWQVlTS2Ezcmc5ejcrVlczTXlTc25YMEp4UWJqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFFSW9PUk1menQ0bFh4bjc3ZjZJQU9OR1NlQ3JnNTVnSElvN3djSk12ZitRSWdUQ1hQM1YvRHQxdEtzUUVPCjRoYkcvZER2Y3R2MThKOWE5bGtxek1vVUNjVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUxrOXFDTVRwSzFmQlA5c090TzFoM2d3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05ESXdNRGN6TWpBd1doY05NekF3TkRFNE1EY3oKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCT1pKRVhGc1FseGxNUjhUR0JFSjE3c1JzZGR6azEvYUttTHl4cnBiNFBvWTFTQ1lZbmJ6MnhoRwoyYUNuaFYweHVOYTBCYkplVi9PUmMxcEpLc1JEWFFpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd2UFlqUlFhbXNXV3pnN1BhUVZQWWNNS1ppdzJmNnlrMXlKMDBNeEVUdkZRd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLeXc1VUN3RGVLd2dld0ZhMjkyenprWTE4VC80UXB1VmlIRktBS1FPU3RrQ0lEKytmamptCjByZlp2ZUpDRXZobTRWdU9pVi9sSzcxSmoySUQyZG1HMzBqSwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/fileFFvDAN _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel15676][m[m[m
Step 9_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel15676-02 org2 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15676-02 org2 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 10_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel15676-02 org2 org2 VERIFY: test-channel-add-org.sh testchannel15676-02 org2 org2
[1;36mAdd [org2] to the [testchannel15676-02] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel15676-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4OH0.qImZskDpvWOR-_qc-IjXfKhgaZwcnls46a37Q8boTsw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4OH0.qImZskDpvWOR-_qc-IjXfKhgaZwcnls46a37Q8boTsw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4OH0.qImZskDpvWOR-_qc-IjXfKhgaZwcnls46a37Q8boTsw
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel15676-02/orgs {"orgId":"org2","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE4OH0.qImZskDpvWOR-_qc-IjXfKhgaZwcnls46a37Q8boTsw
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel15676-02] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel15676-02][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:10.847 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:10.851 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-04-20 07:53:10.853 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-04-20 07:53:10.853 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUkzQnlOWG4waFE2N0MyUVB6RUQ2U2t3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRJd01EY3pNakF3V2hjTk16QXdOREU0TURjek1qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkk4UFk5QXMzZjl6S1lad052VjVmTFIzb2FqZUxIcSsKZEZMVXpIMUlxTThGREFudTNXcVh6WEdyQkozWjI2N1Z2UFFlcDh6MjA5bngzMlZIUER3bnQzV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU1QMUgrY0JlTWsvCmI0NzRHallXaTNnZkpES2E3SkdSeFBhcmdjZnNxMG1yTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDUlFPMk0KSGxGN093QVRZNFBuaTFvRjdyQmw3a1JkczQrbDhVSWZvRFpzZGdJZ1U3eHVSTUNEZFJUa0EvcjVOZzBNczM5QQpYL0RQQnZRTS9COHdnQ095N2FBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRVlp1UnVPa3Y3dHdGdk1PVVFBUlZTVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKK1FqNDdjOVBlVHRtRmRtNGtMRXloK2xLLzltWEJETEl2T3YvV20rcXo5UllOWkkzd05icUdyY0UyT2duU1E3dApMakpYaU5TZS9kN1JPc0dJbk8zb2RLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDREQKOVIvbkFYakpQMitPK0JvMkZvdDRIeVF5bXV5UmtjVDJxNEhIN0t0SnF6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJNZVJlWndETDVzZFEzRDlkRE5PSXhXVFhRMmpjZUgzNnBTT3M2ZHAyZmRBSWdRVmFIZ05JQzFGUlJlRkVkClAxN3Ivd3NvYXJ5ZG51S1paNTVKV2pqc1MwOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRmttNFMvOWwvY0Y2dkI5cVQ3ZEpWekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1qQXdOek15TURCYUZ3MHpNREEwTVRnd056TXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVqMFYxT0FVeTdOS1pxNWNVTmQvcDgrODV5Z2NUY2FUUkZBVTVLM3ltbVBjUG13d29RTStaVUg0SQo1Z0ZpZmhPMVZBRzdvMkRKQkNHVmdzS045aU9GeUtOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHRGTzYxeUQ2N2ttWEJKVHdTbTVINFJGVk0vcVYwNHl1bXdSbit3K2ZPZ2pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF0NWJqTUQvZzR6dnE2OFMyK0Eyem5xTGFmZWVqQ0tVSUU1Zyt4TEVQMVJFQ0lHV2IwbGVzCkpOc2d0L3JxcHhSaTlyeElRTS9aeDR0RmZZcWZScFczdUIwOAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filexQRuEt _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel15676-02][m[m[m
Step 10_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel15676 org1 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15676 org1 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 11_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel15676 org1 org2 VERIFY: test-channel-add-org.sh testchannel15676 org1 org2
[1;36mAdd [org2] to the [testchannel15676] channel using API[m[m[m
[1;36mAdd [org2] to the [testchannel15676] channel using API[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5MX0.UyO7MjeL7ChpqvkEN-QZ_2w064jjB6y3o7BYoYRpfq0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5MX0.UyO7MjeL7ChpqvkEN-QZ_2w064jjB6y3o7BYoYRpfq0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5MX0.UyO7MjeL7ChpqvkEN-QZ_2w064jjB6y3o7BYoYRpfq0
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676/orgs {"orgId":"org2","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5MX0.UyO7MjeL7ChpqvkEN-QZ_2w064jjB6y3o7BYoYRpfq0
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org2] added to [testchannel15676] channel[m[m[m
[1;35m
Verifing if the [org2] added to [testchannel15676][m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:13.336 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:13.338 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-20 07:53:13.339 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-20 07:53:13.339 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUkzQnlOWG4waFE2N0MyUVB6RUQ2U2t3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TkRJd01EY3pNakF3V2hjTk16QXdOREU0TURjek1qQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkk4UFk5QXMzZjl6S1lad052VjVmTFIzb2FqZUxIcSsKZEZMVXpIMUlxTThGREFudTNXcVh6WEdyQkozWjI2N1Z2UFFlcDh6MjA5bngzMlZIUER3bnQzV2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU1QMUgrY0JlTWsvCmI0NzRHallXaTNnZkpES2E3SkdSeFBhcmdjZnNxMG1yTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDUlFPMk0KSGxGN093QVRZNFBuaTFvRjdyQmw3a1JkczQrbDhVSWZvRFpzZGdJZ1U3eHVSTUNEZFJUa0EvcjVOZzBNczM5QQpYL0RQQnZRTS9COHdnQ095N2FBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRVlp1UnVPa3Y3dHdGdk1PVVFBUlZTVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKK1FqNDdjOVBlVHRtRmRtNGtMRXloK2xLLzltWEJETEl2T3YvV20rcXo5UllOWkkzd05icUdyY0UyT2duU1E3dApMakpYaU5TZS9kN1JPc0dJbk8zb2RLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDREQKOVIvbkFYakpQMitPK0JvMkZvdDRIeVF5bXV5UmtjVDJxNEhIN0t0SnF6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJNZVJlWndETDVzZFEzRDlkRE5PSXhXVFhRMmpjZUgzNnBTT3M2ZHAyZmRBSWdRVmFIZ05JQzFGUlJlRkVkClAxN3Ivd3NvYXJ5ZG51S1paNTVKV2pqc1MwOD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRmttNFMvOWwvY0Y2dkI5cVQ3ZEpWekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBME1qQXdOek15TURCYUZ3MHpNREEwTVRnd056TXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVqMFYxT0FVeTdOS1pxNWNVTmQvcDgrODV5Z2NUY2FUUkZBVTVLM3ltbVBjUG13d29RTStaVUg0SQo1Z0ZpZmhPMVZBRzdvMkRKQkNHVmdzS045aU9GeUtOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHRGTzYxeUQ2N2ttWEJKVHdTbTVINFJGVk0vcVYwNHl1bXdSbit3K2ZPZ2pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF0NWJqTUQvZzR6dnE2OFMyK0Eyem5xTGFmZWVqQ0tVSUU1Zyt4TEVQMVJFQ0lHV2IwbGVzCkpOc2d0L3JxcHhSaTlyeElRTS9aeDR0RmZZcWZScFczdUIwOAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filemR7CJ7 _org2_
org2
setExitCode: 0
[1;32mOK: Organization [org2] is in the channel [testchannel15676][m[m[m
Step 11_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./add-org-to-channel.sh testchannel15676-02 org2 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15676-02 org2 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 12_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: add-org-to-channel.sh testchannel15676-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel15676-02 org2 org1
[1;36mAdd [org1] to the [testchannel15676-02] channel using API[m[m[m
[1;36mAdd [org1] to the [testchannel15676-02] channel using API[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5M30.T6k2H7AvlVxVxxfiCwCD__hvf0DwjfvNvXy8Hsu34MU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5M30.T6k2H7AvlVxVxxfiCwCD__hvf0DwjfvNvXy8Hsu34MU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5M30.T6k2H7AvlVxVxxfiCwCD__hvf0DwjfvNvXy8Hsu34MU
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel15676-02/orgs {"orgId":"org1","orgIp":"","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5M30.T6k2H7AvlVxVxxfiCwCD__hvf0DwjfvNvXy8Hsu34MU
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ 200 _ result
body is empty (set to {"empty":"true"}), code is 200
setExitCode: 0
[1;32mOK: Organization [org1] added to [testchannel15676-02] channel[m[m[m
[1;35m
Verifing if the [org1] added to [testchannel15676-02][m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:15.886 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-04-20 07:53:15.888 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-04-20 07:53:15.888 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-04-20 07:53:15.888 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRQTR2eEZRaFZnRkJaREd3VDl1N2xrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFK2JSZUZra2F3TUVYeThQbnVnUGR3alNoUUdUd2M0MHMKazFycjMxOUZZcmpqc1gxZmZzQ0loSWUySnJvcVU1dW00Q0pHc2ZyT3Y1TFJOUHZqelY4c1M2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnOFI2QzJBTmcySjZ5ClNUZUZRR0VpbXQ2NFBjKy9sVnR6TWtySjE5Q2NVRzR3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUpRZHR1ZUgKTHFrQVlrRllGTHJFOGV4S1d4MFg4MnpQZFJ4RElvRnRuRm1YQWlCZVBzNHBRa3VNN09WYWppUjFZM3NnVmxaawpQazZkM3V1MWNxcXV0WGtNZ3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRQ25XKzIvWG5KRGYxZWlWVEFMbVoxREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREEwTWpBd056TXlNREJhRncwek1EQTBNVGd3TnpNeU1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSURxZlV5UEY1ci9QWHlvL0Q2V1BpdkpOZEE3M3E4bk1KeUNiQU5CM2JpRTZQNStlcUhQRWdVRFNuNGh6V2FtQwp4NjVhQk9OTXRTeGhhdFhqOHp6MXVhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHgKSG9MWUEyRFluckpKTjRWQVlTS2Ezcmc5ejcrVlczTXlTc25YMEp4UWJqQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUFFSW9PUk1menQ0bFh4bjc3ZjZJQU9OR1NlQ3JnNTVnSElvN3djSk12ZitRSWdUQ1hQM1YvRHQxdEtzUUVPCjRoYkcvZER2Y3R2MThKOWE5bGtxek1vVUNjVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUxrOXFDTVRwSzFmQlA5c090TzFoM2d3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd05ESXdNRGN6TWpBd1doY05NekF3TkRFNE1EY3oKTWpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCT1pKRVhGc1FseGxNUjhUR0JFSjE3c1JzZGR6azEvYUttTHl4cnBiNFBvWTFTQ1lZbmJ6MnhoRwoyYUNuaFYweHVOYTBCYkplVi9PUmMxcEpLc1JEWFFpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd2UFlqUlFhbXNXV3pnN1BhUVZQWWNNS1ppdzJmNnlrMXlKMDBNeEVUdkZRd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdLeXc1VUN3RGVLd2dld0ZhMjkyenprWTE4VC80UXB1VmlIRktBS1FPU3RrQ0lEKytmamptCjByZlp2ZUpDRXZobTRWdU9pVi9sSzcxSmoySUQyZG1HMzBqSwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
cat /tmp/filea6DAlH _org1_
org1
setExitCode: 0
[1;32mOK: Organization [org1] is in the channel [testchannel15676-02][m[m[m
Step 12_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel15676 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15676 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 13_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel15676 org1 VERIFY: test-join-channel.sh testchannel15676 org1
[1;36mJoining org1.example.com to the [testchannel15676] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel15676] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5Nn0.oP99ykD2zNpIUx2_DmgtHWhfaLJGFMN5PBz7nt_Hqsw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5Nn0.oP99ykD2zNpIUx2_DmgtHWhfaLJGFMN5PBz7nt_Hqsw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5Nn0.oP99ykD2zNpIUx2_DmgtHWhfaLJGFMN5PBz7nt_Hqsw
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5Nn0.oP99ykD2zNpIUx2_DmgtHWhfaLJGFMN5PBz7nt_Hqsw
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel15676] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:17.307 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org1 has joined to: Channels peers has joined: 
testchannel13405
testchannel13405-02
testchannel15676
common
Result: testchannel15676
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel15676] channel[m[m[m
Step 13_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel15676 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15676 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 14_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel15676 org2 VERIFY: test-join-channel.sh testchannel15676 org2
[1;36mJoining org2.example.com to the [testchannel15676] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel15676] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5N30.aWNOTLLexQxVt8_gbR33gpvIH7LHDPw6phBYQub65WM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5N30.aWNOTLLexQxVt8_gbR33gpvIH7LHDPw6phBYQub65WM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5N30.aWNOTLLexQxVt8_gbR33gpvIH7LHDPw6phBYQub65WM
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel15676 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTE5N30.aWNOTLLexQxVt8_gbR33gpvIH7LHDPw6phBYQub65WM
[31mcurlRequest: (curl exit code: 28) (B[m
curlGetIt got _ 000 _ result
body is empty (set to {"empty":"true"}), code is 000
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel15676] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:33.389 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org2 has joined to: Channels peers has joined: 
testchannel13405-02
testchannel15676-02
testchannel15676
common
testchannel13405
Result: testchannel15676
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel15676] channel[m[m[m
Step 14_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel15676-02 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15676-02 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 15_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel15676-02 org1 VERIFY: test-join-channel.sh testchannel15676-02 org1
[1;36mJoining org1.example.com to the [testchannel15676-02] channel using API...[m[m[m
[1;36mJoining org1.example.com to the [testchannel15676-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIxM30.bLdSuH3wrag5oHeT0f7mx9s_qonFpfooLAHg4lIQrC4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIxM30.bLdSuH3wrag5oHeT0f7mx9s_qonFpfooLAHg4lIQrC4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIxM30.bLdSuH3wrag5oHeT0f7mx9s_qonFpfooLAHg4lIQrC4
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIxM30.bLdSuH3wrag5oHeT0f7mx9s_qonFpfooLAHg4lIQrC4
[31mcurlRequest: (curl exit code: 28) (B[m
curlGetIt got _ 000 _ result
body is empty (set to {"empty":"true"}), code is 000
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org1] has joined the [testchannel15676-02] channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-04-20 07:53:49.430 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org1 has joined to: Channels peers has joined: 
common
testchannel13405
testchannel13405-02
testchannel15676
testchannel15676-02
Result: testchannel15676-02
setExitCode: 0
[1;32mOK: The [org1] has joined the [testchannel15676-02] channel[m[m[m
Step 15_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./join-channel.sh testchannel15676-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15676-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 16_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: join-channel.sh testchannel15676-02 org2 VERIFY: test-join-channel.sh testchannel15676-02 org2
[1;36mJoining org2.example.com to the [testchannel15676-02] channel using API...[m[m[m
[1;36mJoining org2.example.com to the [testchannel15676-02] channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIyOX0.XsQpRdxSSwzVhomSX_J2eYBdOzxN3ancsSkvV4pkkt4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIyOX0.XsQpRdxSSwzVhomSX_J2eYBdOzxN3ancsSkvV4pkkt4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIyOX0.XsQpRdxSSwzVhomSX_J2eYBdOzxN3ancsSkvV4pkkt4
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/channels/testchannel15676-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIyOX0.XsQpRdxSSwzVhomSX_J2eYBdOzxN3ancsSkvV4pkkt4
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
setExitCode: 2
[1;31mERROR! Exit code in not 0 but 2. See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;35m
Verifing if the [org2] has joined the [testchannel15676-02] channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-04-20 07:53:50.777 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Channels org2 has joined to: Channels peers has joined: 
common
testchannel13405
testchannel13405-02
testchannel15676-02
testchannel15676
Result: testchannel15676-02
setExitCode: 0
[1;32mOK: The [org2] has joined the [testchannel15676-02] channel[m[m[m
Step 16_api: exit code 1
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel15676 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel15676 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 17_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel15676 org1 VERIFY: test-chaincode-installed.sh testchannel15676 org1
[1;36m
Installing test chaincode in [org1][m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzMX0.Ghuva3e85T38iUHTU3NZU15D8dUYraMgZTa8Xb2gWtk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzMX0.Ghuva3e85T38iUHTU3NZU15D8dUYraMgZTa8Xb2gWtk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzMX0.Ghuva3e85T38iUHTU3NZU15D8dUYraMgZTa8Xb2gWtk
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel15676/chaincode-reference.js (deflated 27%)
adding: reference_testchannel15676/index.js (deflated 27%)
adding: reference_testchannel15676/package.json (deflated 41%)
adding: reference_testchannel15676/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 апр 20 10:53 /tmp/reference_testchannel15676.zip
/tmp/reference_testchannel15676.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel15676:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org1][m[m[m
[1;35m
Verifing if the test chaincode installed in [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel15676' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13405, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405, Id: 76c65256c4c297541cffcaef83e785ccc318d9bd2dcfea35063723b872bc543d
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Id: aa58d566887e37b499b2bfb43c9416e4102c8a095644e0cf4627a2150ca83f44
setExitCode: 0
reference_testchannel15676
setExitCode: 0
[1;32mOK: The test chaincode installed in [org1][m[m[m
Step 17_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel15676 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel15676 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 18_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel15676 org2 VERIFY: test-chaincode-installed.sh testchannel15676 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzNH0.gg6ZkFSR5B3MppTEII4pEGecuscei-TpktIwjXYpnGg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzNH0.gg6ZkFSR5B3MppTEII4pEGecuscei-TpktIwjXYpnGg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzNH0.gg6ZkFSR5B3MppTEII4pEGecuscei-TpktIwjXYpnGg
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
updating: reference_testchannel15676/chaincode-reference.js (deflated 27%)
updating: reference_testchannel15676/index.js (deflated 27%)
updating: reference_testchannel15676/package.json (deflated 41%)
updating: reference_testchannel15676/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 апр 20 10:53 /tmp/reference_testchannel15676.zip
/tmp/reference_testchannel15676.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel15676:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org2][m[m[m
[1;35m
Verifing if the test chaincode installed in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel15676' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13405-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405-02, Id: 74dc8f8b9ed0974c6b6f88f930bc784c79aee28ef8f81c6cb119fb70f5ecc723
Name: reference_testchannel13405, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405, Id: 76c65256c4c297541cffcaef83e785ccc318d9bd2dcfea35063723b872bc543d
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Id: aa58d566887e37b499b2bfb43c9416e4102c8a095644e0cf4627a2150ca83f44
setExitCode: 0
reference_testchannel15676
setExitCode: 0
[1;32mOK: The test chaincode installed in [org2][m[m[m
Step 18_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-install.sh testchannel15676-02 org2 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel15676-02 org2;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 19_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-install.sh testchannel15676-02 org2 VERIFY: test-chaincode-installed.sh testchannel15676-02 org2
[1;36m
Installing test chaincode in [org2][m[m[m
queryContainerNetworkSettings returns: 4001
restQuery: curlRequest http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzOH0.sS49Dz0EfM4ffpmDVHJl7Wv3RJ9UW8gVyEpt9rmb0QU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzOH0.sS49Dz0EfM4ffpmDVHJl7Wv3RJ9UW8gVyEpt9rmb0QU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTIzOH0.sS49Dz0EfM4ffpmDVHJl7Wv3RJ9UW8gVyEpt9rmb0QU
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel15676-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel15676-02/index.js (deflated 27%)
adding: reference_testchannel15676-02/package.json (deflated 41%)
adding: reference_testchannel15676-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 апр 20 10:53 /tmp/reference_testchannel15676-02.zip
/tmp/reference_testchannel15676-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel15676-02:1.0 successfully installed""
setExitCode: 0
[1;32mOK: Test chaincode installed in [org2][m[m[m
[1;35m
Verifing if the test chaincode installed in [org2][m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel15676-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13405-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405-02, Id: 74dc8f8b9ed0974c6b6f88f930bc784c79aee28ef8f81c6cb119fb70f5ecc723
Name: reference_testchannel13405, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13405, Id: 76c65256c4c297541cffcaef83e785ccc318d9bd2dcfea35063723b872bc543d
Name: reference_testchannel15676-02, Version: 1.0, Path: /tmp/reference_testchannel15676-02, Id: b1b72b3023f3c56b7648445bef9b6a9058af7fb4da03c9dcf50ea1bb1557cf73
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Id: aa58d566887e37b499b2bfb43c9416e4102c8a095644e0cf4627a2150ca83f44
setExitCode: 0
reference_testchannel15676-02
setExitCode: 0
[1;32mOK: The test chaincode installed in [org2][m[m[m
Step 19_api: exit code 0
run_error=0;verify_error=0; NO_RED_OUTPUT=false ./chaincode-instantiate.sh testchannel15676 org1 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel15676 org1;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 20_api Test(B[m
[1m[37m---------------------------(B[m
RUNTEST: chaincode-instantiate.sh testchannel15676 org1 VERIFY: test-chaincode-instantiated.sh testchannel15676 org1
[1;36m
Instantiating test chaincode in [org1][m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI0MX0.3lKkpeqMIFTxnr2FD8ApK6E6dQErMOncZnCidGBxEx8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI0MX0.3lKkpeqMIFTxnr2FD8ApK6E6dQErMOncZnCidGBxEx8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI0MX0.3lKkpeqMIFTxnr2FD8ApK6E6dQErMOncZnCidGBxEx8
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676/chaincodes {"channelId":"testchannel15676","chaincodeId":"reference_testchannel15676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI0MX0.3lKkpeqMIFTxnr2FD8ApK6E6dQErMOncZnCidGBxEx8 150
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ {"txid":"0c2eaea1ee69e94bceaee239b39e95f22514f51a11a41daf216eb5b4a6141b0b","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"0c2eaea1ee69e94bceaee239b39e95f22514f51a11a41daf216eb5b4a6141b0b","status":"VALID","blockNumber":"3"}, code is 200
setExitCode: 0
[1;32mOK: Test chaincode installed in [org1][m[m[m
[1;35m
Verifing if the test chaincode instantiated in channel [testchannel15676] channel by [org1][m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel15676' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel15676:
Name: reference_testchannel15676, Version: 1.0, Path: /tmp/reference_testchannel15676, Input: <nil>, Escc: escc, Vscc: vscc
setExitCode: 0
reference_testchannel15676
setExitCode: 0
[1;32mOK: The test chaincode installed in [testchannel15676] channel by [org1] org[m[m[m
Step 20_api: exit code 0
run_error=0;verify_error=0;sleep 15 ; NO_RED_OUTPUT=false ./chaincode-invoke.sh testchannel15676 org1 reference_testchannel15676 ;run_error=$?;echo $run_error; NO_RED_OUTPUT=false ./chaincode-query.sh testchannel15676 org2 reference_testchannel15676 ;run_error=$?;echo $run_error; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-exit-code.sh;verify_error=$(($run_error | $verify_error | $?));echo ${verify_error};[[ $verify_error = "0" ]]
[1m[37m---------------------------(B[m
[1m[37mStep: 21_api Test(B[m
[1m[37m---------------------------(B[m
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel15676 org1 reference_testchannel15676 RUNTEST: chaincode-query.sh testchannel15676 org2 reference_testchannel15676 VERIFY: test-exit-code.sh
[1;36m
Invoke test chaincode on the [testchannel15676] channel'[m[m[m
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI4OH0.EJp3EH2v7DpX7ZrbJdw0G8orLEoQFC0XhRyG4VVgios"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI4OH0.EJp3EH2v7DpX7ZrbJdw0G8orLEoQFC0XhRyG4VVgios", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI4OH0.EJp3EH2v7DpX7ZrbJdw0G8orLEoQFC0XhRyG4VVgios
setExitCode: 0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
restQuery: curlRequest http://127.0.0.1:4000/channels/testchannel15676/chaincodes/reference_testchannel15676 {"fcn":"put","args":["testchannel15676","testchannel15676"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NzM2OTI4OH0.EJp3EH2v7DpX7ZrbJdw0G8orLEoQFC0XhRyG4VVgios
[31mcurlRequest: (curl exit code: 0) (B[m
curlGetIt got _ {"txid":"e501b763bc8a174523b780d70608dc5b2200474ebfd4eebad6b32bda1c3128c4","status":"VALID","blockNumber":"4"}200 _ result
body is {"txid":"e501b763bc8a174523b780d70608dc5b2200474ebfd4eebad6b32bda1c3128c4","status":"VALID","blockNumber":"4"}, code is 200
setExitCode: 0
[1;32mOK: Chaincode [reference_testchannel15676] invoked sucsessfuly[m[m[m
[1;36m
Query test chaincode on the [testchannel15676] channel'[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./chaincode-query.sh testchannel15676 reference_testchannel15676 '["range","testchannel15676"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel15676 reference_testchannel15676 '["range","testchannel15676"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org2.example.com:8051 peer chaincode query -n reference_testchannel15676 -C testchannel15676 -c '{"Args":["range","testchannel15676"]}'
[{"key":"testchannel15676","value":"testchannel15676"}]
setExitCode: 0
[1;32mOK: Chaincode [reference_testchannel15676] invoked sucsessfuly[m[m[m
[1;35m
Checking exit code...[m[m[m
[1;32mOK: Exit code is OK: (0)[m[m[m
Step 21_api: exit code 0
