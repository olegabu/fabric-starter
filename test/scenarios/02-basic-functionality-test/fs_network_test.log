NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32360 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32360 sberbank VERIFY: test-channel-exists.sh testchannel32360 sberbank
[1;36m
Creating the <testchannel32360> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360[m[m[m
test.network

Create channel sberbank testchannel32360
--2020-03-20 10:23:17--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:17--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:17.875 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:18.000 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:18.137 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:18.138 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:18.139 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:18.140 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:18.142 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:18.143 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:18.144 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:18.145 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:18.374 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:18.482 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:18.636 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:18.640 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:23:18.641 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-20 10:23:18.642 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel32360
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:19.455 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:19.475 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32360> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32360> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:22.272 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:22.275 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:23:22.277 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:23:22.277 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32360",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-20T10:23:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32360> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360 vtb
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32360 vtb
[1;34m
Verifing if the <testchannel32360> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:23.972 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:23.978 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360> does not exist and in not visible to vtb[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32360 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32360 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32360 sberbank
[1;36m
Creating the <^^^^^^testchannel32360> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32360[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel32360
--2020-03-20 10:23:29--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:29--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:29.331 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:29.465 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:29.467 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:29.583 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:29.584 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:29.584 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:29.585 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:29.586 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:29.771 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel32360' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32360.pb -o orderer.test.network:7050 -c ^^^^^^testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:29.965 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:29.974 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32360.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32360.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel32360
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:30.425 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel32360' != '^^^^^^testchannel32360'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32360> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:33.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:33.087 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel32360> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360 vtb
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32360 vtb VERIFY: test-channel-does-not-exist.sh testchannel32360 vtb
[1;36m
Creating the <testchannel32360> channel for vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360[m[m[m
test.network

Create channel vtb testchannel32360
--2020-03-20 10:23:38--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:38--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:38.578 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:38.717 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:38.718 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:38.826 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:38.827 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:38.830 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:38.831 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-03-20 10:23:38.831 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:38.953 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:39.127 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:39.135 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32360.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32360.json: No such file or directory
>> Prepare config update from vtb for channel testchannel32360
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:39.539 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32360> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:41.899 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:41.904 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360> does not exist and in not visible to vtb[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32360-02 vtb
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32360-02 vtb VERIFY: test-channel-exists.sh testchannel32360-02 vtb
[1;36m
Creating the <testchannel32360-02> channel for vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360-02[m[m[m
test.network

Create channel vtb testchannel32360-02
--2020-03-20 10:23:46--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:46--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:46--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:47--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:47.104 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:47.253 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:47.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:47.373 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:47.374 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:47.375 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:47.376 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group vtb in configtx.yaml
[34m2020-03-20 10:23:47.376 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:47.517 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:47.621 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:47.775 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:47.783 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:23:47.785 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-20 10:23:47.786 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from vtb for channel testchannel32360-02
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:48.658 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:48.677 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel32360-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32360-02> channel exists in vtb.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:23:51.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:51.861 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:23:51.863 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:23:51.863 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel32360-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-20T10:23:48Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32360-02> exists and visible to vtb[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32360-02 sberbank
[1;34m
Verifing if the <testchannel32360-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:23:53.913 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:53.915 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32360-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32360-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32360-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32360-02 sberbank
[1;36m
Creating the <testchannel32360-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32360-02[m[m[m
test.network

Create channel sberbank testchannel32360-02
--2020-03-20 10:23:59--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:23:59--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-20 10:23:59.234 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-20 10:23:59.363 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-20 10:23:59.364 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-20 10:23:59.365 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-20 10:23:59.482 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:59.483 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:59.483 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-20 10:23:59.484 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-20 10:23:59.485 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-20 10:23:59.485 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-20 10:23:59.625 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:23:59.825 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:23:59.827 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel32360-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32360-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel32360-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:00.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32360-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:03.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:03.448 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel32360-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32360 sberbank vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32360 sberbank vtb
Step: 8_cli Test 'Add <vtb> to channel <testchannel32360> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32360 sberbank vtb VERIFY: test-channel-add-org.sh testchannel32360 sberbank vtb
[1;36m
Add vtb to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel32360 vtb
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32360 vtb 7051 test.network[m[m[m
--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/admincerts/Admin@vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/admincerts/Admin@vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/cacerts/ca.vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/cacerts/ca.vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:08--  http://www.vtb.test.network/msp/tlscacerts/tlsca.vtb.test.network-cert.pem
Resolving www.vtb.test.network (www.vtb.test.network)... 172.19.0.13
Connecting to www.vtb.test.network (www.vtb.test.network)|172.19.0.13|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/vtb.test.network/msp/tlscacerts/tlsca.vtb.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'vtb' to channel testchannel32360, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:09.169 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:09.174 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:24:09.177 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:24:09.177 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from vtb for channel testchannel32360
>> vtb is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:10.084 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:10.117 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization vtb added to testchannel32360 channel[m[m[m
[1;34m
Verifing if the <vtb> added to testchannel32360 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:12.855 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:12.860 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-20 10:24:12.861 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-20 10:24:12.862 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRZUhEalYvKzN2OUJVRC9SZ1ZuSUsvVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFkblJpTG5SbGMzUXVibVYwZDI5eWF6RWNNQm9HQTFVRUF4TVRZMkV1CmRuUmlMblJsYzNRdWJtVjBkMjl5YXpBZUZ3MHlNREF6TVRrd09ESXhNREJhRncwek1EQXpNVGN3T0RJeE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0IyZEdJdWRHVnpkQzV1WlhSM2IzSnJNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFeGxYL3JKaytYNnJMbll1L3NvNWI4aEJ0T2xBL21WZjEKUnl1Tnl2N2YxSjFYNmZZL1p3Mm9ESlFpdTdwUXo0L25ZSUM1SFpuZ1ZMQ3R6MEFLck5PZU5LTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnanZpOE9HeHZwd2F3Ci9OcjBCeEJyam14UFcyMlVnS1NuU216d1RoQVplMnN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRE4zZ2lydmcKcVRRa1RzNngwZ0ZXY2dubzNwNHVQQ0J4YlNNQnRNNzYxZHdDSUhPOHljZ0ZjN1d1MDRxeXhZY01PUDNkOVp2RQpkNlNDbjgydXRBTGQvVkF4Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "vtb",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQU9FUWROWFdPa2laamlHUnZXOVhDc1F3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFSFowWWk1MFpYTjBMbTVsZEhkdmNtc3hIREFhQmdOVkJBTVRFMk5oCkxuWjBZaTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXdNekUzTURneU1UQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWRuUmlMblJsYzNRdWJtVjBkMjl5YXpFY01Cb0dBMVVFCkF4TVRZMkV1ZG5SaUxuUmxjM1F1Ym1WMGQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkE2SXJVNG00ajBuOXJjL1JHclNKdWh5S1gybW1wRkpXNFRoM2l1QWNGUjZnekNEbTVCNkJpRW41ZVQ4cGdsZgpOZnQxM1hGc2NERmZqVGxsaDl6TUJHYWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKanZpOE9HeHZwd2F3L05yMEJ4QnJqbXhQVzIyVWdLU25TbXp3VGhBWmUyc3dDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQVBpbFVTMVpSTnROZzkxRDlrcXJ4ZmRDNWYyZDhJQ2VlRXF0VkI0TW1ydXRBaUJrd05WTVFpbDJYY3ZjCjJ1WnI0aUxCS0pKQkdOUlFhMnozMk5tRnFKcHRiUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQUlKRmpTd3NFdk5mR0c5eE1wRGw2Ymt3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFSFowWWk1MFpYTjBMbTVsZEhkdmNtc3hIekFkQmdOVkJBTVRGblJzCmMyTmhMblowWWk1MFpYTjBMbTVsZEhkdmNtc3dIaGNOTWpBd016RTVNRGd5TVRBd1doY05NekF3TXpFM01EZ3kKTVRBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFkblJpTG5SbGMzUXVibVYwZDI5eWF6RWZNQjBHCkExVUVBeE1XZEd4elkyRXVkblJpTG5SbGMzUXVibVYwZDI5eWF6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSDhiRzNualJDaFArV2RPSmxISDRoTkovcGsrTWp2TnRMd2g3SzM2L2dOcHlLWU9haUhKcEdoWApnSW84cXJ2SDdEd3JZbUwvR21FMHVkNUlZV0hzV0EyamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdpQjZadmR1dzQwSDNZQUtlV0w1QjlYY0dtcjJqYnlPWlJ4VCtmVmJrM0Uwd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdhc1hEb1hKMm5xS1VhWWUzQ1dIaDlNaXhIVENaR0ZUMXFZR3lEVWpnRG0wQ0lHK0hDb1hkCmd2ZmZwRys2R1VTditQMVNkOUVmbG0rWTY4TFpDZXRRUUxTagotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
vtb
[1;32mOK: Organization <vtb> is in the channel <testchannel32360>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel32360-02 vtb sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32360-02 vtb sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel32360-02> created by the <vtb> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32360-02 vtb sberbank VERIFY: test-channel-add-org.sh testchannel32360-02 vtb sberbank
[1;36m
Add sberbank to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel32360-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel32360-02 sberbank 7051 test.network[m[m[m
--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:18--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.9
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.9|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel32360-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:18.896 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:18.902 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-20 10:24:18.903 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-20 10:24:18.904 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel32360-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32360-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:19.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:19.849 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel32360-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:22.721 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:22.724 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-20 10:24:22.726 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-20 10:24:22.726 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRVUVJM0N0dlRwSDQ4cUxtWVM1RkRuVEFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXcKTXpFM01EZ3lNVEF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUViRUI0eExTRDZ3M1kKUVJ5eUZjUHFaMjdVZytjeTFTSE5CcFRmTzIyRTdJMmxuSFVkR2hJZmhFQWl2OEFUcUxZMzZBMG4wcU93V25HMAordjVteUdKcFhhTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FndlMydVpXUjZtaFNMcG1PZ3RoeTRzUXNQR0xNcUhuYXdHbCtrYWIzcFJ2Z3dDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnRjJFcEFGYW9KUHVqajhvVTRDeUJiWmNjdUora2w5NzhOTWkrblpLODRBb0NJR2JxYmM2cgoxanNnN2NDUTE1YURmMnVseW9KNDQ2TENvdFdNYWhJRjAvYnYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaRENDQWd1Z0F3SUJBZ0lRUjMybjJTNnpjMG1USXJyajJMUFBJekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpFNU1EZ3lNVEF3V2hjTk16QXcKTXpFM01EZ3lNVEF3V2pCOU1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFZU1Cd0dBMVVFQ2hNVmMySmxjbUpoYm1zdWRHVnpkQzV1ClpYUjNiM0pyTVNFd0h3WURWUVFERXhoallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHZjbXN3V1RBVEJnY3EKaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFSaTVjWTluYUYxZmZYUERxNnA4a01IdjdOSDhybUhuaXErc001UQoyZ0xONlpzY1hvM1E4QXFZaE1ObUQ5RTByVjZ5d1J6Q0RlYisxVDhWSDBHUVM4NzNvMjB3YXpBT0JnTlZIUThCCkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUJNQThHQTFVZEV3RUIKL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUwwdHJtVmtlcG9VaTZaam9MWWN1TEVMRHhpektoNTJzQnBmcEdtOQo2VWI0TUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUhVZmVqa2E4V09CZGVWS0VvYzhEdURQOFVqSjRrRWY1ckdCCjFyWUhidFM0QWlCMzFmS1Z0UEdkZ2RvTFduc3FmWTN4RDd4a1VLOVB5L3M4bDk2QnZMMjBVZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhPZ0F3SUJBZ0lRVk82STRoKzMzaWtzOHNvUTJteHJiVEFLQmdncWhrak9QUVFEQWpDQmdERUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFa01DSUdBMVVFCkF4TWJkR3h6WTJFdWMySmxjbUpoYm1zdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXhPVEE0TWpFd01Gb1gKRFRNd01ETXhOekE0TWpFd01Gb3dnWUF4Q3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eQpibWxoTVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwClpYTjBMbTVsZEhkdmNtc3hKREFpQmdOVkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXkKYXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkpoVGlIcit2a2VmamI1Sk02SHJKVEg5WWlvbgpBTWVJOG5pMTdzNXB3NVhOTHhQcTJMaWtMS0oyalVKSHZ5ZENYNDBpeWxUSHp6Y09hS1VqeGcwWlh0S2piVEJyCk1BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFwQmdOVkhRNEVJZ1FnV2RneW55TGFNNTlDM2lIc1c4WkRhZFF5eHQyTgo3bWkwQlZuV0xXcFVuTG93Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUt0N1BaSFo3ZXQ1Z2Y1bC8zYjdJRlJBCjdRVDBWc0RJZW5palFNeWxxbXRpQWlCbHJtcDVUdUhuNjlza1ZNSmR0bm9nWndwQXh5SUxYdG5ZUFdodGhlZVEKdUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel32360-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel32360> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360 sberbank VERIFY: test-join-channel.sh testchannel32360 sberbank
[1;36m
Joining  sberbank to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c9782c843a7b
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:27--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:27--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel32360
Execute: channel fetch 0 crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:28.078 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:28.081 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:28.270 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:28.523 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel32360 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32360> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:31.310 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32360> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360 vtb
Step: 11_cli Test 'Join <vtb> to the <testchannel32360> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360 vtb VERIFY: test-join-channel.sh testchannel32360 vtb
[1;36m
Joining  vtb to the testchannel32360 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel32360
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=47db27359ba8
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:36--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:36--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join vtb to channel testchannel32360
Execute: channel fetch 0 crypto-config/configtx/testchannel32360.pb -o orderer.test.network:7050 -c testchannel32360 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:36.732 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:36.736 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:36.879 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:37.063 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization vtb has been joined to testchannel32360 channel[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel32360> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:39.894 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel32360> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel32360-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360-02 sberbank VERIFY: test-join-channel.sh testchannel32360-02 sberbank
[1;36m
Joining  sberbank to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=d2c4b7f8fffd
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:45--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:45--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel32360-02
Execute: channel fetch 0 crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:45.422 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:45.428 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:45.663 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:45.842 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel32360-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-20 10:24:49.105 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel32360-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32360-02 vtb
Step: 13_cli Test 'Join <vtb> to the <testchannel32360-02> chanel created by the <vtb> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32360-02 vtb VERIFY: test-join-channel.sh testchannel32360-02 vtb
[1;36m
Joining  vtb to the testchannel32360-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel32360-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel32360-02[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=14ec81e700c0
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-20 10:24:54--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-20 10:24:54--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.4
Connecting to www.test.network (www.test.network)|172.19.0.4|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join vtb to channel testchannel32360-02
Execute: channel fetch 0 crypto-config/configtx/testchannel32360-02.pb -o orderer.test.network:7050 -c testchannel32360-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-20 10:24:54.650 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:54.655 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-20 10:24:54.794 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-20 10:24:54.976 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization vtb has been joined to testchannel32360-02 channel[m[m[m
[1;34m
Verifing if the vtb has joined the <testchannel32360-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-20 10:24:58.453 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The vtb has joined the <testchannel32360-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32360 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel32360> channel'
RUNTEST: chaincode-install.sh testchannel32360 sberbank VERIFY: test-chaincode-installed.sh testchannel32360 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32360 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel32360[m[m[m
[1;36m
Installing testchannel32360  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel32360'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=aac798a67f78
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel32360  /opt/chaincode/node/reference_testchannel32360 node 1.0
[34m2020-03-20 10:25:08.662 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:08.662 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-20 10:25:08.868 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32360' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel32360, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360, Id: 9a6d4aff8fc104da7078eb1d046400d20ed019983752256eab5ccf57d3941d4a
reference_testchannel32360
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel32360-02 vtb ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel32360-02 vtb
Step: 15_cli Test 'Install test chaincode by <vtb> to the <testchannel32360-02> channel'
RUNTEST: chaincode-install.sh testchannel32360-02 vtb VERIFY: test-chaincode-installed.sh testchannel32360-02 vtb
[1;36m
Installing test chaincode in vtb...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in vtb...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel32360-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel32360-02[m[m[m
[1;36m
Installing testchannel32360-02  chaincode in vtb...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel32360-02'[m[m[m
CORE_PEER_ADDRESS=peer0.vtb.test.network:8051
CORE_PEER_LOCALMSPID=vtb
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/users/Admin@vtb.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/vtb.test.network/peers/peer0.vtb.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2fce2cd2ea4f
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=vtb
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel32360-02  /opt/chaincode/node/reference_testchannel32360-02 node 1.0
[34m2020-03-20 10:25:24.951 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:24.951 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-20 10:25:25.158 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in vtb[m[m[m
[1;34m
Verifing if the test chaincode installed in vtb org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel32360-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel32360-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360-02, Id: c9a7ca3e08adb2ff60e3f3598501b32b87fe0a241c501f609400e8f13e0c1865
reference_testchannel32360-02
[1;32mOK: The test chaincode installed in vtb[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel32360 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel32360 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel32360> channel'
RUNTEST: chaincode-instantiate.sh testchannel32360 sberbank VERIFY: test-chaincode-instantiated.sh testchannel32360 sberbank
[1;36m
Instantiate test chaincode in testchannel32360 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel32360 reference_testchannel32360[m[m[m
Instantiate chaincode testchannel32360 reference_testchannel32360 '[]' 1.0  
[34m2020-03-20 10:25:36.070 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-20 10:25:36.070 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel32360 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel32360 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel32360' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel32360:
Name: reference_testchannel32360, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel32360, Escc: escc, Vscc: vscc
reference_testchannel32360
[1;32mOK: The test chaincode installed in testchannel32360 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel32360 sberbank reference_testchannel32360 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel32360 sberbank reference_testchannel32360
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <vtb>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel32360 sberbank reference_testchannel32360 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel32360 sberbank reference_testchannel32360
[1;36m
Invoke test chaincode on the <testchannel32360> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel32360 reference_testchannel32360 '["put","testchannel32360","testchannel32360"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel32360 reference_testchannel32360 '["put","testchannel32360","testchannel32360"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel32360 -C testchannel32360 -c '{"Args":["put","testchannel32360","testchannel32360"]}'
[34m2020-03-20 10:26:41.675 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel32360) orderer endpoint: orderer.test.network:7050
[34m2020-03-20 10:26:41.750 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel32360 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel32360> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel32360 reference_testchannel32360 '["range","testchannel32360"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel32360 reference_testchannel32360 '["range","testchannel32360"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel32360 -C testchannel32360 -c '{"Args":["range","testchannel32360"]}'
[{"key":"testchannel32360","value":"testchannel32360"}]
[1;32mOK: Chaincode reference_testchannel32360 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32626 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32626 sberbank VERIFY: test-channel-exists.sh testchannel32626 sberbank
[1;36m
Creating the <testchannel32626> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626[m[m[m
test.met

Create channel sberbank testchannel32626
--2020-03-21 19:50:34--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:34--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:34.634 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:34.685 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:34.733 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:34.901 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/admincerts/Admin@sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/cacerts/ca.sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/tlscacerts/tlsca.sberbank.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626.pb -o orderer.test.met:7050 -c testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:34.961 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:35.208 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 1_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626 aplha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel32626 aplha
[1;34m
Verifing if the <testchannel32626> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;32mOK: The channel <testchannel32626> does not exist and in not visible to aplha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel32626 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel32626 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel32626 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel32626 sberbank
[1;36m
Creating the <^^^^^^testchannel32626> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh ^^^^^^testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel32626[m[m[m
test.met

Create channel sberbank ^^^^^^testchannel32626
--2020-03-21 19:50:38--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:38--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:38.244 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:38.291 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:38.338 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:38.383 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/admincerts/Admin@sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/cacerts/ca.sberbank.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/sberbank.test.met/msp/tlscacerts/tlsca.sberbank.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel32626.pb -o orderer.test.met:7050 -c ^^^^^^testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:38.435 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel32626.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:38.584 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.met/users/Admin@sberbank.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel32626> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;32mOK: The channel <^^^^^^testchannel32626> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626 aplha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626 aplha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32626 aplha VERIFY: test-channel-does-not-exist.sh testchannel32626 aplha
[1;36m
Creating the <testchannel32626> channel for aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626[m[m[m
test.met

Create channel aplha testchannel32626
--2020-03-21 19:50:41--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:41--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:41.290 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:41.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:41.337 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:41.384 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:41.429 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/aplha.test.met/msp/admincerts/Admin@aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/cacerts/ca.aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/tlscacerts/tlsca.aplha.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626.pb -o orderer.test.met:7050 -c testchannel32626 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:41.483 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626.json: No such file or directory
>> Prepare config update from aplha for channel testchannel32626
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> aplha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:41.636 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;32mOK: The channel <testchannel32626> does not exist and in not visible to aplha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626-02 aplha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32626-02 aplha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel32626-02 aplha VERIFY: test-channel-exists.sh testchannel32626-02 aplha
[1;36m
Creating the <testchannel32626-02> channel for aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626-02[m[m[m
test.met

Create channel aplha testchannel32626-02
--2020-03-21 19:50:44--  http://www.test.met/msp/admincerts/Admin@test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/cacerts/ca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/tlscacerts/tlsca.test.met-cert.pem
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
--2020-03-21 19:50:44--  http://www.test.met/msp/orderer.test.met/tls/server.crt
Resolving www.test.met (www.test.met)... failed: Name or service not known.
wget: unable to resolve host address â€˜www.test.metâ€™
[34m2020-03-21 19:50:44.497 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 19:50:44.545 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 19:50:44.592 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[35m2020-03-21 19:50:44.593 UTC [common.tools.configtxgen] main -> FATA 011[0m Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: could not create orderer group: failed to create orderer org: 1 - Error loading MSP configuration for org: Orderer: could not load a valid ca certificate from directory /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: stat /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/cacerts: no such file or directory
[31m2020-03-21 19:50:44.637 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
cat: crypto-config/peerOrganizations/aplha.test.met/msp/admincerts/Admin@aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/cacerts/ca.aplha.test.met-cert.pem: No such file or directory
cat: crypto-config/peerOrganizations/aplha.test.met/msp/tlscacerts/tlsca.aplha.test.met-cert.pem: No such file or directory
Execute: channel fetch config crypto-config/configtx/testchannel32626-02.pb -o orderer.test.met:7050 -c testchannel32626-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:44.692 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
configtxlator: error: open crypto-config/configtx/testchannel32626-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel32626-02.json: No such file or directory
>> Prepare config update from aplha for channel testchannel32626-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> aplha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel32626-02 -o orderer.test.met:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.met/msp/tlscacerts/tlsca.test.met-cert.pem
[31m2020-03-21 19:50:44.845 UTC [main] InitCmd -> ERRO 001[0m Cannot run peer because cannot init crypto, folder "/etc/hyperledger/crypto-config/peerOrganizations/aplha.test.met/users/Admin@aplha.test.met/msp" does not exist
[1;31mError occurred. See console output above.[m[1;33m[m
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel32626-02> channel exists in aplha.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.aplha.test.met
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 5_cli: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel32626-02 sberbank
[1;34m
Verifing if the <testchannel32626-02> channel exists in sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
Error: No such container: cli.sberbank.test.met
[1;32mOK: The channel <testchannel32626-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel32626-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel32626-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel32626-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel32626-02 sberbank
[1;36m
Creating the <testchannel32626-02> channel for sberbank.test.met...[m[m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
eval ./channel-create.sh testchannel32626-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel32626-02[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m
queryContainerNetworkSettings returns:
jq: error (at <stdin>:1): null (null) has no keys
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27267 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27267 sberbank VERIFY: test-channel-exists.sh testchannel27267 sberbank
[1;36m
Creating the <testchannel27267> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267[m[m[m
test.network

Create channel sberbank testchannel27267
--2020-03-21 20:21:14--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:14--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:14.563 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:14.655 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:14.734 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:14.735 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:14.736 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:14.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:14.822 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:14.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:14.891 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:14.892 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:21:14.892 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel27267
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:15.209 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:15.223 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27267> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27267> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:16.551 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:16.554 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:16.555 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:16.555 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27267",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:21:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27267> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267 alpha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27267 alpha
[1;34m
Verifing if the <testchannel27267> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:17.164 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:17.166 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267> does not exist and in not visible to alpha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27267 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27267 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27267 sberbank
[1;36m
Creating the <^^^^^^testchannel27267> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel27267[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel27267
--2020-03-21 20:21:19--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:19--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:19.227 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:19.280 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:19.339 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:19.340 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:19.341 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:19.401 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel27267' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel27267.pb -o orderer.test.network:7050 -c ^^^^^^testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:19.480 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:19.481 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel27267.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel27267.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel27267
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:19.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel27267' != '^^^^^^testchannel27267'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27267> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:20.614 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:20.618 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27267> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267 alpha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27267 alpha VERIFY: test-channel-does-not-exist.sh testchannel27267 alpha
[1;36m
Creating the <testchannel27267> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267[m[m[m
test.network

Create channel alpha testchannel27267
--2020-03-21 20:21:23--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:23--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:23.702 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:23.773 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:23.774 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:23.836 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:23.837 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:23.838 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:21:23.838 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:23.925 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:24.023 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:24.027 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27267.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27267.json: No such file or directory
>> Prepare config update from alpha for channel testchannel27267
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:24.253 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27267> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:25.631 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:25.632 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267> does not exist and in not visible to alpha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27267-02 alpha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27267-02 alpha VERIFY: test-channel-exists.sh testchannel27267-02 alpha
[1;36m
Creating the <testchannel27267-02> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267-02[m[m[m
test.network

Create channel alpha testchannel27267-02
--2020-03-21 20:21:28--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:28--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:28.215 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:28.301 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:28.372 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:21:28.373 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:28.374 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:21:28.375 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:28.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.502 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:28.585 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.587 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:28.589 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:21:28.589 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel27267-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:28.949 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:28.965 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel27267-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27267-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:30.088 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:30.098 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:30.099 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:30.099 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel27267-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:21:28Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27267-02> exists and visible to alpha[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27267-02 sberbank
[1;34m
Verifing if the <testchannel27267-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:30.752 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:30.755 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel27267-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27267-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27267-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27267-02 sberbank
[1;36m
Creating the <testchannel27267-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel27267-02[m[m[m
test.network

Create channel sberbank testchannel27267-02
--2020-03-21 20:21:33--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:33--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:21:33.358 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:21:33.417 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:33.471 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:21:33.472 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:21:33.473 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:21:33.473 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:21:33.474 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:21:33.542 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:33.616 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:33.618 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel27267-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel27267-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel27267-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:33.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27267-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:34.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:34.993 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27267-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel27267 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27267 sberbank alpha
Step: 8_cli Test 'Add <alpha> to channel <testchannel27267> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27267 sberbank alpha VERIFY: test-channel-add-org.sh testchannel27267 sberbank alpha
[1;36m
Add alpha to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel27267 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27267 alpha 7051 test.network[m[m[m
--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:37--  http://www.alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel27267, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:37.388 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:37.391 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:37.392 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:37.392 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel27267
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:37.728 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:37.740 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel27267 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel27267 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:38.924 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:38.929 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:21:38.931 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:21:38.932 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel27267>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel27267-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27267-02 alpha sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel27267-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27267-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel27267-02 alpha sberbank
[1;36m
Add sberbank to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel27267-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel27267-02 sberbank 7051 test.network[m[m[m
--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:41--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel27267-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:41.423 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:41.428 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:21:41.430 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:21:41.430 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel27267-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel27267-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:41.779 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:41.794 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel27267-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:42.918 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:42.920 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:21:42.922 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:21:42.922 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel27267-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel27267> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267 sberbank VERIFY: test-join-channel.sh testchannel27267 sberbank
[1;36m
Joining  sberbank to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=e501a4c7321a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:45--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:45--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel27267
Execute: channel fetch 0 crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:45.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:45.611 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:45.680 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:45.840 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel27267 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27267> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:46.909 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27267> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267 alpha
Step: 11_cli Test 'Join <alpha> to the <testchannel27267> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267 alpha VERIFY: test-join-channel.sh testchannel27267 alpha
[1;36m
Joining  alpha to the testchannel27267 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel27267
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=9a8a082c668a
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:49--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:49--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel27267
Execute: channel fetch 0 crypto-config/configtx/testchannel27267.pb -o orderer.test.network:7050 -c testchannel27267 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:49.346 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:49.348 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:49.407 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:49.569 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel27267 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27267> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:50.610 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27267> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel27267-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267-02 sberbank VERIFY: test-join-channel.sh testchannel27267-02 sberbank
[1;36m
Joining  sberbank to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=77ed321d01d3
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:52--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:52--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel27267-02
Execute: channel fetch 0 crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:52.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:52.960 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:53.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:53.218 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:21:54.263 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27267-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27267-02 alpha
Step: 13_cli Test 'Join <alpha> to the <testchannel27267-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27267-02 alpha VERIFY: test-join-channel.sh testchannel27267-02 alpha
[1;36m
Joining  alpha to the testchannel27267-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel27267-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel27267-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=2ee6de31d8ba
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:21:56--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:21:56--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel27267-02
Execute: channel fetch 0 crypto-config/configtx/testchannel27267-02.pb -o orderer.test.network:7050 -c testchannel27267-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:21:56.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:56.620 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:21:56.685 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:21:56.893 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel27267-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27267-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:21:58.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27267-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27267 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel27267> channel'
RUNTEST: chaincode-install.sh testchannel27267 sberbank VERIFY: test-chaincode-installed.sh testchannel27267 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27267 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel27267[m[m[m
[1;36m
Installing testchannel27267  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel27267'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a46862a926f9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel27267  /opt/chaincode/node/reference_testchannel27267 node 1.0
[34m2020-03-21 20:22:03.307 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:03.307 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:22:03.421 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel27267
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel27267-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27267-02 alpha
Step: 15_cli Test 'Install test chaincode by <alpha> to the <testchannel27267-02> channel'
RUNTEST: chaincode-install.sh testchannel27267-02 alpha VERIFY: test-chaincode-installed.sh testchannel27267-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel27267-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel27267-02[m[m[m
[1;36m
Installing testchannel27267-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel27267-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=a59683d500c5
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel27267-02  /opt/chaincode/node/reference_testchannel27267-02 node 1.0
[34m2020-03-21 20:22:11.449 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:11.449 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:22:11.636 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27267-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel27267-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel27267 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27267 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel27267> channel'
RUNTEST: chaincode-instantiate.sh testchannel27267 sberbank VERIFY: test-chaincode-instantiated.sh testchannel27267 sberbank
[1;36m
Instantiate test chaincode in testchannel27267 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel27267 reference_testchannel27267[m[m[m
Instantiate chaincode testchannel27267 reference_testchannel27267 '[]' 1.0  
[34m2020-03-21 20:22:17.024 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:22:17.024 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel27267 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27267 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27267' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27267:
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Escc: escc, Vscc: vscc
reference_testchannel27267
[1;32mOK: The test chaincode installed in testchannel27267 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel27267 sberbank reference_testchannel27267 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel27267 sberbank reference_testchannel27267
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27267 sberbank reference_testchannel27267 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27267 sberbank reference_testchannel27267
[1;36m
Invoke test chaincode on the <testchannel27267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel27267 reference_testchannel27267 '["put","testchannel27267","testchannel27267"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel27267 reference_testchannel27267 '["put","testchannel27267","testchannel27267"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel27267 -C testchannel27267 -c '{"Args":["put","testchannel27267","testchannel27267"]}'
[34m2020-03-21 20:22:59.120 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel27267) orderer endpoint: orderer.test.network:7050
[34m2020-03-21 20:22:59.169 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel27267 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27267> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27267 reference_testchannel27267 '["range","testchannel27267"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27267 reference_testchannel27267 '["range","testchannel27267"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel27267 -C testchannel27267 -c '{"Args":["range","testchannel27267"]}'
[{"key":"testchannel27267","value":"testchannel27267"}]
[1;32mOK: Chaincode reference_testchannel27267 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22251 sberbank
Step: 18_ali Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel22251 sberbank VERIFY: test-channel-exists.sh testchannel22251 sberbank
[1;34m
Verifing if the <testchannel22251> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:18.053 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:18.054 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 18_ali: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251 alpha
Step: 19_ali Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel22251 alpha
[1;34m
Verifing if the <testchannel22251> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:18.564 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:18.565 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251> does not exist and in not visible to alpha[m[m[m
Step 19_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh ^^^^^^testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel22251 sberbank
Step: 20_ali Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel22251 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel22251 sberbank
[1;34m
Verifing if the <^^^^^^testchannel22251> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:19.108 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:19.109 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel22251> does not exist and in not visible to sberbank[m[m[m
Step 20_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251 alpha
Step: 21_ali Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22251 alpha VERIFY: test-channel-does-not-exist.sh testchannel22251 alpha
[1;34m
Verifing if the <testchannel22251> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:19.630 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:19.631 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251> does not exist and in not visible to alpha[m[m[m
Step 21_ali: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel22251-02 alpha
Step: 22_ali Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel22251-02 alpha VERIFY: test-channel-exists.sh testchannel22251-02 alpha
[1;34m
Verifing if the <testchannel22251-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:20.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:20.145 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 22_ali: exit code 1
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251-02 sberbank
Step: 23_ali Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel22251-02 sberbank
[1;34m
Verifing if the <testchannel22251-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:20.621 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:20.622 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251-02> does not exist and in not visible to sberbank[m[m[m
Step 23_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/create-channel.sh testchannel22251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel22251-02 sberbank
Step: 24_ali Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel22251-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel22251-02 sberbank
[1;34m
Verifing if the <testchannel22251-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:21.143 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:21.144 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <testchannel22251-02> does not exist and in not visible to sberbank[m[m[m
Step 24_ali: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/add-org-to-channel.sh testchannel22251 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22251 sberbank alpha
Step: 25_ali Test 'Add <alpha> to channel <testchannel22251> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22251 sberbank alpha VERIFY: test-channel-add-org.sh testchannel22251 sberbank alpha
[1;34m
Verifing if the <alpha> added to testchannel22251 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:21.701 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:21.703 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 25_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/add-org-to-channel.sh testchannel22251-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel22251-02 alpha sberbank
Step: 26_ali Test 'Add <sberbank> to channel <testchannel22251-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel22251-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel22251-02 alpha sberbank
[1;34m
Verifing if the <sberbank> added to testchannel22251-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:22.217 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:22.218 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 26_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251 sberbank
Step: 27_ali Test 'Join <sberbank> to the <testchannel22251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251 sberbank VERIFY: test-join-channel.sh testchannel22251 sberbank
[1;34m
Verifing if the sberbank has joined the <testchannel22251> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:22.707 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 27_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251 alpha
Step: 28_ali Test 'Join <alpha> to the <testchannel22251> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251 alpha VERIFY: test-join-channel.sh testchannel22251 alpha
[1;34m
Verifing if the alpha has joined the <testchannel22251> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:23.232 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251-02 sberbank
Step: 29_ali Test 'Join <sberbank> to the <testchannel22251-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251-02 sberbank VERIFY: test-join-channel.sh testchannel22251-02 sberbank
[1;34m
Verifing if the sberbank has joined the <testchannel22251-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:23.773 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_ali: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/join-channel.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel22251-02 alpha
Step: 30_ali Test 'Join <alpha> to the <testchannel22251-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel22251-02 alpha VERIFY: test-join-channel.sh testchannel22251-02 alpha
[1;34m
Verifing if the alpha has joined the <testchannel22251-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:24.268 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 30_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-install.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22251 sberbank
Step: 31_ali Test 'Install test chaincode by <sberbank> to the <testchannel22251> channel'
RUNTEST: chaincode-install.sh testchannel22251 sberbank VERIFY: test-chaincode-installed.sh testchannel22251 sberbank
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22251' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 31_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-install.sh testchannel22251-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel22251-02 alpha
Step: 32_ali Test 'Install test chaincode by <alpha> to the <testchannel22251-02> channel'
RUNTEST: chaincode-install.sh testchannel22251-02 alpha VERIFY: test-chaincode-installed.sh testchannel22251-02 alpha
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel22251-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 32_ali: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-instantiate.sh testchannel22251 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel22251 sberbank
Step: 33_ali Test 'Instantiate test chaincode by <sberbank> to the <testchannel22251> channel'
RUNTEST: chaincode-instantiate.sh testchannel22251 sberbank VERIFY: test-chaincode-instantiated.sh testchannel22251 sberbank
[1;34m
Verifing if the test chaincode instantiated in channel testchannel22251 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel22251' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [testchannel22251] creator org [sberbank]
[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 33_ali: exit code 1
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-invoke.sh testchannel22251 sberbank reference_testchannel22251 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/ali/chaincode-query.sh testchannel22251 sberbank reference_testchannel22251
Step: 34_ali Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel22251 sberbank reference_testchannel22251 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel22251 sberbank reference_testchannel22251
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13826 sberbank
Step: 1_cli Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel13826 sberbank VERIFY: test-channel-exists.sh testchannel13826 sberbank
[1;36m
Creating the <testchannel13826> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826[m[m[m
test.network

Create channel sberbank testchannel13826
--2020-03-21 20:23:57--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:23:57--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:23:57.269 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:23:57.322 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:23:57.371 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:23:57.372 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:23:57.373 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:23:57.428 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.461 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:23:57.522 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.524 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:23:57.525 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:23:57.525 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from sberbank for channel testchannel13826
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:23:57.807 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:57.816 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13826> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13826> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:23:58.852 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:58.855 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:23:58.856 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:23:58.856 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13826",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:23:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13826> exists and visible to sberbank[m[m[m
Step 1_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826 alpha
Step: 2_cli Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel13826 alpha
[1;34m
Verifing if the <testchannel13826> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:23:59.441 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:23:59.444 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826> does not exist and in not visible to alpha[m[m[m
Step 2_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh ^^^^^^testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel13826 sberbank
Step: 3_cli Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel13826 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel13826 sberbank
[1;36m
Creating the <^^^^^^testchannel13826> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh ^^^^^^testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh ^^^^^^testchannel13826[m[m[m
test.network

Create channel sberbank ^^^^^^testchannel13826
--2020-03-21 20:24:01--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:01--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:01.920 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:01.983 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:02.039 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:02.040 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:24:02.041 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:02.097 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel13826' contains illegal characters
Execute: channel fetch config crypto-config/configtx/^^^^^^testchannel13826.pb -o orderer.test.network:7050 -c ^^^^^^testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:02.167 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:02.168 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
configtxlator: error: open crypto-config/configtx/^^^^^^testchannel13826.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/^^^^^^testchannel13826.json: No such file or directory
>> Prepare config update from sberbank for channel ^^^^^^testchannel13826
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c ^^^^^^testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:02.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: 'testchannel13826' != '^^^^^^testchannel13826'
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel13826> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:03.373 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:03.374 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel13826> does not exist and in not visible to sberbank[m[m[m
Step 3_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826 alpha
Step: 4_cli Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13826 alpha VERIFY: test-channel-does-not-exist.sh testchannel13826 alpha
[1;36m
Creating the <testchannel13826> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826[m[m[m
test.network

Create channel alpha testchannel13826
--2020-03-21 20:24:05--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:05--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:05.793 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:05.847 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:05.899 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:05.900 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:05.901 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:24:05.901 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:05.967 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:06.047 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:06.049 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13826.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13826.json: No such file or directory
>> Prepare config update from alpha for channel testchannel13826
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:06.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13826> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:07.241 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:07.244 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826> does not exist and in not visible to alpha[m[m[m
Step 4_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel13826-02 alpha
Step: 5_cli Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel13826-02 alpha VERIFY: test-channel-exists.sh testchannel13826-02 alpha
[1;36m
Creating the <testchannel13826-02> channel for alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-create.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826-02[m[m[m
test.network

Create channel alpha testchannel13826-02
--2020-03-21 20:24:09--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:09--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:09.475 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:09.523 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:09.524 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:09.573 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:09.574 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group alpha in configtx.yaml
[34m2020-03-21 20:24:09.575 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:09.627 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:09.661 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:09.725 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:09.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:09.729 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:24:09.729 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
>> Prepare config update from alpha for channel testchannel13826-02
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:10.026 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:10.036 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Channel <testchannel13826-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel13826-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:10.957 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:10.960 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:10.962 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:10.962 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel13826-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:24:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel13826-02> exists and visible to alpha[m[m[m
Step 5_cli: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826-02 sberbank
Step: 6_cli Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel13826-02 sberbank
[1;34m
Verifing if the <testchannel13826-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:11.466 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:11.469 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826-02> does not exist and in not visible to sberbank[m[m[m
Step 6_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/create-channel.sh testchannel13826-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel13826-02 sberbank
Step: 7_cli Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel13826-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel13826-02 sberbank
[1;36m
Creating the <testchannel13826-02> channel for sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-create.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-create.sh testchannel13826-02[m[m[m
test.network

Create channel sberbank testchannel13826-02
--2020-03-21 20:24:13--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:13--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

[34m2020-03-21 20:24:13.714 UTC [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004[0m Orderer.BatchTimeout unset, setting to 2s
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005[0m Orderer.BatchSize.MaxMessageCount unset, setting to 500
[34m2020-03-21 20:24:13.789 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 006[0m Orderer.BatchSize.AbsoluteMaxBytes unset, setting to 10485760
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 007[0m Orderer.BatchSize.PreferredMaxBytes unset, setting to 2097152
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 008[0m orderer type: solo
[34m2020-03-21 20:24:13.790 UTC [common.tools.configtxgen.localconfig] Load -> INFO 009[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00a[0m Orderer.OrdererType unset, setting to solo
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00b[0m Orderer.Addresses unset, setting to [127.0.0.1:7050]
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 00c[0m orderer type: solo
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 00d[0m Loaded configuration: /etc/hyperledger/crypto-config/configtx.yaml
[34m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 00e[0m Generating new channel configtx
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 00f[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 010[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:13.847 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 011[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 012[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 013[0m Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewOrdererGroup -> WARN 014[0m Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
[33m2020-03-21 20:24:13.848 UTC [common.tools.configtxgen.encoder] NewOrdererOrgGroup -> WARN 015[0m Default policy emission is deprecated, please include policy specifications for the orderer org group Orderer in configtx.yaml
[33m2020-03-21 20:24:13.849 UTC [common.tools.configtxgen.encoder] NewApplicationOrgGroup -> WARN 016[0m Default policy emission is deprecated, please include policy specifications for the application org group sberbank in configtx.yaml
[34m2020-03-21 20:24:13.849 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 017[0m Writing new channel tx
[34m2020-03-21 20:24:13.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:14.032 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:14.034 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
configtxlator: error: open crypto-config/configtx/testchannel13826-02.pb: no such file or directory, try --help
jq: error: Could not open file crypto-config/configtx/testchannel13826-02.json: No such file or directory
>> Prepare config update from sberbank for channel testchannel13826-02
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:14.293 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
[1;31mError occurred. See console output above.[m[1;33m[m
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel13826-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:15.366 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:15.367 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel13826-02> does not exist and in not visible to sberbank[m[m[m
Step 7_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel13826 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13826 sberbank alpha
Step: 8_cli Test 'Add <alpha> to channel <testchannel13826> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13826 sberbank alpha VERIFY: test-channel-add-org.sh testchannel13826 sberbank alpha
[1;36m
Add alpha to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-add-org.sh testchannel13826 alpha
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13826 alpha 7051 test.network[m[m[m
--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/admincerts/Admin@alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/cacerts/ca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:17--  http://www.alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pem
Resolving www.alpha.test.network (www.alpha.test.network)... 172.19.0.15
Connecting to www.alpha.test.network (www.alpha.test.network)|172.19.0.15|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/alpha.test.network/msp/tlscacerts/tlsca.alpha.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'alpha' to channel testchannel13826, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:17.568 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:17.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:17.570 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:17.570 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from alpha for channel testchannel13826
>> alpha is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:17.888 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:17.901 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization alpha added to testchannel13826 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel13826 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:18.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:18.932 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:24:18.934 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:24:18.934 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel13826>.[m[m[m
Step 8_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/add-org-to-channel.sh testchannel13826-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel13826-02 alpha sberbank
Step: 9_cli Test 'Add <sberbank> to channel <testchannel13826-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel13826-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel13826-02 alpha sberbank
[1;36m
Add sberbank to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-add-org.sh testchannel13826-02 sberbank
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-add-org.sh testchannel13826-02 sberbank 7051 test.network[m[m[m
--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/admincerts/Admin@sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/cacerts/ca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:21--  http://www.sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pem
Resolving www.sberbank.test.network (www.sberbank.test.network)... 172.19.0.7
Connecting to www.sberbank.test.network (www.sberbank.test.network)|172.19.0.7|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/peerOrganizations/sberbank.test.network/msp/tlscacerts/tlsca.sberbank.test.network-cert.pemâ€™ not modified on server. Omitting download.

>> Add new org 'sberbank' to channel testchannel13826-02, anchor peer at port 7051
Execute: channel fetch config crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:21.385 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:21.387 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:24:21.388 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:24:21.388 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
>> Prepare config update from sberbank for channel testchannel13826-02
>> sberbank is sending channel update update_in_envelope.pb with  by 
Execute: peer channel update -f update_in_envelope.pb -c testchannel13826-02 -o orderer.test.network:7050 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:21.750 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:21.763 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[1;32mOK: Organization sberbank added to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel13826-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:22.730 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:22.734 UTC [cli.common] readBlock -> INFO 002[0m Received block: 2
[34m2020-03-21 20:24:22.737 UTC [cli.common] readBlock -> INFO 003[0m Received block: 2
[34m2020-03-21 20:24:22.737 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 2
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel13826-02>.[m[m[m
Step 9_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826 sberbank
Step: 10_cli Test 'Join <sberbank> to the <testchannel13826> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826 sberbank VERIFY: test-join-channel.sh testchannel13826 sberbank
[1;36m
Joining  sberbank to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c65329b9de32
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:25--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:25--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel13826
Execute: channel fetch 0 crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:25.083 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:25.085 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:25.140 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:25.321 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel13826 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13826> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:26.387 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13826> channel[m[m[m
Step 10_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826 alpha
Step: 11_cli Test 'Join <alpha> to the <testchannel13826> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826 alpha VERIFY: test-join-channel.sh testchannel13826 alpha
[1;36m
Joining  alpha to the testchannel13826 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel13826
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=b7927aa18e4d
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:28--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:28--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel13826
Execute: channel fetch 0 crypto-config/configtx/testchannel13826.pb -o orderer.test.network:7050 -c testchannel13826 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:28.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:28.670 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:28.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:28.850 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel13826 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel13826> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:29.811 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel13826> channel[m[m[m
Step 11_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826-02 sberbank
Step: 12_cli Test 'Join <sberbank> to the <testchannel13826-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826-02 sberbank VERIFY: test-join-channel.sh testchannel13826-02 sberbank
[1;36m
Joining  sberbank to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./channel-join.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826-02[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c8d55c655b4c
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:32--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:32--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join sberbank to channel testchannel13826-02
Execute: channel fetch 0 crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:32.163 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:32.165 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:32.224 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:32.339 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization sberbank has been joined to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel13826-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:24:33.375 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel13826-02> channel[m[m[m
Step 12_cli: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/join-channel.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel13826-02 alpha
Step: 13_cli Test 'Join <alpha> to the <testchannel13826-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel13826-02 alpha VERIFY: test-join-channel.sh testchannel13826-02 alpha
[1;36m
Joining  alpha to the testchannel13826-02 channel...[m[m[m
queryContainerNetworkSettings returns: 8051
eval ./channel-join.sh testchannel13826-02
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/channel-join.sh testchannel13826-02[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=eeb9346e5ec9
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_DOMAIN=test.network
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
--2020-03-21 20:24:35--  http://www.test.network/msp/admincerts/Admin@test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/admincerts/Admin@test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/cacerts/ca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/cacerts/ca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/tlscacerts/tlsca.test.network-cert.pem
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pemâ€™ not modified on server. Omitting download.

--2020-03-21 20:24:35--  http://www.test.network/msp/orderer.test.network/tls/server.crt
Resolving www.test.network (www.test.network)... 172.19.0.3
Connecting to www.test.network (www.test.network)|172.19.0.3|:80... connected.
HTTP request sent, awaiting response... 304 Not Modified
File â€˜crypto-config/ordererOrganizations/test.network/msp/orderer.test.network/tls/server.crtâ€™ not modified on server. Omitting download.

Join alpha to channel testchannel13826-02
Execute: channel fetch 0 crypto-config/configtx/testchannel13826-02.pb -o orderer.test.network:7050 -c testchannel13826-02 --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem
[34m2020-03-21 20:24:35.566 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:35.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:24:35.676 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:24:35.816 UTC [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[1;32mOK: Organization alpha has been joined to testchannel13826-02 channel[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel13826-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:24:37.098 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel13826-02> channel[m[m[m
Step 13_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13826 sberbank
Step: 14_cli Test 'Install test chaincode by <sberbank> to the <testchannel13826> channel'
RUNTEST: chaincode-install.sh testchannel13826 sberbank VERIFY: test-chaincode-installed.sh testchannel13826 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;36m
Copying test chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13826 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel13826[m[m[m
[1;36m
Installing testchannel13826  chaincode in sberbank...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel13826'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051
CORE_PEER_LOCALMSPID=sberbank
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/users/Admin@sberbank.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/sberbank.test.network/peers/peer0.sberbank.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c4b7fdbca218
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=sberbank
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=7051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel13826  /opt/chaincode/node/reference_testchannel13826 node 1.0
[34m2020-03-21 20:24:42.126 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:42.126 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:24:42.227 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13826' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel13826
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-install.sh testchannel13826-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel13826-02 alpha
Step: 15_cli Test 'Install test chaincode by <alpha> to the <testchannel13826-02> channel'
RUNTEST: chaincode-install.sh testchannel13826-02 alpha VERIFY: test-chaincode-installed.sh testchannel13826-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;36m
Copying test chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c mkdir -p /opt/chaincode/node/reference_testchannel13826-02 ;    cp -R /opt/chaincode/node/reference/*     /opt/chaincode/node/reference_testchannel13826-02[m[m[m
[1;36m
Installing testchannel13826-02  chaincode in alpha...[m[m[m
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-install.sh 'reference_testchannel13826-02'[m[m[m
CORE_PEER_ADDRESS=peer0.alpha.test.network:8051
CORE_PEER_LOCALMSPID=alpha
CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/users/Admin@alpha.test.network/msp
CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/server.key
CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/crypto-config/peerOrganizations/alpha.test.network/peers/peer0.alpha.test.network/tls/ca.crt
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
DOMAIN=test.network
ENROLL_ID=admin
ENROLL_SECRET=adminpw
FABRIC_CFG_PATH=/etc/hyperledger/fabric
FABRIC_LOGGING_SPEC=peer=DEBUG:endorser=DEBUG:nodeCmd=DEBUG:committer=DEBUG
GOPATH=/opt/gopath
GOROOT=/opt/go
HOME=/root
HOSTNAME=c37a58bb8c28
JAVA_HOME=/opt/java/openjdk
JAVA_TOOL_OPTIONS=-XX:+IgnoreUnrecognizedVMOptions -XX:+UseContainerSupport -XX:+IdleTuningCompactOnIdle -XX:+IdleTuningGcOnIdle
JAVA_VERSION=jdk8u222-b10_openj9-0.15.1
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_ALL=en_US.UTF-8
ORDERER_BATCH_TIMEOUT=2
ORDERER_GENERAL_LISTENPORT=7050
ORDERER_NAME=orderer
ORG=alpha
PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/go/bin:/opt/gopath/bin
PEER0_PORT=8051
PWD=/etc/hyperledger
RAFT0_PORT=7050
RAFT1_PORT=7150
RAFT2_PORT=7250
SHLVL=2
SIGNATURE_HASH_FAMILY=SHA2
SYSTEM_CHANNEL_ID=orderer-system-channel
TERM=xterm
_=/usr/bin/env
Install chaincode reference_testchannel13826-02  /opt/chaincode/node/reference_testchannel13826-02 node 1.0
[34m2020-03-21 20:24:50.789 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:50.789 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[34m2020-03-21 20:24:50.922 UTC [chaincodeCmd] install -> INFO 003[0m Installed remotely response:<status:200 payload:"OK" > 
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel13826-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826-02, Id: 9e47a1a49d7af3ad3712e4d901ab45eb45f7c38844bc96dbed33b2de22a15b2c
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel13826-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-instantiate.sh testchannel13826 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel13826 sberbank
Step: 16_cli Test 'Instantiate test chaincode by <sberbank> to the <testchannel13826> channel'
RUNTEST: chaincode-instantiate.sh testchannel13826 sberbank VERIFY: test-chaincode-instantiated.sh testchannel13826 sberbank
[1;36m
Instantiate test chaincode in testchannel13826 in sberbank...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c ./container-scripts/network/chaincode-instantiate.sh testchannel13826 reference_testchannel13826[m[m[m
Instantiate chaincode testchannel13826 reference_testchannel13826 '[]' 1.0  
[34m2020-03-21 20:24:57.326 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001[0m Using default escc
[34m2020-03-21 20:24:57.326 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002[0m Using default vscc
[1;32mOK: Test chaincode instantiated in testchannel13826 by sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel13826 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel13826' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel13826:
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Escc: escc, Vscc: vscc
reference_testchannel13826
[1;32mOK: The test chaincode installed in testchannel13826 channel by sberbank org[m[m[m
Step 16_cli: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-invoke.sh testchannel13826 sberbank reference_testchannel13826 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/cli/chaincode-query.sh testchannel13826 sberbank reference_testchannel13826
Step: 17_cli Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel13826 sberbank reference_testchannel13826 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel13826 sberbank reference_testchannel13826
[1;36m
Invoke test chaincode on the <testchannel13826> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-invoke.sh testchannel13826 reference_testchannel13826 '["put","testchannel13826","testchannel13826"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-invoke.sh  testchannel13826 reference_testchannel13826 '["put","testchannel13826","testchannel13826"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode invoke -n reference_testchannel13826 -C testchannel13826 -c '{"Args":["put","testchannel13826","testchannel13826"]}'
[34m2020-03-21 20:25:43.428 UTC [chaincodeCmd] InitCmdFactory -> INFO 001[0m Retrieved channel (testchannel13826) orderer endpoint: orderer.test.network:7050
[34m2020-03-21 20:25:43.487 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002[0m Chaincode invoke successful. result: status:200 
[1;32mOK: Chaincode reference_testchannel13826 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel13826> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel13826 reference_testchannel13826 '["range","testchannel13826"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel13826 reference_testchannel13826 '["range","testchannel13826"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel13826 -C testchannel13826 -c '{"Args":["range","testchannel13826"]}'
[{"key":"testchannel13826","value":"testchannel13826"}]
[1;32mOK: Chaincode reference_testchannel13826 invoked sucsessfuly.[m[m[m
Step 17_cli: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19000 sberbank
Step: 18_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19000 sberbank VERIFY: test-channel-exists.sh testchannel19000 sberbank
[1;36mCreating testchannel19000 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Mn0.o-eMIhyXeCTZenllItrW-s-STZSg0O7EFHKT2ZfEkcM
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}] 200
[1;32mOK: Channel <testchannel19000> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19000> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:05.020 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:05.022 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:26:05.023 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:26:05.024 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19000",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:26:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19000> exists and visible to sberbank[m[m[m
Step 18_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000 alpha
Step: 19_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19000 alpha
[1;34m
Verifing if the <testchannel19000> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:05.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:05.725 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000> does not exist and in not visible to alpha[m[m[m
Step 19_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel19000 sberbank
Step: 20_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19000 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19000 sberbank
[1;36mCreating ^^^^^^testchannel19000 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2Nn0.IaSM3MqZq2FVQtKEJIIkoFs_5-eicDdfyvkL3dyqy14
curlGetIt got _ "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters"500 _ result
body is "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters", code is 500
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel19000' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel19000> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:07.618 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:07.619 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel19000> does not exist and in not visible to sberbank[m[m[m
Step 20_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000 alpha
Step: 21_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19000 alpha VERIFY: test-channel-does-not-exist.sh testchannel19000 alpha
[1;36mCreating testchannel19000 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM2OH0.xkx-1kTpi7C2QWGZ2bnZ4XUk02obtLWgjOxuatm0tTo
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19000> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:09.736 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:09.738 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000> does not exist and in not visible to alpha[m[m[m
Step 21_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19000-02 alpha
Step: 22_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19000-02 alpha VERIFY: test-channel-exists.sh testchannel19000-02 alpha
[1;36mCreating testchannel19000-02 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19000-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3MH0.AwO3rxXX6Q_72ZK1v-bgrlZTZhsMMH8sJiTQFfEN_nA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}] 200
[1;32mOK: Channel <testchannel19000-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19000-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:12.176 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:12.180 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:26:12.182 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:26:12.182 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19000-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:26:10Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19000-02> exists and visible to alpha[m[m[m
Step 22_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000-02 sberbank
Step: 23_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19000-02 sberbank
[1;34m
Verifing if the <testchannel19000-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:12.869 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:12.871 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000-02> does not exist and in not visible to sberbank[m[m[m
Step 23_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19000-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19000-02 sberbank
Step: 24_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19000-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel19000-02 sberbank
[1;36mCreating testchannel19000-02 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19000-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3M30.InVnGBMTfIcF-qLhyFyQXAHfbaI-jEhMDxp5M6OiLzM
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19000-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:14.534 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:14.538 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19000-02> does not exist and in not visible to sberbank[m[m[m
Step 24_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19000 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19000 sberbank alpha
Step: 25_api Test 'Add <alpha> to channel <testchannel19000> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19000 sberbank alpha VERIFY: test-channel-add-org.sh testchannel19000 sberbank alpha
[1;36mAdd alpha to the testchannel19000 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM3NH0.9tqp7pBRy3sIhCYd_efNeZjjuwErfZItqH_nlMeKcXU
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel19000 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel19000 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:23.672 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:23.675 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:26:23.676 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:26:23.676 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel19000>.[m[m[m
Step 25_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19000-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19000-02 alpha sberbank
Step: 26_api Test 'Add <sberbank> to channel <testchannel19000-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19000-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel19000-02 alpha sberbank
[1;36mAdd sberbank to the testchannel19000-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM4NH0.aHFH4FfI74nHi6FEY9f7M0gsBxn4_hnWp2dBrhRiems
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel19000-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel19000-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:32.716 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:26:32.719 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:26:32.720 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:26:32.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel19000-02>.[m[m[m
Step 26_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000 sberbank
Step: 27_api Test 'Join <sberbank> to the <testchannel19000> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000 sberbank VERIFY: test-join-channel.sh testchannel19000 sberbank
[1;36mJoining sberbank.test.network to the testchannel19000 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5M30.rFtAs7_m_L2YNVLj7NiCLXiOjqxOQu--atO69hT6U2U
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel19000> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:34.347 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel19000> channel[m[m[m
Step 27_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000 alpha
Step: 28_api Test 'Join <alpha> to the <testchannel19000> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000 alpha VERIFY: test-join-channel.sh testchannel19000 alpha
[1;36mJoining alpha.test.network to the testchannel19000 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel19000 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5NH0.y0hpuCUvss2GONIOLaBaVxCRz9Cx3-JDWrut3TRwsqg
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel19000> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:35.764 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 28_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000-02 sberbank
Step: 29_api Test 'Join <sberbank> to the <testchannel19000-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000-02 sberbank VERIFY: test-join-channel.sh testchannel19000-02 sberbank
[1;36mJoining sberbank.test.network to the testchannel19000-02 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5Nn0.2UWIjzK4lrlCBj4Sx2Zugyd6xHH209GjatfyVZfAVD0
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel19000-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:26:37.205 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 29_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19000-02 alpha
Step: 30_api Test 'Join <alpha> to the <testchannel19000-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19000-02 alpha VERIFY: test-join-channel.sh testchannel19000-02 alpha
[1;36mJoining alpha.test.network to the testchannel19000-02 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel19000-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19000-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5N30.4b2IFpe6UjXkYEOQPBFqQzTKBuaPALVE2Jn_JXgUy28
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel19000-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:26:38.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel19000-02> channel[m[m[m
Step 30_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19000 sberbank
Step: 31_api Test 'Install test chaincode by <sberbank> to the <testchannel19000> channel'
RUNTEST: chaincode-install.sh testchannel19000 sberbank VERIFY: test-chaincode-installed.sh testchannel19000 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjM5OX0.7K6EowVxROf7_FtbM7huXe3VrGfIEFxKjcS9Z9KOEU0
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19000/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19000/index.js (deflated 27%)
adding: reference_testchannel19000/package.json (deflated 41%)
adding: reference_testchannel19000/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:26 /tmp/reference_testchannel19000.zip
/tmp/reference_testchannel19000.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel19000:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19000' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Id: 4ed0ec1af18c94a0b1494c1bc24bd50acad828ac41e9d4590700bfc257e71740
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel19000
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 31_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19000-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19000-02 alpha
Step: 32_api Test 'Install test chaincode by <alpha> to the <testchannel19000-02> channel'
RUNTEST: chaincode-install.sh testchannel19000-02 alpha VERIFY: test-chaincode-installed.sh testchannel19000-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwMn0.nmDbwahftVGaeqPXFarRLmvT7wBCwiuORmWXnr0Z7Io
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19000-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19000-02/index.js (deflated 27%)
adding: reference_testchannel19000-02/package.json (deflated 41%)
adding: reference_testchannel19000-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:26 /tmp/reference_testchannel19000-02.zip
/tmp/reference_testchannel19000-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel19000-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19000-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826-02, Id: 9e47a1a49d7af3ad3712e4d901ab45eb45f7c38844bc96dbed33b2de22a15b2c
Name: reference_testchannel19000-02, Version: 1.0, Path: /tmp/reference_testchannel19000-02, Id: f243142c6d52983ef02e7fbb4d52f46b811252442927951c12cd7112b64a7636
Name: reference_testchannel27267-02, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267-02, Id: f89e90689caa5ffca6a52ed071f02839cd4975fc701acae5c5860adee7ed0008
reference_testchannel19000-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 32_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel19000 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel19000 sberbank
Step: 33_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel19000> channel'
RUNTEST: chaincode-instantiate.sh testchannel19000 sberbank VERIFY: test-chaincode-instantiated.sh testchannel19000 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/chaincodes {"channelId":"testchannel19000","chaincodeId":"reference_testchannel19000","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQwNX0.-7bAHAoYvyyImMYF_87pDv8gdxtxwu5Jv_xB3n-1vC4
curlGetIt got _ {"txid":"907d613c44b1a72c09340053ea88cb3fe934a672f84fe66df5e92cb642598b10","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"907d613c44b1a72c09340053ea88cb3fe934a672f84fe66df5e92cb642598b10","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel19000 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel19000' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel19000:
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel19000
[1;32mOK: The test chaincode installed in testchannel19000 channel by sberbank org[m[m[m
Step 33_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel19000 sberbank reference_testchannel19000 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel19000 sberbank reference_testchannel19000
Step: 34_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel19000 sberbank reference_testchannel19000 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel19000 sberbank reference_testchannel19000
[1;36m
Invoke test chaincode on the <testchannel19000> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19000/chaincodes/reference_testchannel19000 {"fcn":"put","args":["testchannel19000","testchannel19000"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjQ0N30.paYD-2PBfc7xugmc-yJkshwgc2ELOu-HF-vipFYIhVQ
curlGetIt got _ {"txid":"fa986b27a9ef92aaaec45744e3a4afd0b12ec5b4eb8b82d078bf75e13a36008f","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"fa986b27a9ef92aaaec45744e3a4afd0b12ec5b4eb8b82d078bf75e13a36008f","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel19000 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel19000> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel19000 reference_testchannel19000 '["range","testchannel19000"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel19000 reference_testchannel19000 '["range","testchannel19000"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.test.network:7051 peer chaincode query -n reference_testchannel19000 -C testchannel19000 -c '{"Args":["range","testchannel19000"]}'
[{"key":"testchannel19000","value":"testchannel19000"}]
[1;32mOK: Chaincode reference_testchannel19000 invoked sucsessfuly.[m[m[m
Step 34_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14914 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel14914 sberbank VERIFY: test-channel-exists.sh testchannel14914 sberbank
[1;36mCreating testchannel14914 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyMX0.vnsl-em3qqzSh3jGpd9zH5fT_5nf-ddxGFSFBLeMiuU
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}}}] 200
[1;32mOK: Channel <testchannel14914> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14914> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:22.905 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:22.907 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:35:22.909 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:35:22.909 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14914",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:35:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14914> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel14914 alpha
[1;34m
Verifing if the <testchannel14914> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:23.476 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:23.478 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel14914 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel14914 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel14914 sberbank
[1;36mCreating ^^^^^^testchannel14914 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyM30.KT-8me37Od3CJiplhyRLbUD1stXPzfVOBycs4Zb3EkY
curlGetIt got _ "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters"500 _ result
body is "initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters", code is 500
"initializing configtx manager failed: bad channel ID: channel ID '^^^^^^testchannel14914' contains illegal characters" 500
parse error: Unfinished string at EOF at line 1, column 13
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel14914> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:24.951 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:24.952 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel14914> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14914 alpha VERIFY: test-channel-does-not-exist.sh testchannel14914 alpha
[1;36mCreating testchannel14914 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel14914","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNX0.Y6DXUEElw_9wpFWmbc9rsnABtNGbbCIHOCBxI3jL318
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14914> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:26.491 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:26.493 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel14914-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel14914-02 alpha VERIFY: test-channel-exists.sh testchannel14914-02 alpha
[1;36mCreating testchannel14914-02 channel in alpha.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel14914-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkyNn0.cC2oXYp0Fh3ST_4pL14W_W2YHX8-nUvrFpY0tpYbzvY
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}}}] 200
[1;32mOK: Channel <testchannel14914-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel14914-02> channel exists in alpha.test.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:28.733 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:28.740 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:35:28.742 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:35:28.742 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel14914-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:35:27Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel14914-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel14914-02 sberbank
[1;34m
Verifing if the <testchannel14914-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:29.619 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:29.623 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel14914-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel14914-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel14914-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel14914-02 sberbank
[1;36mCreating testchannel14914-02 channel in sberbank.test.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel14914-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMH0.TUdfmoiDNWktpv-xCy3_ovctabvWvAPZkdHjOELReSk
curlGetIt got _ "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied"500 _ result
body is "config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied", code is 500
"config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel14914-02> channel exists in sberbank.test.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:31.878 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:31.884 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel14914-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14914 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14914 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel14914> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14914 sberbank alpha VERIFY: test-channel-add-org.sh testchannel14914 sberbank alpha
[1;36mAdd alpha to the testchannel14914 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjkzMn0.Ss5_ZAQjLL79dP7iOuDO04zbPKjlGEK42aoKfZRoSlg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel14914 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel14914 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:40.827 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:40.830 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:35:40.832 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:35:40.832 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNIekNDQWNhZ0F3SUJBZ0lSQUpFS3BUZ1hpejVPL1FHamc0ZUJFN0V3Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dYVEVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhJVEFmQmdOVkJBTU1HRUZrYldsdVFHRnNjR2hoTG5SbGMzUXVibVYwCmQyOXlhekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCRzR3RlRWYmdrRG02YlpyamtZelVYNDIKZm9IQmJEMWMrMCtLU082ejgyVWd1eHFpUHQ4clg3NnYra1phMExWdjIvSmk1bFAwNU1DYzE4Z0FhWEtyU29pagpUVEJMTUE0R0ExVWREd0VCL3dRRUF3SUhnREFNQmdOVkhSTUJBZjhFQWpBQU1Dc0dBMVVkSXdRa01DS0FJT3p2ClpEcXp2M3ZURWx0Q0N5dXVRZDVzNWhZUzdLbGF2NUFyZXRUQTVUVnZNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUMKSUhaZEVobzN0R00wVmZ0eDhDRnIrNUVnWlZUdjRrQ3RIeWpuMGZVMXhtbUtBaUJFUDZEZ3F0Nmx3aFp6UTFicApaQmd2ajRBOG1weEhURWx0eU0zSm5IWkhyUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNXVENDQWdDZ0F3SUJBZ0lSQUs3YTRZdkY2aVZubzAycWxKOURkWG93Q2dZSUtvWkl6ajBFQXdJd2R6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlTUJ3R0ExVUVBeE1WClkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNQjRYRFRJd01ETXlNVEl3TVRRd01Gb1hEVE13TURNeE9USXcKTVRRd01Gb3dkekVMTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVgpCQWNURFZOaGJpQkdjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVlCk1Cd0dBMVVFQXhNVlkyRXVZV3h3YUdFdWRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkkKemowREFRY0RRZ0FFems5VGQwYkhYaWtUK2x3Sk01ZUhRcjNOTEJoaE5idVU5RllHT0hBOHhDNWhoZFBqNjZRagpxRjVzNnZuR3JDRi9aSWRnckswSk5CZmxKSTh5RDJaclY2TnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0cKQTFVZERnUWlCQ0RzNzJRNnM3OTcweEpiUWdzcnJrSGViT1lXRXV5cFdyK1FLM3JVd09VMWJ6QUtCZ2dxaGtqTwpQUVFEQWdOSEFEQkVBaUFnYUg3YXFvUFlvYWY3QWIwcHJWVFZ2RGtTNWtaeGJrbTVCYkw5ckdPdkZBSWdSWE9yCnAzdG1CcDFMMXEwbjFoaW5VRWpIOGJwK3U0S2lEZVpVTkFuZUtVTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZRENDQWdhZ0F3SUJBZ0lSQU16c2lzUUdCRkNGaUtmL0FUdGFJZkl3Q2dZSUtvWkl6ajBFQXdJd2VqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHekFaQmdOVkJBb1RFbUZzY0doaExuUmxjM1F1Ym1WMGQyOXlhekVoTUI4R0ExVUVBeE1ZCmRHeHpZMkV1WVd4d2FHRXVkR1Z6ZEM1dVpYUjNiM0pyTUI0WERUSXdNRE15TVRJd01UUXdNRm9YRFRNd01ETXgKT1RJd01UUXdNRm93ZWpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVQpCZ05WQkFjVERWTmhiaUJHY21GdVkybHpZMjh4R3pBWkJnTlZCQW9URW1Gc2NHaGhMblJsYzNRdWJtVjBkMjl5CmF6RWhNQjhHQTFVRUF4TVlkR3h6WTJFdVlXeHdhR0V1ZEdWemRDNXVaWFIzYjNKck1Ga3dFd1lIS29aSXpqMEMKQVFZSUtvWkl6ajBEQVFjRFFnQUV2aUtuY2wwRkNLN1hLKzFkUUpxT2xmc2U3TlJUNU5wZjY0OWFOcS9ZQnVPSwoyYmRwNjgvMXNVWFQ3N3l0R3lQVVY0R2owcWR3M3A5RFIxeEY5N2srdTZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFECkFnR21NQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01Da0dBMVVkRGdRaUJDQ1MrY05vUWlYbSs2QVE0NjE2R0JwdFdLbFJzT1NaZk03bnhxSVlHUTJsMGpBSwpCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUFvT05YbDQ5U0hmSTBVMVhtdENHMGRZOExQSWR3MUtDTXc0OFpnVWFtCmN4b0NJREJVa2x4NklPbXFSVmpyeE4xL1NRWXhqcTBwZGNaVmYxRG5GdmxxRGE4RQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel14914>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel14914-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel14914-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel14914-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel14914-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel14914-02 alpha sberbank
[1;36mAdd sberbank to the testchannel14914-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk0MX0.MO-US39JUAM2ljqTp94oVAWLPXG-p1LZiQIKgpYOsdk
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel14914-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel14914-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:49.801 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:35:49.806 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:35:49.807 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:35:49.807 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRWGpvSTdSdGQ2RHFtc1FSSXVObzJ6ekFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzV6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQXhOREF3V2hjTk16QXcKTXpFNU1qQXhOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU5a0NBM080azJNN0gKbFlmYmRMcDhicHJqRTdlUGVvdlFvYVJaMWxXb2Rva0ZxVjdZTTlDaW0wU1VoeWZWVU10Vysrd0xkU1BVUlZTSgo4TDF4bmQwdkJLTk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnNmcrM3hBVVdqS0JGaWtOa2JYYy9YemZ3cXgrT3ZHaDJMY0YvZjFBdE9iNHdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnTGlYQkhHZU03QmVXajJMcDl2K3pBZWFWeHNCN0lwREx6MTd4d3k4cTkzQUNJRnFYbjFoWApvTlRuejN4VTBPUjVnUW9nTWorbEpUTFhVKyt3MUtkVTczUDgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "${SIGNATURE_HASH_FAMILY}"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQUw1bEJUbXQ1aGlxUWM4WkpESzh5MVl3Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGWE5pWlhKaVlXNXJMblJsYzNRdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1YzJKbGNtSmhibXN1ZEdWemRDNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdNVFF3TUZvWERUTXcKTURNeE9USXdNVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZYTmlaWEppWVc1ckxuUmxjM1F1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVjMkpsY21KaGJtc3VkR1Z6ZEM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXd6U1BOSzJsdHJJWmNNS3hZTFBlajI4aDNzcTB1Nk1lVlVuRwpqRjdLbzlwQmp3U3VENFBtcDdjZXN5bzQyTFd6UFZ6cGl0clljdGlBYzQrSVBEQ2pFNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNEcUQ3ZkVCUmFNb0VXS1EyUnRkejlmTi9Dckg0NjhhSFl0d1g5LwpVQzA1dmpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTJYNmRXTGNJNDRNakg4TXZoNldjNkpWbmlXZGlPWXppCjlWdy8yOG1SS1pzQ0lDS25JZ2c0bEVSdFFib2hXTEpHVWZDb0Y0alFMQlJCQ1JjRjVObEdjSDIyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiVENDQWhTZ0F3SUJBZ0lSQVBBYlBXRVlSRlZCVmxhODZ5TUh6NGN3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZ6WW1WeVltRnVheTUwWlhOMExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExuTmlaWEppWVc1ckxuUmxjM1F1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURFME1EQmEKRncwek1EQXpNVGt5TURFME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WYzJKbGNtSmhibXN1CmRHVnpkQzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNXpZbVZ5WW1GdWF5NTBaWE4wTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWVphU25TL28rbVo0cjg3aGtiYkdRTFRYaQoyNzdOOXY0NFV0ekhsRURCSngxZjJZR0d5V3FNRllXL1NrcVlmUmF2Zy9RSXozRkFDZkdEckxrTkVMWVVvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUNVN0JBbEVMK1FRSmlSVmlCSG1aS1UyZFhCbApYR1NNdnc1KzVQeEtVczBPTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUdUTEZqeENpVmt5UmRGbnVnUW5XOEdNCjhEdklEVFNZbU9NdXFPSk45VzBzQWlBNnExdjI4MmFoRUlCNEdLM3JuV2IzTFJKTmZMNUx6NzFrS1ZyTExXa1YKTlE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel14914-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel14914> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914 sberbank VERIFY: test-join-channel.sh testchannel14914 sberbank
[1;36mJoining sberbank.test.network to the testchannel14914 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1MH0.Km6E9SzK6HmUJmBiHB69e4ffKa-vBm8I5LkHaCb1mZE
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.test.network:7051","name":"peer0.sberbank.test.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.test.network:7051","grpc.default_authority":"peer0.sberbank.test.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel14914> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:51.944 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel14914> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel14914> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914 alpha VERIFY: test-join-channel.sh testchannel14914 alpha
[1;36mJoining alpha.test.network to the testchannel14914 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel14914 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Mn0.kz9-DeQHHDHYTwNSFSxbTEY-9SAh7OMln7A2kPXfZXc
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel14914> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:53.532 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 11_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel14914-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914-02 sberbank VERIFY: test-join-channel.sh testchannel14914-02 sberbank
[1;36mJoining sberbank.test.network to the testchannel14914-02 channel using API...[m[m[m
[1;36mJoining sberbank.test.network to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel14914-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1M30.2zT4wiJvacy4YAr31UMBsz4l2qJxuUckYKTT21VyxPI
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
join channel REST query returned: "Invalid results returned ::FORBIDDEN" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel14914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:35:54.853 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 12_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel14914-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel14914-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel14914-02 alpha VERIFY: test-join-channel.sh testchannel14914-02 alpha
[1;36mJoining alpha.test.network to the testchannel14914-02 channel using API...[m[m[m
[1;36mJoining alpha.test.network to the testchannel14914-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel14914-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1NX0.dh_6CZVGMfZopQaDlIYe4nIHEa8SUvCVeymJPkS-D0s
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.test.network:8051","name":"peer0.alpha.test.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.test.network:8051","grpc.default_authority":"peer0.alpha.test.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel14914-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:35:56.349 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel14914-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14914 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel14914> channel'
RUNTEST: chaincode-install.sh testchannel14914 sberbank VERIFY: test-chaincode-installed.sh testchannel14914 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk1Nn0.SI0rW6rwwNYzD0aW974O9yk18yG0-HDZHkeGEpyP6sQ
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14914/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14914/index.js (deflated 27%)
adding: reference_testchannel14914/package.json (deflated 41%)
adding: reference_testchannel14914/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:35 /tmp/reference_testchannel14914.zip
/tmp/reference_testchannel14914.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel14914:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14914' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel13826, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel13826, Id: da0bf4dc29f7a6aba51ac64f4bc1ca4761fec69b664a7d81c2fd54d517b094b5
Name: reference_testchannel14914, Version: 1.0, Path: /tmp/reference_testchannel14914, Id: 4d66b73249dbd9fce339ab6fd118b2f81ce10a1e57f181bb7155ab05f531a944
Name: reference_testchannel19000, Version: 1.0, Path: /tmp/reference_testchannel19000, Id: 4ed0ec1af18c94a0b1494c1bc24bd50acad828ac41e9d4590700bfc257e71740
Name: reference_testchannel27267, Version: 1.0, Path: /opt/chaincode/node/reference_testchannel27267, Id: 2a843f9b1bbd4f2fe90d45905dfd57efeeeae0f007069a7c34cd7d5112517576
reference_testchannel14914
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel14914-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel14914-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel14914-02> channel'
RUNTEST: chaincode-install.sh testchannel14914-02 alpha VERIFY: test-chaincode-installed.sh testchannel14914-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2MH0.aJ5khrYOioOY9LqSfpF4S2Uq2UfRmU37uwfKA8HfrQM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel14914-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel14914-02/index.js (deflated 27%)
adding: reference_testchannel14914-02/package.json (deflated 41%)
adding: reference_testchannel14914-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:36 /tmp/reference_testchannel14914-02.zip
/tmp/reference_testchannel14914-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel14914-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel14914-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/test.network/msp/tlscacerts/tlsca.test.network-cert.pem[m[m[m
^C[1;31mError occurred. See console output above.[m[1;33m[m

[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
Step 15_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel14914 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel14914 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel14914> channel'
RUNTEST: chaincode-instantiate.sh testchannel14914 sberbank VERIFY: test-chaincode-instantiated.sh testchannel14914 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMjk2M30.DLLlZpU1LiOywXJ5VqNBtx5s-4UtwMr4H3bM3edp_tc
[1;32mOK: JWT token obtained.[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19656 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel19656 org1 VERIFY: test-channel-exists.sh testchannel19656 org1
[1;36mCreating testchannel19656 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkxNn0.T03JDvusDEJ0zlseR5LeVBQSpU4lpSaSNvQ49jw3ar4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel19656> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19656> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:51:59.321 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:51:59.323 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:51:59.324 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:51:59.324 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19656",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:51:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19656> exists and visible to org1[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656 org2
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel19656 org2
[1;34m
Verifing if the <testchannel19656> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:00.008 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:00.010 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656> does not exist and in not visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel19656 org1
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel19656 org1 VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel19656 org1
[1;36mCreating ^^^^^^testchannel19656 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyMH0.0sNphqSw92saDLQM_e9EDb3QXOK0a2_O7EmZwimUCaA
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel19656\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel19656> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:02.574 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:02.576 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel19656> does not exist and in not visible to org1[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656 org2
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19656 org2 VERIFY: test-channel-does-not-exist.sh testchannel19656 org2
[1;36mCreating testchannel19656 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyM30.KZjpMEmFsS0VCWt9oLFMKqZ0rybsFjafoxPPJIr3TQ0
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19656> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:05.557 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:05.559 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656> does not exist and in not visible to org2[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel19656-02 org2
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel19656-02 org2 VERIFY: test-channel-exists.sh testchannel19656-02 org2
[1;36mCreating testchannel19656-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel19656-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyNn0.MMngHougjEg-CmDnQmtN7VhcIT8IF6sKt_fnDbaxxs0
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel <testchannel19656-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel19656-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:08.608 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:08.612 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 20:52:08.614 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 20:52:08.614 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel19656-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T20:52:07Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel19656-02> exists and visible to org2[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656-02 org1
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel19656-02 org1
[1;34m
Verifing if the <testchannel19656-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:09.318 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:09.321 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656-02> does not exist and in not visible to org1[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel19656-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel19656-02 org1
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel19656-02 org1 VERIFY: test-channel-does-not-exist.sh testchannel19656-02 org1
[1;36mCreating testchannel19656-02 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel19656-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkyOX0.MEnv1TZNg-yFDAva_oethY4LHhtsBtK43jvRu3kj6OM
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel19656-02> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:11.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:11.876 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel19656-02> does not exist and in not visible to org1[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19656 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19656 org1 org2
Step: 8_api Test 'Add <org2> to channel <testchannel19656> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19656 org1 org2 VERIFY: test-channel-add-org.sh testchannel19656 org1 org2
[1;36mAdd org2 to the testchannel19656 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzMn0.Vl1nhMzfZyylJyoe4w3kO8OAzr9bxMiTwnKJ5HdCqYs
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel19656 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel19656 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:15.124 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:15.126 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:52:15.129 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:52:15.129 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQVA2NGxVREhpSytmeEN5MEc2eHViZXd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk9kMkxDMnhKOHF6YUJOSzUrNDJNOGQwUXIxSFdvQXQKK3BRMEtLT09Idm04Sklzb0xDRTVmU1RVdFZsNURtVUNsUVZ1c3BDc2c0NWMrM2RHY1ZFWFZlR2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUIvTEFRYW53Z1R5CkZWZk44N3ZNbmFDdDE2SlFFcDhtdUJpYnhrcDRRRUt1TUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEeDVkK1kKNC9vMnJzakpTWjVhRkZxaXRYSVh4eU1tbG9VeXFzY3UxTlRObmdJZ05WS2RTNTkvbGVFQml6b0t2TjJXekNLSgpmUlVLNUtDQmJkV0NEa0loTkJRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTVNzeUxVTkZHNnA2K2hNeHRhUXpsakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TWpFeU1EUTBNREJhRncwek1EQXpNVGt5TURRME1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKSEVSZGxENjFob2dVd0lrNFlOdHl0N2ozb1UveVhZS1VneEZER0Y0TVZLbjFJR25xb3ZKQTcyM1ErQzFVVGUyUApZMGorWVJiWEtXK1BkNVNUYzNaR05hTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQWYKeXdFR3A4SUU4aFZYemZPN3pKMmdyZGVpVUJLZkpyZ1ltOFpLZUVCQ3JqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBeWsvOFZlZjduNXJObXVJOThmeXFxN1BQTWppWVhuK0FiUjc1UkswNER1a0NJQ3JuQngxTEE2NFdReVZRCnZwdTlPcnYvRzBKOURxZFRDWGl2VXFxRnJBQ0YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRRFBqS2tsRWR0dkNLU1pCUEkxU2JaekFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qRXlNRFEwTURCYUZ3MHpNREF6TVRreU1EUTAKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVuMm9pQWJyV1F6Rlk0aGxLaHZDWEZxTjJFMndSd0hFVkdSV3BpSi8yRjZyUWdTaGFVWHZOSjN6MQp6aEtZRkFlTkQxZWVDSkR0bUwyZWdzUnVEZk1OVjZOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQTVyU3BBeXpya0ZLRlNha0E1UkdzOVRpOFlHQ2tVMFFaWTFxYmIxWGw1cURBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUF6Uk1UR1pEK3NMNFovZE1iV1A4bkppcmRGRDA5ZHkvcEhqc1FzSXZYZ2VzQ0lFWm5udHhuCkVOc0xUalRRM0tQSWVxeisyeVJDd2xmTW1DNXlidTlrR0xEdwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel19656>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel19656-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel19656-02 org2 org1
Step: 9_api Test 'Add <org1> to channel <testchannel19656-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel19656-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel19656-02 org2 org1
[1;36mAdd org1 to the testchannel19656-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzNX0.ZVZ-3r801mXUFComKs9sNxb3Dz4WGrFpaKcPlFqbcT8
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel19656-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel19656-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:52:18.265 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 20:52:18.268 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 20:52:18.270 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 20:52:18.270 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHakNDQWNDZ0F3SUJBZ0lSQUpBcld0UDJKQ2NMOCtsMzFBQnhKand3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQk1NWDdiUzc5Q0l6T0J3U0M4WmE1MjJ4SUVocVZxcEoKVnVoeEc5Uy9Jeml5ZjZVSmQzODFDYXFqcndHTEhnd3cyRC84Wk1ud1Rya05McllGLzM1Rys2NmpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUY1U3dWTUF5eDN0CitqcHpSRGpJZXpoNytGaXdpQWsxZjhKV0lDeWVrWFRMTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFER2dmQUcKOHN3S3gyTzZLZG9XaVFIWUljdHJCNUJIbGU4MEhCY1pyVnU3L2dJZ0N2WVp3TXZ2V3FaMGpGTFRuRXUvN3BaQQpmY3BSaXFDT2FIUHA4NlR0LzB3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQVBCNGFsS3V4NWYzUGVVemxBQlBjOW93Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpJeE1qQTBOREF3V2hjTk16QXdNekU1TWpBME5EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk92NlUzTzVTOTJjb2ZJZEFoNjVjZVlvdUdrMUwwNXRYTWFiSTYweUZjbFYvdVlQaXcvMzhEaHBwZVkxK3pSYworK3hod3c4dGJTVzRDY2xZZmlpR1Q3K2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKWGxMQlV3RExIZTM2T25ORU9NaDdPSHY0V0xDSUNUVi93bFlnTEo2UmRNc3dDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnTE9ZTWdEdXZMZXFnZmFtMFJETGVndVlZWi9GcDd2Qjh2MnNGS3hjbzlrTUNJR00zaXZuYUI4UENKeFgyCjdMV0hSWTBQSjE0OFUvYUtnVlVYeERvTk05V1YKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWakNDQWYyZ0F3SUJBZ0lRY1FNaHYzczVYOU1vSFhaaVFlS1ZRREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1qRXlNRFEwTURCYUZ3MHpNREF6TVRreU1EUTAKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUV0R3RkQXBodzZaSTNpbWlVY0NFekphbVFBRHAzOW1sWXR3bEx4Tlk3ZmpIa3JuK21sTy9OZEMwawpDcVRma2I0dzBTUDh1UnJ4cEg3RnRBak5XSnpWZHFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQTBMUHBIV3RCemtnaWlYckltSUFySUhpOUM5aVRiY0FsYTVKVlY0SCt3NkRBS0JnZ3Foa2pPUFFRRApBZ05IQURCRUFpQTM0TFNBczllczltU2pLclQrN0srR09LYWZPNXp1UlN5RzNHVUJLMFBMK2dJZ0p0YUZEQjNhCjVLanJQTjA5TUFJcTN1Q0JlM3RFc0dneWg0emtSKy9NNGhvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel19656-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656 org1
Step: 10_api Test 'Join <org1> to the <testchannel19656> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656 org1 VERIFY: test-join-channel.sh testchannel19656 org1
[1;36mJoining org1.example.com to the testchannel19656 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzkzOH0.gjlt4LIIFCJErCaXxsZo20ecjKBxNf1uD2-QMpA7-tI
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel19656> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:52:20.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel19656> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656 org2
Step: 11_api Test 'Join <org2> to the <testchannel19656> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656 org2 VERIFY: test-join-channel.sh testchannel19656 org2
[1;36mJoining org2.example.com to the testchannel19656 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel19656 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyMzk0MH0.zvkUyJ5rWgR9QmavbZ3jAcWv8oqMIoFPphB6q8Jhw9U
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel19656> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:54:21.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel19656> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656-02 org1
Step: 12_api Test 'Join <org1> to the <testchannel19656-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656-02 org1 VERIFY: test-join-channel.sh testchannel19656-02 org1
[1;36mJoining org1.example.com to the testchannel19656-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDA2MX0.GXO7TwElXzyj_Iae2qcAOPe5Fz-nrZvAlwouCHEIIwY
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel19656-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 20:56:22.763 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel19656-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel19656-02 org2
Step: 13_api Test 'Join <org2> to the <testchannel19656-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel19656-02 org2 VERIFY: test-join-channel.sh testchannel19656-02 org2
[1;36mJoining org2.example.com to the testchannel19656-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel19656-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel19656-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4M30.3vjZYebF2zVrBMmjn00xC-74F1pZqChnKmuZ77mju1Q
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel19656-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 20:56:24.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel19656-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19656 org1
Step: 14_api Test 'Install test chaincode by <org1> to the <testchannel19656> channel'
RUNTEST: chaincode-install.sh testchannel19656 org1 VERIFY: test-chaincode-installed.sh testchannel19656 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4NX0.GGkMd5dRPHWZTd8r6tgfUtLa96moD0duXKSMK8URbEM
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19656/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19656/index.js (deflated 27%)
adding: reference_testchannel19656/package.json (deflated 41%)
adding: reference_testchannel19656/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 21 23:56 /tmp/reference_testchannel19656.zip
/tmp/reference_testchannel19656.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel19656:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode installed in org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19656' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel19656, Version: 1.0, Path: /tmp/reference_testchannel19656, Id: a02ce43a5f9b29a4558584a6bf9ab9bf11556753a366d893cfe37127502ea01f
reference_testchannel19656
[1;32mOK: The test chaincode installed in org1[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel19656-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel19656-02 org2
Step: 15_api Test 'Install test chaincode by <org2> to the <testchannel19656-02> channel'
RUNTEST: chaincode-install.sh testchannel19656-02 org2 VERIFY: test-chaincode-installed.sh testchannel19656-02 org2
[1;36m
Installing test chaincode in org2...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE4OX0.UUXczSok3zu4hU2xrwGhR77HS4x257jEl--W1dGsF44
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel19656-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel19656-02/index.js (deflated 27%)
adding: reference_testchannel19656-02/package.json (deflated 41%)
adding: reference_testchannel19656-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 21 23:56 /tmp/reference_testchannel19656-02.zip
/tmp/reference_testchannel19656-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel19656-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in org2[m[m[m
[1;34m
Verifing if the test chaincode installed in org2 org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel19656-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel19656-02, Version: 1.0, Path: /tmp/reference_testchannel19656-02, Id: e31c0a92578b34ef823499482b84555861dfa5ed557f8275bfebd6354ced0d46
reference_testchannel19656-02
[1;32mOK: The test chaincode installed in org2[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel19656 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel19656 org1
Step: 16_api Test 'Instantiate test chaincode by <org1> to the <testchannel19656> channel'
RUNTEST: chaincode-instantiate.sh testchannel19656 org1 VERIFY: test-chaincode-instantiated.sh testchannel19656 org1
[1;36m
Installing test chaincode in org1...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/chaincodes {"channelId":"testchannel19656","chaincodeId":"reference_testchannel19656","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDE5M30.6kU2xlaKnXXIIePgt2usCzxG6V4nzdeA7t__mUCM17s
curlGetIt got _ {"txid":"df2866474b164906e562993d8b9349330fb6145240596fe8b6473e79d67ca857","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"df2866474b164906e562993d8b9349330fb6145240596fe8b6473e79d67ca857","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in org1[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel19656 channel by org1 org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel19656' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/tlsca.example.com-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel19656:
Name: reference_testchannel19656, Version: 1.0, Path: /tmp/reference_testchannel19656, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel19656
[1;32mOK: The test chaincode installed in testchannel19656 channel by org1 org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel19656 org1 reference_testchannel19656 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel19656 org1 reference_testchannel19656
Step: 17_api Test 'Test chaincode invocation and query:  <org1> <-> <org2>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel19656 org1 reference_testchannel19656 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel19656 org1 reference_testchannel19656
[1;36m
Invoke test chaincode on the <testchannel19656> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel19656/chaincodes/reference_testchannel19656 {"fcn":"put","args":["testchannel19656","testchannel19656"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDI0MX0.uv624z4e9jQaPIZdo2dtefdkHUdcainZO3QrNIlQPdQ
curlGetIt got _ {"txid":"4801a364cf83366bb5fd9d647204098bce14c8e0adeabb2a58cf161f2e9ef539","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"4801a364cf83366bb5fd9d647204098bce14c8e0adeabb2a58cf161f2e9ef539","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel19656 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel19656> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel19656 reference_testchannel19656 '["range","testchannel19656"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel19656 reference_testchannel19656 '["range","testchannel19656"]'[m[m[m
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query -n reference_testchannel19656 -C testchannel19656 -c '{"Args":["range","testchannel19656"]}'
[{"key":"testchannel19656","value":"testchannel19656"}]
[1;32mOK: Chaincode reference_testchannel19656 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27466 sberbank
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27466 sberbank VERIFY: test-channel-exists.sh testchannel27466 sberbank
[1;36mCreating testchannel27466 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDQ5NX0.sg9ADa0GjdZIKcWlDd7V_xhF_-6CyqfDdwYIGDqPTdg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}}}] 200
[1;32mOK: Channel <testchannel27466> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27466> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:38.587 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:38.592 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 21:01:38.594 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 21:01:38.594 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27466",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T21:01:36Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27466> exists and visible to sberbank[m[m[m
Step 1_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466 alpha
Step: 2_api Test 'The channel is not visible in ORG2'
VERIFY: test-channel-does-not-exist.sh testchannel27466 alpha
[1;34m
Verifing if the <testchannel27466> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:40.223 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:40.232 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466> does not exist and in not visible to alpha[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh ^^^^^^testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh ^^^^^^testchannel27466 sberbank
Step: 3_api Test 'Can not create the channel with incorrect name in ORG1'
RUNTESTNOERRPRINT: create-channel.sh ^^^^^^testchannel27466 sberbank VERIFY: test-channel-does-not-exist.sh ^^^^^^testchannel27466 sberbank
[1;36mCreating ^^^^^^testchannel27466 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"^^^^^^testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwMH0.Re0bdZzPCUuEULeM4UtbM9gw6XFbj9U1GvO0ryia-2Q
curlGetIt got _ "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\""500 _ result
body is "Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\"", code is 500
"Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got \"^^^^^^testchannel27466\"" 500
parse error: Unfinished string at EOF at line 1, column 7
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <^^^^^^testchannel27466> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:43.851 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:43.854 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;32mOK: The channel <^^^^^^testchannel27466> does not exist and in not visible to sberbank[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466 alpha
Step: 4_api Test 'Can not create channel in ORG2 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27466 alpha VERIFY: test-channel-does-not-exist.sh testchannel27466 alpha
[1;36mCreating testchannel27466 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwNH0.jts3CGkf2xa7J8QBX4T97hnCioCaWSKtud2-bPjxwPM
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27466> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:47.660 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:47.663 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466> does not exist and in not visible to alpha[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27466-02 alpha
Step: 5_api Test 'Create another channel in ORG2
RUNTEST: create-channel.sh testchannel27466-02 alpha VERIFY: test-channel-exists.sh testchannel27466-02 alpha
[1;36mCreating testchannel27466-02 channel in alpha.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel27466-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUwOH0.zMxoNniGdrKv6RDPgJ3Yd9i1QXyfFuhkbZ53MInukcg
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}}}] 200
[1;32mOK: Channel <testchannel27466-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27466-02> channel exists in alpha.example.network...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:01:51.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:51.896 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-21 21:01:51.900 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-21 21:01:51.900 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27466-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-21T21:01:49Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27466-02> exists and visible to alpha[m[m[m
Step 5_api: exit code 0
/home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466-02 sberbank
Step: 6_api Test 'This new channel is not visible in ORG1'
VERIFY: test-channel-does-not-exist.sh testchannel27466-02 sberbank
[1;34m
Verifing if the <testchannel27466-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:53.352 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:53.356 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466-02> does not exist and in not visible to sberbank[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27466-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-does-not-exist.sh testchannel27466-02 sberbank
Step: 7_api Test 'Can not create channel in ORG1 with the same name'
RUNTESTNOERRPRINT: create-channel.sh testchannel27466-02 sberbank VERIFY: test-channel-does-not-exist.sh testchannel27466-02 sberbank
[1;36mCreating testchannel27466-02 channel in sberbank.example.network using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27466-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxNH0.8293ALL1ZS_mwDp90zY6wJW1sNJraetg6TKr1jyaOYU
curlGetIt got _ "Invalid results returned ::FORBIDDEN"500 _ result
body is "Invalid results returned ::FORBIDDEN", code is 500
"Invalid results returned ::FORBIDDEN" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27466-02> channel exists in sberbank.example.network...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:01:57.605 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:01:57.611 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{FORBIDDEN}
Error: can't read the block: &{FORBIDDEN}
null
[1;32mOK: The channel <testchannel27466-02> does not exist and in not visible to sberbank[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27466 sberbank alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27466 sberbank alpha
Step: 8_api Test 'Add <alpha> to channel <testchannel27466> created by the <sberbank> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27466 sberbank alpha VERIFY: test-channel-add-org.sh testchannel27466 sberbank alpha
[1;36mAdd alpha to the testchannel27466 channel using API...[m[m[m
[1;36mAdd alpha to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/orgs {"orgId":"alpha","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUxOH0.ma_Nj6NvvIyi7IsW27tZjgRPvdWDZnBetGwOOWIn-Tc
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization alpha added to testchannel27466 channel[m[m[m
[1;34m
Verifing if the <alpha> added to testchannel27466 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:02:02.236 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:02:02.241 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 21:02:02.242 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 21:02:02.242 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNKekNDQWM2Z0F3SUJBZ0lRRWtoSFZ2OUkwM0tIRlJoUy9Cd1dqVEFLQmdncWhrak9QUVFEQWpCOU1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RWVNQndHQTFVRUNoTVZZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTVNFd0h3WURWUVFECkV4aGpZUzVoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zd0hoY05NakF3TXpJeE1qQTFOREF3V2hjTk16QXcKTXpFNU1qQTFOREF3V2pCZ01Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFVwpNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFa01DSUdBMVVFQXd3YlFXUnRhVzVBWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUU0NmZ5NWo4TVVmOW8KcnRvY3BwSTRyYmdHbzBKcVdRdjF3UU1pMnltaDIxeGZnNVJOTG9TN28xUHk2R0NpeVBSWkJtSGUzdjdRc0srWApmL3A5NkpZSHk2Tk5NRXN3RGdZRFZSMFBBUUgvQkFRREFnZUFNQXdHQTFVZEV3RUIvd1FDTUFBd0t3WURWUjBqCkJDUXdJb0FnS0RFVnJQT0pWa0ZWelh2TkNKL3U5MjV4TUZLV3lIZUxsODZaNHlhdTk3TXdDZ1lJS29aSXpqMEUKQXdJRFJ3QXdSQUlnUVgzY3A5SG1vWEN2OEJZdHNFbElseVMwQXNYaDFFRWpYTG9nakF0SE02Y0NJSGU4cjRYUgpyZ0k0bXpTWjRnSDNFRjVnZmQ4NFhHTkZ2L1hYZytHQk5IMlQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "alpha",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNaakNDQWd5Z0F3SUJBZ0lSQU80WEVCS3VCQzVXUGhKa1c1N215Vm93Q2dZSUtvWkl6ajBFQXdJd2ZURUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhIakFjQmdOVkJBb1RGV0ZzY0doaExtVjRZVzF3YkdVdWJtVjBkMjl5YXpFaE1COEdBMVVFCkF4TVlZMkV1WVd4d2FHRXVaWGhoYlhCc1pTNXVaWFIzYjNKck1CNFhEVEl3TURNeU1USXdOVFF3TUZvWERUTXcKTURNeE9USXdOVFF3TUZvd2ZURUxNQWtHQTFVRUJoTUNWVk14RXpBUkJnTlZCQWdUQ2tOaGJHbG1iM0p1YVdFeApGakFVQmdOVkJBY1REVk5oYmlCR2NtRnVZMmx6WTI4eEhqQWNCZ05WQkFvVEZXRnNjR2hoTG1WNFlXMXdiR1V1CmJtVjBkMjl5YXpFaE1COEdBMVVFQXhNWVkyRXVZV3h3YUdFdVpYaGhiWEJzWlM1dVpYUjNiM0pyTUZrd0V3WUgKS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTRvd1JzYzRJUVdBc1JsNWtXWm15VkdSZ2hmUHFaOVpUbzRBcQo5K3BkSDRVTHRiZzhKeWZmaTdCV1FZR1VZRkowK0x0N1crbG5oajNzTXVSY1h5VHJrNk50TUdzd0RnWURWUjBQCkFRSC9CQVFEQWdHbU1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUNrR0ExVWREZ1FpQkNBb01SV3M4NGxXUVZYTmU4MEluKzczYm5Fd1VwYklkNHVYenBuagpKcTczc3pBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQWxscGQxSi9VUnRCUzJITHc3d1h6c3NpQWJYSTJITnhPCkR4ajZrMXZGTnQ0Q0lHOTQ0SnBIQTRZRFlKcEVqUUw5eU5YU2NueTRBK3BhY1pQTG5kdTYvemNRCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiakNDQWhTZ0F3SUJBZ0lSQU1UMG9XdWFnalAzays3cGI2VEk2Sjh3Q2dZSUtvWkl6ajBFQXdJd2dZQXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNUjR3SEFZRFZRUUtFeFZoYkhCb1lTNWxlR0Z0Y0d4bExtNWxkSGR2Y21zeEpEQWlCZ05WCkJBTVRHM1JzYzJOaExtRnNjR2hoTG1WNFlXMXdiR1V1Ym1WMGQyOXlhekFlRncweU1EQXpNakV5TURVME1EQmEKRncwek1EQXpNVGt5TURVME1EQmFNSUdBTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVlTUJ3R0ExVUVDaE1WWVd4d2FHRXVaWGhoCmJYQnNaUzV1WlhSM2IzSnJNU1F3SWdZRFZRUURFeHQwYkhOallTNWhiSEJvWVM1bGVHRnRjR3hsTG01bGRIZHYKY21zd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRRkRIMXBpT3RBcVcrM3F2bjdBQjIycWN2TgpDU000bXF3YVJ6WmFnY3g4ZWIxUTBQNWpXVzJHdGU1b0xCYW5aTjdHWVRETkIybDlEOHo2K1Uwd1l4bFZvMjB3CmF6QU9CZ05WSFE4QkFmOEVCQU1DQWFZd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3SUdDQ3NHQVFVRkJ3TUIKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3S1FZRFZSME9CQ0lFSUJ5UFk2UDBzbGliMnZhTVRUN3dDTmZBQ0ppNApsTzE3dExlYTIrTE9MNkMzTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEYldZV1p3RnJ6T0YwcFREcFUzV0ZpClRKWWp2M0t4VUJmc2VOUUZUUUJJelFJZ2RRSTFYeTlSMGU2MDF3Zk9GWlRoMDZSWHMvM296aFRWZ0hLY1lZWHoKYUh3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
alpha
[1;32mOK: Organization <alpha> is in the channel <testchannel27466>.[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27466-02 alpha sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27466-02 alpha sberbank
Step: 9_api Test 'Add <sberbank> to channel <testchannel27466-02> created by the <alpha> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27466-02 alpha sberbank VERIFY: test-channel-add-org.sh testchannel27466-02 alpha sberbank
[1;36mAdd sberbank to the testchannel27466-02 channel using API...[m[m[m
[1;36mAdd sberbank to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466-02/orgs {"orgId":"sberbank","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUyM30.j8tq9kCVEdX-DI7NJEk_lHSTUEZoOiecC6OVgc91A1A
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization sberbank added to testchannel27466-02 channel[m[m[m
[1;34m
Verifing if the <sberbank> added to testchannel27466-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:02:12.109 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-21 21:02:12.115 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-21 21:02:12.117 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-21 21:02:12.117 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNNekNDQWRtZ0F3SUJBZ0lSQUtLaUVzY2VUVS84aFZtOGZEbnd0bjR3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpFeU1EVTAKTURCYUZ3MHpNREF6TVRreU1EVTBNREJhTUdNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cApabTl5Ym1saE1SWXdGQVlEVlFRSEV3MVRZVzRnUm5KaGJtTnBjMk52TVNjd0pRWURWUVFEREI1QlpHMXBia0J6ClltVnlZbUZ1YXk1bGVHRnRjR3hsTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkMKQUFTSzYxQmhZazY5bWhzdkllV0lNYWpGZG94MDJaanFQOFVIckVHOW1TVzB4U2VOTnNnVnkvVGg2Ly85SDZyWgp5OEs0YVZPUDQxekQ5d3lIN0FCd2RkRW1vMDB3U3pBT0JnTlZIUThCQWY4RUJBTUNCNEF3REFZRFZSMFRBUUgvCkJBSXdBREFyQmdOVkhTTUVKREFpZ0NEbW9ucEpNbmZJSkhQL1JEOWlxdFJnRFkvUERQeTR4NDZFK0lhK3pnREMKbXpBS0JnZ3Foa2pPUFFRREFnTklBREJGQWlFQTVYRlRSUTVsbGpsUzNxY3ZaOTB4Vzh5eldkcmR5dXVWUml6ZApBS09tdXE4Q0lINSs4OWZzUVNxZWhrTWkxdkNtTEZsNmFSS1RTOWRuWklpMmdYb0g3R0ZFCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "sberbank",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNjekNDQWhxZ0F3SUJBZ0lSQUoxUGVpcHpQZ0hDVVBNa05mT243WUV3Q2dZSUtvWkl6ajBFQXdJd2dZTXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKREFpCkJnTlZCQU1URzJOaExuTmlaWEppWVc1ckxtVjRZVzF3YkdVdWJtVjBkMjl5YXpBZUZ3MHlNREF6TWpFeU1EVTAKTURCYUZ3MHpNREF6TVRreU1EVTBNREJhTUlHRE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGcwphV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeVlXNWphWE5qYnpFaE1COEdBMVVFQ2hNWWMySmxjbUpoCmJtc3VaWGhoYlhCc1pTNXVaWFIzYjNKck1TUXdJZ1lEVlFRREV4dGpZUzV6WW1WeVltRnVheTVsZUdGdGNHeGwKTG01bGRIZHZjbXN3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVNJWnJSSENzTjZ4dHpYcUN1OApUT2lHK1FDekdUakl1em0vUWZzSUpaYnRQY3Y2b1NJd2xoRFRGeUhXMTRCZ0x4TldsNHFDZ21QMnBoUDFod0xlCk9YSFRvMjB3YXpBT0JnTlZIUThCQWY4RUJBTUNBYVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0cKQVFVRkJ3TUJNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdLUVlEVlIwT0JDSUVJT2FpZWtreWQ4Z2tjLzlFUDJLcQoxR0FOajg4TS9Makhqb1Q0aHI3T0FNS2JNQW9HQ0NxR1NNNDlCQU1DQTBjQU1FUUNJRjlkVElRdG1tTFpZeFdnCkIwMXh1Y0RzYVE5Mi9YOW5qU0JSb0RPSG92VE5BaUJCMnZuZmlMYW5PZmdZNnNwcGlYUFNpWFdLbnRtZmZ1SFYKcVorQWZFRWlNZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNlakNDQWlDZ0F3SUJBZ0lSQUlsWGpwdzVuNXFlUk85NTVhTUZPNE13Q2dZSUtvWkl6ajBFQXdJd2dZWXgKQ3pBSkJnTlZCQVlUQWxWVE1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUll3RkFZRFZRUUhFdzFUWVc0ZwpSbkpoYm1OcGMyTnZNU0V3SHdZRFZRUUtFeGh6WW1WeVltRnVheTVsZUdGdGNHeGxMbTVsZEhkdmNtc3hKekFsCkJnTlZCQU1USG5Sc2MyTmhMbk5pWlhKaVlXNXJMbVY0WVcxd2JHVXVibVYwZDI5eWF6QWVGdzB5TURBek1qRXkKTURVME1EQmFGdzB6TURBek1Ua3lNRFUwTURCYU1JR0dNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNSwpRMkZzYVdadmNtNXBZVEVXTUJRR0ExVUVCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RWhNQjhHQTFVRUNoTVljMkpsCmNtSmhibXN1WlhoaGJYQnNaUzV1WlhSM2IzSnJNU2N3SlFZRFZRUURFeDUwYkhOallTNXpZbVZ5WW1GdWF5NWwKZUdGdGNHeGxMbTVsZEhkdmNtc3dXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBVExNek9oamV4Ywppak83L0hkT1FxMVhKSnc1UTNPRmNyRkxYaERPcGgwSnZoUFBLN2ZYT3FzSlhqNk5SR01zb0N3ajhNbGVBQnoyCjBydVdnQVhMWUowcW8yMHdhekFPQmdOVkhROEJBZjhFQkFNQ0FhWXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUgKQXdJR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0tRWURWUjBPQkNJRUlOTEtudUJMWEtqYgoza1pSb3cvL0hyMm5ucmZzMTUyZ042TWJkYTVSWGdQSk1Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lRQ1RsQ3lBCkpRd1Z2Z2tSbHM4M2ttRWdueHB1aDRBdDloYkthcDYyMUM3c3NnSWdOM2xaRE9UbmVsK1B1citIYkpMVGpDaUcKdWJoWnNHNjBBYlpKMVgyVGxMTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
]
},
"type": 0
}
sberbank
[1;32mOK: Organization <sberbank> is in the channel <testchannel27466-02>.[m[m[m
Step 9_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466 sberbank
Step: 10_api Test 'Join <sberbank> to the <testchannel27466> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466 sberbank VERIFY: test-join-channel.sh testchannel27466 sberbank
[1;36mJoining sberbank.example.network to the testchannel27466 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzMn0.LmeSrPnOeqzXa00ZpGYELpmeaFf3LvZcdqeEJ4I90bo
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.sberbank.example.network:7051","name":"peer0.sberbank.example.network:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.sberbank.example.network:7051","grpc.default_authority":"peer0.sberbank.example.network:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27466> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:02:13.861 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27466> channel[m[m[m
Step 10_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466 alpha
Step: 11_api Test 'Join <alpha> to the <testchannel27466> chanel created by the <sberbank> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466 alpha VERIFY: test-join-channel.sh testchannel27466 alpha
[1;36mJoining alpha.example.network to the testchannel27466 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel27466 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDUzNH0.QUn792P84YfMiOWBIAX0FOoPcwh7JqMiJegR0JK9Z90
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27466> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:04:15.275 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27466> channel[m[m[m
Step 11_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466-02 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466-02 sberbank
Step: 12_api Test 'Join <sberbank> to the <testchannel27466-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466-02 sberbank VERIFY: test-join-channel.sh testchannel27466-02 sberbank
[1;36mJoining sberbank.example.network to the testchannel27466-02 channel using API...[m[m[m
[1;36mJoining sberbank.example.network to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDY1NX0.jVUTi87iikmP3ASJ24cdv8oAFLJ5o-9VKJB5TSJkHow
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the sberbank has joined the <testchannel27466-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-21 21:06:16.667 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The sberbank has joined the <testchannel27466-02> channel[m[m[m
Step 12_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27466-02 alpha
Step: 13_api Test 'Join <alpha> to the <testchannel27466-02> chanel created by the <alpha> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27466-02 alpha VERIFY: test-join-channel.sh testchannel27466-02 alpha
[1;36mJoining alpha.example.network to the testchannel27466-02 channel using API...[m[m[m
[1;36mJoining alpha.example.network to the testchannel27466-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27466-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3N30.nS6DpWX_-I5tA_Fjd3vgZoEtwVa3NDLSIKyJy8ikQ9A
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.alpha.example.network:8051","name":"peer0.alpha.example.network:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.alpha.example.network:8051","grpc.default_authority":"peer0.alpha.example.network:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-basic-functionality-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the alpha has joined the <testchannel27466-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-21 21:06:18.276 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The alpha has joined the <testchannel27466-02> channel[m[m[m
Step 13_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27466 sberbank
Step: 14_api Test 'Install test chaincode by <sberbank> to the <testchannel27466> channel'
RUNTEST: chaincode-install.sh testchannel27466 sberbank VERIFY: test-chaincode-installed.sh testchannel27466 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc3OH0.sIGAP0ztxDh35IeOGbuegQ3r4taJQ_wpzUUc7OJ3JNA
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27466/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27466/index.js (deflated 27%)
adding: reference_testchannel27466/package.json (deflated 41%)
adding: reference_testchannel27466/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12292 Ð¼Ð°Ñ€ 22 00:06 /tmp/reference_testchannel27466.zip
/tmp/reference_testchannel27466.zip
queryContainerNetworkSettings returns: 4000
200
""Chaincode reference_testchannel27466:1.0 successfully installed""
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode installed in sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27466' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27466, Version: 1.0, Path: /tmp/reference_testchannel27466, Id: aa4e21bfe31ae18d6df84b1246efae89a61da57236c072c1d5b742ef56cc71e2
reference_testchannel27466
[1;32mOK: The test chaincode installed in sberbank[m[m[m
Step 14_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-install.sh testchannel27466-02 alpha ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-installed.sh testchannel27466-02 alpha
Step: 15_api Test 'Install test chaincode by <alpha> to the <testchannel27466-02> channel'
RUNTEST: chaincode-install.sh testchannel27466-02 alpha VERIFY: test-chaincode-installed.sh testchannel27466-02 alpha
[1;36m
Installing test chaincode in alpha...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Mn0.cwaOOuElvlGsKpIm7WZRlMvbwcttKeDDAKw1cYiN9O4
[1;32mOK: JWT token obtained.[m[m[m
adding: reference_testchannel27466-02/chaincode-reference.js (deflated 27%)
adding: reference_testchannel27466-02/index.js (deflated 27%)
adding: reference_testchannel27466-02/package.json (deflated 41%)
adding: reference_testchannel27466-02/package-lock.json (deflated 73%)
Chaincode archive created:  -rw-rw-r-- 1 kilpio kilpio 12316 Ð¼Ð°Ñ€ 22 00:06 /tmp/reference_testchannel27466-02.zip
/tmp/reference_testchannel27466-02.zip
queryContainerNetworkSettings returns: 4001
200
""Chaincode reference_testchannel27466-02:1.0 successfully installed""
[1;32mOK: Test chaincode installed in alpha[m[m[m
[1;34m
Verifing if the test chaincode installed in alpha org...[m[m[m
queryContainerNetworkSettings returns: 8051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c /opt/chaincode/node; peer chaincode list --installed -C 'testchannel27466-02' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
bash: /opt/chaincode/node: Is a directory
Get installed chaincodes on peer:
Name: dns, Version: 1.0, Path: /opt/chaincode/node/dns, Id: bf157c353c46c4b41324ef6e2d98e324d91a47e90669d9ca25c945c64f32e6c4
Name: reference, Version: 1.0, Path: /opt/chaincode/node/reference, Id: 1e85b5ab6f0f64e5c88c40da9f6c901e061171774823cf2c2aa8095cec39ce18
Name: reference_testchannel27466-02, Version: 1.0, Path: /tmp/reference_testchannel27466-02, Id: 2ceff97b72ae1ad0db08da1df66cd2ae752f21dae788930014d57bc6f695f16a
reference_testchannel27466-02
[1;32mOK: The test chaincode installed in alpha[m[m[m
Step 15_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-instantiate.sh testchannel27466 sberbank ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-chaincode-instantiated.sh testchannel27466 sberbank
Step: 16_api Test 'Instantiate test chaincode by <sberbank> to the <testchannel27466> channel'
RUNTEST: chaincode-instantiate.sh testchannel27466 sberbank VERIFY: test-chaincode-instantiated.sh testchannel27466 sberbank
[1;36m
Installing test chaincode in sberbank...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/chaincodes {"channelId":"testchannel27466","chaincodeId":"reference_testchannel27466","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDc4Nn0.HBzPo83rRlkbrce0E4aCpvDerCoesoydE2i5-BmVNHw
curlGetIt got _ {"txid":"6c5b8fa7cb241400b9be2e9e7bca4a8f76e218c3532fa28297fd5d75fe8a78d9","status":"VALID","blockNumber":"2"}200 _ result
body is {"txid":"6c5b8fa7cb241400b9be2e9e7bca4a8f76e218c3532fa28297fd5d75fe8a78d9","status":"VALID","blockNumber":"2"}, code is 200
[1;32mOK: Test chaincode installed in sberbank[m[m[m
[1;34m
Verifing if the test chaincode instantiated in channel testchannel27466 channel by sberbank org...[m[m[m
queryContainerNetworkSettings returns: 7051
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c peer chaincode list --instantiated -C 'testchannel27466' -o   --tls --cafile /etc/hyperledger/crypto-config/ordererOrganizations/example.network/msp/tlscacerts/tlsca.example.network-cert.pem[m[m[m
Get instantiated chaincodes on channel testchannel27466:
Name: reference_testchannel27466, Version: 1.0, Path: /tmp/reference_testchannel27466, Input: <nil>, Escc: escc, Vscc: vscc
reference_testchannel27466
[1;32mOK: The test chaincode installed in testchannel27466 channel by sberbank org[m[m[m
Step 16_api: exit code 0
sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-invoke.sh testchannel27466 sberbank reference_testchannel27466 ;sleep 15 ; NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/chaincode-query.sh testchannel27466 sberbank reference_testchannel27466
Step: 17_api Test 'Test chaincode invocation and query:  <sberbank> <-> <alpha>'
RUN: sleep 15 RUNTEST: chaincode-invoke.sh testchannel27466 sberbank reference_testchannel27466 RUN: sleep 15 RUNTEST: chaincode-query.sh testchannel27466 sberbank reference_testchannel27466
[1;36m
Invoke test chaincode on the <testchannel27466> channel'[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27466/chaincodes/reference_testchannel27466 {"fcn":"put","args":["testchannel27466","testchannel27466"],"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDgyNDgzMn0.E_9KKqNsPOGdMmY-yZS8GZNdd77Ap9ZPUMemCV23bNQ
curlGetIt got _ {"txid":"46c8f6a464ee19dfcd9436fd8a6fd5d2f02c32b472aa7687b2cf0f9c5539d10e","status":"VALID","blockNumber":"3"}200 _ result
body is {"txid":"46c8f6a464ee19dfcd9436fd8a6fd5d2f02c32b472aa7687b2cf0f9c5539d10e","status":"VALID","blockNumber":"3"}, code is 200
[1;32mOK: Chaincode reference_testchannel27466 invoked sucsessfuly.[m[m[m
[1;36m
Query test chaincode on the <testchannel27466> channel'[m[m[m
queryContainerNetworkSettings returns: 7051
eval ./chaincode-query.sh testchannel27466 reference_testchannel27466 '["range","testchannel27466"]'
[1;32mExecute: docker-compose -f ./docker-compose.yaml    run --no-deps --rm cli.peer bash -c container-scripts/network/chaincode-query.sh testchannel27466 reference_testchannel27466 '["range","testchannel27466"]'[m[m[m
CORE_PEER_ADDRESS=peer0.sberbank.example.network:7051 peer chaincode query -n reference_testchannel27466 -C testchannel27466 -c '{"Args":["range","testchannel27466"]}'
[{"key":"testchannel27466","value":"testchannel27466"}]
[1;32mOK: Chaincode reference_testchannel27466 invoked sucsessfuly.[m[m[m
Step 17_api: exit code 0
