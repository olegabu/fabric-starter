NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel6246 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel6246 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel6246 org1 VERIFY: test-channel-exists.sh testchannel6246 org1
[1;36mCreating testchannel6246 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY3OX0.LA4QC-AuI41k9QXIoJM8oUPXb4B5IongQYPZ0QUIgaQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY3OX0.LA4QC-AuI41k9QXIoJM8oUPXb4B5IongQYPZ0QUIgaQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY3OX0.LA4QC-AuI41k9QXIoJM8oUPXb4B5IongQYPZ0QUIgaQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel6246","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY3OX0.LA4QC-AuI41k9QXIoJM8oUPXb4B5IongQYPZ0QUIgaQ
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
[{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200
[1;32mOK: Channel <testchannel6246> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel6246> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:44:41.123 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:44:41.127 UTC [cli.common] readBlock -> INFO 002[0m Received block: 3
[34m2020-03-12 08:44:41.128 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 08:44:41.128 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"channel_id": "testchannel6246",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T08:19:50Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel6246> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6246 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6246 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel6246> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6246 org1 org2 VERIFY: test-channel-add-org.sh testchannel6246 org1 org2
[1;36mAdd org2 to the testchannel6246 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel6246 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4MX0.20x2ZAyw7Igi-55KBYyLhQf6rz1nTZLIxzbGLUMpZzI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4MX0.20x2ZAyw7Igi-55KBYyLhQf6rz1nTZLIxzbGLUMpZzI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4MX0.20x2ZAyw7Igi-55KBYyLhQf6rz1nTZLIxzbGLUMpZzI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel6246/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4MX0.20x2ZAyw7Igi-55KBYyLhQf6rz1nTZLIxzbGLUMpZzI
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel6246 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel6246 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:44:44.306 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:44:44.308 UTC [cli.common] readBlock -> INFO 002[0m Received block: 3
[34m2020-03-12 08:44:44.309 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 08:44:44.309 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUpCc0VadHhJTjdtZnF1TURUeU1POWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1EZ3dNekF3V2hjTk16QXdNekV3TURnd016QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkxKT2h5OXBGODYzRm8veXd4QVo0NWhyUmkxby9tZmgKSjJhZ00yQ2JxRkxvV2w1NjVsNWVybFVRVFhJYUg3Tmk0cmwvRGV3Z1M4SHp4ZzZvZ0xyaXFnZWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSVBuRWNkc1Q0bmNwClFSQy9NejR4b3I3cXFFMEVFV2NOY2preTFXanVvbVUxTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVrcXZja2UKbHF6RGR2Z2xxMStibEErNUJEQzd4Vlg2UGorZ2prelA2bzFyQWlCREJzZ3hoZUo0T2tPWWZUMDFZa1lHSjg0SgpMT05NZ3VUL2w1eUkzRkkrUEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRS1dxYzRZK0luUkJud3dUQ0VTY0YrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09EQXpNREJhRncwek1EQXpNVEF3T0RBek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKaDQzWVFma293U1N0UkpuTjhRZi9MS05xb2NOOW94SHpORDZuV0RYODVPTS9QRThuaThhcnZCNm5MRk0rekZRbgpuTGpIUUN4Ny9PT2Vnd1gwWGYwc0VxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRDUKeEhIYkUrSjNLVUVRdnpNK01hSys2cWhOQkJGbkRYSTVNdFZvN3FKbE5UQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUIxcEdibEtZMW5pQnF0UlhJT25FNWVnaFk5U3JWN3RXR1ROam42dmN4NW5nSWdZK2tWaDljSVJwazdrRkhuCjJMVFl3Y3ZzdmhKeHVEYy9xR1FxeVpEWUhnTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9CYkpYS0ZUSEx3a2lsdVQzVU9SY3N3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGd3TXpBd1doY05NekF3TXpFd01EZ3cKTXpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCR1V5WFltSUMxSHVRVE80QzhWUTFyUllsYUplNTU1c0RrcU9OUkpWbWpNUDVLdWNHckZFVitGZQp4bXhjVkUrR1VaNmxHNGloQTNrQ2dwNVgrWnNlUzNhamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdDRXZIaytBV1dSWHpqcUNycXF3dFcyelk0RWV5VlFiV09sSjVRLzM5MHh3d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdHZHIzMWNvVXZrSGZYWmZjU0h5UzZ0R08rakx4NW1BMStVS1JwdlJDQSswQ0lITjQzdUFGCkRvcS9xMjNvckJGYnJUQzNxY0l6K2hCQW5mTXpEUkZmVXVBegotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel6246>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel6246-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel6246-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel6246-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel6246-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel6246-02 org2 org1
[1;36mAdd org1 to the testchannel6246-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel6246-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4NH0.ynBfWyOGALnZPSXITdbhjMQqEC9XV7PSqwdsCTTVZRg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4NH0.ynBfWyOGALnZPSXITdbhjMQqEC9XV7PSqwdsCTTVZRg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4NH0.ynBfWyOGALnZPSXITdbhjMQqEC9XV7PSqwdsCTTVZRg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel6246-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4NH0.ynBfWyOGALnZPSXITdbhjMQqEC9XV7PSqwdsCTTVZRg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel6246-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel6246-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:44:46.723 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:44:46.725 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 08:44:46.725 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 08:44:46.725 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQVB3S2lpaGYveStibExsSVNTalBVdjh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1EZ3dNekF3V2hjTk16QXdNekV3TURnd016QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkVsWlZjV1hWYTA1THVxSFl2Uk93V3lGZVZWd3hBTmcKN0RycHY5NUxGUlVVaTNhUklOTkhudDhxNHdJVXhnVUF2SjUzL1dUSFNHWU50TUFHWnpUL2pOS2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSUUzM0N6bndHbC9yCnlJV3hXa081TGNlZ3hNOTVZdW9oTEJoQlZOTll4aTJLTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUY5TXJSVlMKdGpuYWUxVGR2VWhuYS9SSVNZVmwwcFg1VjRtUG5MNWlITnlkQWlCeVFicnJBbHFnbzU3Nks4QzQyVDhNdFV6SAp6dGRFdjJMOUhpYk5FWXREaFE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRS3k5bFNFdUpndFRFc05yZkdxeXp3ekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09EQXpNREJhRncwek1EQXpNVEF3T0RBek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3hMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKZGViWUQ1SnVmcU1Db3NiODNDRHpFcHVtZmd5NHJiOG9aTDhDeFhRU0xrNXpaOFkxNGxpWDhTOWNVR3NhOGIzRwpXTHc3a0dKcXNaV2ZmM3pEZWZ2d2lLTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQk4KOXdzNThCcGY2OGlGc1ZwRHVTM0hvTVRQZVdMcUlTd1lRVlRUV01ZdGlqQUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBaGVaV3JUNXcra293R09XNUlhMUFkUXdEVTE5d0JpR0FoeTR4M0hYREVDVUNJQ0poYnpsQ21ZMGJoalJFClpkQWJ5MCs3MkxpcXN1TjllVGdma2RuL2dpbUMKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU5wSk5hUUtNT3I2ZXFwMWhvajNQWmt3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpFdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGd3TXpBd1doY05NekF3TXpFd01EZ3cKTXpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQldjcklrQndPbjZEbzhlWFdkZ3ZsQWl1a3craURvMmtONElHaDdXTmVQZzdMVnFiTEphUFN6RAoxOCtmQlNBa2Vhd0RJeEFEcjNFUG80S0JWMG8wbVhhamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWcwcG52cXlSdGlUcUM1WEtidytabm5jWVRQTTBZbWRiNldYRlRuL2F0TkFrd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdZOW9xem1kVW9tT1Zia3BTeVlVUzgwTkR0WDRmYXNtdUFkZGg3L2JDV3RzQ0lEa3k2V1JrCmFuWVZYMnQ3dFM2RTZySlNYYlNHSUdKcHRCOVl2T3c0Mm5rZwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel6246-02>.[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel6246 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel6246 org1
Step: 4_api Test 'Join <org1> to the <testchannel6246> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel6246 org1 VERIFY: test-join-channel.sh testchannel6246 org1
[1;36mJoining org1.example.com to the testchannel6246 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel6246 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4N30.TeWxE52oGoGl9h9JBfDjUNfrPNijrJ8Zxwq9d1Nv2Dc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4N30.TeWxE52oGoGl9h9JBfDjUNfrPNijrJ8Zxwq9d1Nv2Dc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4N30.TeWxE52oGoGl9h9JBfDjUNfrPNijrJ8Zxwq9d1Nv2Dc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel6246 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4N30.TeWxE52oGoGl9h9JBfDjUNfrPNijrJ8Zxwq9d1Nv2Dc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel6246> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:44:48.335 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel6246> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel6246 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel6246 org2
Step: 5_api Test 'Join <org2> to the <testchannel6246> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel6246 org2 VERIFY: test-join-channel.sh testchannel6246 org2
[1;36mJoining org2.example.com to the testchannel6246 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel6246 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4OH0.hXH4R4ZYoIx_sRUEMvmUgB_l1RnsaVIeCj3GhMA_IYQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4OH0.hXH4R4ZYoIx_sRUEMvmUgB_l1RnsaVIeCj3GhMA_IYQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4OH0.hXH4R4ZYoIx_sRUEMvmUgB_l1RnsaVIeCj3GhMA_IYQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel6246 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY4OH0.hXH4R4ZYoIx_sRUEMvmUgB_l1RnsaVIeCj3GhMA_IYQ
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel6246> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:44:50.027 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel6246> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel6246-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel6246-02 org1
Step: 6_api Test 'Join <org1> to the <testchannel6246-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel6246-02 org1 VERIFY: test-join-channel.sh testchannel6246-02 org1
[1;36mJoining org1.example.com to the testchannel6246-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel6246-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5MH0.RvX8vjyfLwNevKXpxVjWu5VywGUxysA4Lu6YBRUXbN4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5MH0.RvX8vjyfLwNevKXpxVjWu5VywGUxysA4Lu6YBRUXbN4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5MH0.RvX8vjyfLwNevKXpxVjWu5VywGUxysA4Lu6YBRUXbN4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel6246-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5MH0.RvX8vjyfLwNevKXpxVjWu5VywGUxysA4Lu6YBRUXbN4
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel6246-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:44:51.929 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel6246-02> channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel6246-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel6246-02 org2
Step: 7_api Test 'Join <org2> to the <testchannel6246-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel6246-02 org2 VERIFY: test-join-channel.sh testchannel6246-02 org2
[1;36mJoining org2.example.com to the testchannel6246-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel6246-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5Mn0.UqeyLf1iAZ7LcUcHnNLshT2gR2gnqSLdAIliI0v2qeo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5Mn0.UqeyLf1iAZ7LcUcHnNLshT2gR2gnqSLdAIliI0v2qeo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5Mn0.UqeyLf1iAZ7LcUcHnNLshT2gR2gnqSLdAIliI0v2qeo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel6246-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjY5Mn0.UqeyLf1iAZ7LcUcHnNLshT2gR2gnqSLdAIliI0v2qeo
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel6246-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:44:53.595 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel6246-02> channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27380 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27380 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27380 org1 VERIFY: test-channel-exists.sh testchannel27380 org1
[1;36mCreating testchannel27380 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1Nn0.0Oc_xUXhk6fsIjYPCpnNaCVIUffFCBhsa1-SHNBfsiI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1Nn0.0Oc_xUXhk6fsIjYPCpnNaCVIUffFCBhsa1-SHNBfsiI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1Nn0.0Oc_xUXhk6fsIjYPCpnNaCVIUffFCBhsa1-SHNBfsiI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel27380","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1Nn0.0Oc_xUXhk6fsIjYPCpnNaCVIUffFCBhsa1-SHNBfsiI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel27380> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel27380> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:45:59.322 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:45:59.324 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 08:45:59.327 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 08:45:59.327 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel27380",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T08:45:57Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel27380> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27380 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27380 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel27380> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27380 org1 org2 VERIFY: test-channel-add-org.sh testchannel27380 org1 org2
[1;36mAdd org2 to the testchannel27380 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel27380 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1OX0.UDFnvYEXY_J2YXsizEBCHqqDAC5nCcionIzWCtDJuT0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1OX0.UDFnvYEXY_J2YXsizEBCHqqDAC5nCcionIzWCtDJuT0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1OX0.UDFnvYEXY_J2YXsizEBCHqqDAC5nCcionIzWCtDJuT0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27380/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc1OX0.UDFnvYEXY_J2YXsizEBCHqqDAC5nCcionIzWCtDJuT0
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel27380 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel27380 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:46:02.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:46:02.463 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 08:46:02.465 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 08:46:02.465 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUpCc0VadHhJTjdtZnF1TURUeU1POWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1EZ3dNekF3V2hjTk16QXdNekV3TURnd016QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkxKT2h5OXBGODYzRm8veXd4QVo0NWhyUmkxby9tZmgKSjJhZ00yQ2JxRkxvV2w1NjVsNWVybFVRVFhJYUg3Tmk0cmwvRGV3Z1M4SHp4ZzZvZ0xyaXFnZWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSVBuRWNkc1Q0bmNwClFSQy9NejR4b3I3cXFFMEVFV2NOY2preTFXanVvbVUxTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVrcXZja2UKbHF6RGR2Z2xxMStibEErNUJEQzd4Vlg2UGorZ2prelA2bzFyQWlCREJzZ3hoZUo0T2tPWWZUMDFZa1lHSjg0SgpMT05NZ3VUL2w1eUkzRkkrUEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRS1dxYzRZK0luUkJud3dUQ0VTY0YrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09EQXpNREJhRncwek1EQXpNVEF3T0RBek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKaDQzWVFma293U1N0UkpuTjhRZi9MS05xb2NOOW94SHpORDZuV0RYODVPTS9QRThuaThhcnZCNm5MRk0rekZRbgpuTGpIUUN4Ny9PT2Vnd1gwWGYwc0VxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRDUKeEhIYkUrSjNLVUVRdnpNK01hSys2cWhOQkJGbkRYSTVNdFZvN3FKbE5UQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUIxcEdibEtZMW5pQnF0UlhJT25FNWVnaFk5U3JWN3RXR1ROam42dmN4NW5nSWdZK2tWaDljSVJwazdrRkhuCjJMVFl3Y3ZzdmhKeHVEYy9xR1FxeVpEWUhnTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9CYkpYS0ZUSEx3a2lsdVQzVU9SY3N3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGd3TXpBd1doY05NekF3TXpFd01EZ3cKTXpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCR1V5WFltSUMxSHVRVE80QzhWUTFyUllsYUplNTU1c0RrcU9OUkpWbWpNUDVLdWNHckZFVitGZQp4bXhjVkUrR1VaNmxHNGloQTNrQ2dwNVgrWnNlUzNhamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdDRXZIaytBV1dSWHpqcUNycXF3dFcyelk0RWV5VlFiV09sSjVRLzM5MHh3d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdHZHIzMWNvVXZrSGZYWmZjU0h5UzZ0R08rakx4NW1BMStVS1JwdlJDQSswQ0lITjQzdUFGCkRvcS9xMjNvckJGYnJUQzNxY0l6K2hCQW5mTXpEUkZmVXVBegotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel27380>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27380-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27380-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel27380-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27380-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel27380-02 org2 org1
[1;36mAdd org1 to the testchannel27380-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel27380-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2Mn0.bfuqQchGbXV3d-HgqqGNpHNY3JsIhKFJNUgN_OaxhLw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2Mn0.bfuqQchGbXV3d-HgqqGNpHNY3JsIhKFJNUgN_OaxhLw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2Mn0.bfuqQchGbXV3d-HgqqGNpHNY3JsIhKFJNUgN_OaxhLw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27380-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2Mn0.bfuqQchGbXV3d-HgqqGNpHNY3JsIhKFJNUgN_OaxhLw
curlGetIt got _ "ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel27380-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel27380-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel27380-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel27380-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:46:04.681 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:46:04.685 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27380 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27380 org1
Step: 4_api Test 'Join <org1> to the <testchannel27380> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27380 org1 VERIFY: test-join-channel.sh testchannel27380 org1
[1;36mJoining org1.example.com to the testchannel27380 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27380 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2NX0.Lo6sNLKhDRE1Y3v_PKG74LbXoQ9VZFDQvLnwLYxeTCc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2NX0.Lo6sNLKhDRE1Y3v_PKG74LbXoQ9VZFDQvLnwLYxeTCc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2NX0.Lo6sNLKhDRE1Y3v_PKG74LbXoQ9VZFDQvLnwLYxeTCc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27380 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2NX0.Lo6sNLKhDRE1Y3v_PKG74LbXoQ9VZFDQvLnwLYxeTCc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27380> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:46:06.788 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel27380> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27380 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27380 org2
Step: 5_api Test 'Join <org2> to the <testchannel27380> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27380 org2 VERIFY: test-join-channel.sh testchannel27380 org2
[1;36mJoining org2.example.com to the testchannel27380 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27380 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2N30.kxxk5HPJ-8T-6BmQbsjfMUW5fKSXFhcGI8W6UpCWsBo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2N30.kxxk5HPJ-8T-6BmQbsjfMUW5fKSXFhcGI8W6UpCWsBo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2N30.kxxk5HPJ-8T-6BmQbsjfMUW5fKSXFhcGI8W6UpCWsBo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27380 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjc2N30.kxxk5HPJ-8T-6BmQbsjfMUW5fKSXFhcGI8W6UpCWsBo
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27380> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:48:07.904 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel27380> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27380-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27380-02 org1
Step: 6_api Test 'Join <org1> to the <testchannel27380-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27380-02 org1 VERIFY: test-join-channel.sh testchannel27380-02 org1
[1;36mJoining org1.example.com to the testchannel27380-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel27380-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OH0.alR06I6sNNOmHw6CJVBB-HtXLcYSi3tLH-2Bj76_HwA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OH0.alR06I6sNNOmHw6CJVBB-HtXLcYSi3tLH-2Bj76_HwA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OH0.alR06I6sNNOmHw6CJVBB-HtXLcYSi3tLH-2Bj76_HwA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel27380-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OH0.alR06I6sNNOmHw6CJVBB-HtXLcYSi3tLH-2Bj76_HwA
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel27380-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:48:09.303 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel27380-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel27380-02 org2
Step: 7_api Test 'Join <org2> to the <testchannel27380-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel27380-02 org2 VERIFY: test-join-channel.sh testchannel27380-02 org2
[1;36mJoining org2.example.com to the testchannel27380-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel27380-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OX0.qDx128V8bNmyT7ltKdrLBt_iWyAcH3S33hIROftOCqc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OX0.qDx128V8bNmyT7ltKdrLBt_iWyAcH3S33hIROftOCqc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OX0.qDx128V8bNmyT7ltKdrLBt_iWyAcH3S33hIROftOCqc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel27380-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjg4OX0.qDx128V8bNmyT7ltKdrLBt_iWyAcH3S33hIROftOCqc
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel27380-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:48:10.515 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8020 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8020 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8020 org1 VERIFY: test-channel-exists.sh testchannel8020 org1
[1;36mCreating testchannel8020 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0Mn0.BFHWAKt7yKz0t4l8VjXE5q4BJxenUYIIAKso0YNIe8c"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0Mn0.BFHWAKt7yKz0t4l8VjXE5q4BJxenUYIIAKso0YNIe8c", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0Mn0.BFHWAKt7yKz0t4l8VjXE5q4BJxenUYIIAKso0YNIe8c
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel8020","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0Mn0.BFHWAKt7yKz0t4l8VjXE5q4BJxenUYIIAKso0YNIe8c
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel8020> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8020> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:49:05.135 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:49:05.137 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 08:49:05.138 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 08:49:05.138 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8020",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T08:49:03Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8020> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8020 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8020 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel8020> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8020 org1 org2 VERIFY: test-channel-add-org.sh testchannel8020 org1 org2
[1;36mAdd org2 to the testchannel8020 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel8020 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0NX0.6akmBSuTL2hZKBTfKv2Z2cVbx3Yegvh3j-DZk4jCn2Y"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0NX0.6akmBSuTL2hZKBTfKv2Z2cVbx3Yegvh3j-DZk4jCn2Y", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0NX0.6akmBSuTL2hZKBTfKv2Z2cVbx3Yegvh3j-DZk4jCn2Y
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8020/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0NX0.6akmBSuTL2hZKBTfKv2Z2cVbx3Yegvh3j-DZk4jCn2Y
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel8020 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel8020 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:49:08.139 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:49:08.141 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 08:49:08.142 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 08:49:08.142 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQUpCc0VadHhJTjdtZnF1TURUeU1POWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekl1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1EZ3dNekF3V2hjTk16QXdNekV3TURnd016QXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1pNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkxKT2h5OXBGODYzRm8veXd4QVo0NWhyUmkxby9tZmgKSjJhZ00yQ2JxRkxvV2w1NjVsNWVybFVRVFhJYUg3Tmk0cmwvRGV3Z1M4SHp4ZzZvZ0xyaXFnZWpUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSVBuRWNkc1Q0bmNwClFSQy9NejR4b3I3cXFFMEVFV2NOY2preTFXanVvbVUxTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVrcXZja2UKbHF6RGR2Z2xxMStibEErNUJEQzd4Vlg2UGorZ2prelA2bzFyQWlCREJzZ3hoZUo0T2tPWWZUMDFZa1lHSjg0SgpMT05NZ3VUL2w1eUkzRkkrUEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRS1dxYzRZK0luUkJud3dUQ0VTY0YrekFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09EQXpNREJhRncwek1EQXpNVEF3T0RBek1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKaDQzWVFma293U1N0UkpuTjhRZi9MS05xb2NOOW94SHpORDZuV0RYODVPTS9QRThuaThhcnZCNm5MRk0rekZRbgpuTGpIUUN4Ny9PT2Vnd1gwWGYwc0VxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRDUKeEhIYkUrSjNLVUVRdnpNK01hSys2cWhOQkJGbkRYSTVNdFZvN3FKbE5UQUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUIxcEdibEtZMW5pQnF0UlhJT25FNWVnaFk5U3JWN3RXR1ROam42dmN4NW5nSWdZK2tWaDljSVJwazdrRkhuCjJMVFl3Y3ZzdmhKeHVEYy9xR1FxeVpEWUhnTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU9CYkpYS0ZUSEx3a2lsdVQzVU9SY3N3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGd3TXpBd1doY05NekF3TXpFd01EZ3cKTXpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCR1V5WFltSUMxSHVRVE80QzhWUTFyUllsYUplNTU1c0RrcU9OUkpWbWpNUDVLdWNHckZFVitGZQp4bXhjVkUrR1VaNmxHNGloQTNrQ2dwNVgrWnNlUzNhamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWdDRXZIaytBV1dSWHpqcUNycXF3dFcyelk0RWV5VlFiV09sSjVRLzM5MHh3d0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdHZHIzMWNvVXZrSGZYWmZjU0h5UzZ0R08rakx4NW1BMStVS1JwdlJDQSswQ0lITjQzdUFGCkRvcS9xMjNvckJGYnJUQzNxY0l6K2hCQW5mTXpEUkZmVXVBegotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel8020>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8020-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8020-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel8020-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8020-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel8020-02 org2 org1
[1;36mAdd org1 to the testchannel8020-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel8020-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0OH0.m2Yn0PENgXfruFyndH4lRyMpyWXdcSWE_5gPTbc4xxQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0OH0.m2Yn0PENgXfruFyndH4lRyMpyWXdcSWE_5gPTbc4xxQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0OH0.m2Yn0PENgXfruFyndH4lRyMpyWXdcSWE_5gPTbc4xxQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8020-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk0OH0.m2Yn0PENgXfruFyndH4lRyMpyWXdcSWE_5gPTbc4xxQ
curlGetIt got _ "ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel8020-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel8020-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/etc/hyperledger/crypto-config/testchannel8020-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel8020-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:49:10.774 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 08:49:10.776 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8020 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8020 org1
Step: 4_api Test 'Join <org1> to the <testchannel8020> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8020 org1 VERIFY: test-join-channel.sh testchannel8020 org1
[1;36mJoining org1.example.com to the testchannel8020 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel8020 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1MX0.47VI9LvIOeKiMMIpU4w6FQqs-SWwWIbkRgasXcpLTYw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1MX0.47VI9LvIOeKiMMIpU4w6FQqs-SWwWIbkRgasXcpLTYw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1MX0.47VI9LvIOeKiMMIpU4w6FQqs-SWwWIbkRgasXcpLTYw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8020 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1MX0.47VI9LvIOeKiMMIpU4w6FQqs-SWwWIbkRgasXcpLTYw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel8020> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:49:12.494 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel8020> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8020 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8020 org2
Step: 5_api Test 'Join <org2> to the <testchannel8020> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8020 org2 VERIFY: test-join-channel.sh testchannel8020 org2
[1;36mJoining org2.example.com to the testchannel8020 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel8020 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1Mn0.tS5xu7A0uwN-R8U-h0zX5wJ_5SG-ca0qf9iQ4u95UjU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1Mn0.tS5xu7A0uwN-R8U-h0zX5wJ_5SG-ca0qf9iQ4u95UjU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1Mn0.tS5xu7A0uwN-R8U-h0zX5wJ_5SG-ca0qf9iQ4u95UjU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8020 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMjk1Mn0.tS5xu7A0uwN-R8U-h0zX5wJ_5SG-ca0qf9iQ4u95UjU
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel8020> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:51:13.631 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel8020> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8020-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8020-02 org1
Step: 6_api Test 'Join <org1> to the <testchannel8020-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8020-02 org1 VERIFY: test-join-channel.sh testchannel8020-02 org1
[1;36mJoining org1.example.com to the testchannel8020-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel8020-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NH0.KlwJvN9J76Pxwoqv3AdjKSp-LtPxIFhkP9KCRhCzrDM"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NH0.KlwJvN9J76Pxwoqv3AdjKSp-LtPxIFhkP9KCRhCzrDM", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NH0.KlwJvN9J76Pxwoqv3AdjKSp-LtPxIFhkP9KCRhCzrDM
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8020-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NH0.KlwJvN9J76Pxwoqv3AdjKSp-LtPxIFhkP9KCRhCzrDM
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel8020-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 08:51:14.985 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8020-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8020-02 org2
Step: 7_api Test 'Join <org2> to the <testchannel8020-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8020-02 org2 VERIFY: test-join-channel.sh testchannel8020-02 org2
[1;36mJoining org2.example.com to the testchannel8020-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel8020-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NX0.sgt0BX5_rMlokc2zjD8Zs6hrTCsBSr5VXlXMijyUFq8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NX0.sgt0BX5_rMlokc2zjD8Zs6hrTCsBSr5VXlXMijyUFq8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NX0.sgt0BX5_rMlokc2zjD8Zs6hrTCsBSr5VXlXMijyUFq8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8020-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwMzA3NX0.sgt0BX5_rMlokc2zjD8Zs6hrTCsBSr5VXlXMijyUFq8
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel8020-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 08:51:16.196 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel17451 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel17451 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel17451 org1 VERIFY: test-channel-exists.sh testchannel17451 org1
[1;36mCreating testchannel17451 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyNX0.F3mRpmmec8g_nP9ILTUWd5rNxlcAKLG2zltF43uEc78"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyNX0.F3mRpmmec8g_nP9ILTUWd5rNxlcAKLG2zltF43uEc78", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyNX0.F3mRpmmec8g_nP9ILTUWd5rNxlcAKLG2zltF43uEc78
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel17451","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyNX0.F3mRpmmec8g_nP9ILTUWd5rNxlcAKLG2zltF43uEc78
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel17451> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel17451> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 09:47:07.276 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 09:47:07.282 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 09:47:07.283 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 09:47:07.283 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel17451",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T09:47:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel17451> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel17451 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17451 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel17451> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17451 org1 org2 VERIFY: test-channel-add-org.sh testchannel17451 org1 org2
[1;36mAdd org2 to the testchannel17451 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel17451 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyN30.ZsfmGBUpBt8WZpE0D8eGkoATfmJ4UYViRxvUGLK1HWc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyN30.ZsfmGBUpBt8WZpE0D8eGkoATfmJ4UYViRxvUGLK1HWc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyN30.ZsfmGBUpBt8WZpE0D8eGkoATfmJ4UYViRxvUGLK1HWc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel17451/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQyN30.ZsfmGBUpBt8WZpE0D8eGkoATfmJ4UYViRxvUGLK1HWc
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel17451 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel17451 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 09:47:10.230 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 09:47:10.233 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 09:47:10.234 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 09:47:10.234 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYlVNNmFabHkycHFCZXV6djJUbDlpakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFbzV0MnNHME0vNmdhdWFyWEJBZ1pUcTFzSUplUE4vbGgKSTlUNXdSamdFOW5SUHVETGdadXNidXQraUhudDFKckdFR2pKdGRIRlk0WVI1MllCeTNOSkU2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnNnZabXFxMVdKUXM2CkdYbld0SS9zaWRpdlZOZENrQzRaTW1qdWdpTkVaemN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUkx6MWk2SkkKRFpTVUpuR0plY2ZtWlZTNStrK0ZIc0J2a1N3VHM3dEgzT29DSUdiZ3hIbDNCcFRDK3l4N0tLeW1QOXNMT2NwNwp2Nnh0c2V6N0JYWm5HZ21ZCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRRlpobXA0WE02b1FYbUM4b3lHWmlFVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKeTlwL3UyTzdOVW5XYzBpQ2pBSDFuS3kvR2RmVk5mUE56R0JNaXZzVlpJN3lPNmVOQnFPNW5lV1dTekRxUjMrVQo1RVZ5bTJWZTdzV1hJbXR5ZTlHdGxxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHEKOW1hcXJWWWxDem9aZWRhMGoreUoySzlVMTBLUUxoa3lhTzZDSTBSbk56QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJ2cktuTFRzRXVqbzVIRzhEVm5mSko5NnRJa3dXWDBXKy9QSUpkM3hUTHVRSWdVRFB1SFl6dVJlb2xwLzg3ClIzdGdIUHNuNzVXZVBScTJMemZuTmM5UEYxVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU03V3VYNmFqM1pRNGZIendrOHExd0F3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGt6T0RBd1doY05NekF3TXpFd01Ea3oKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCS3FSSG84MEh2WFNsb2FNakhLQXpJZWNNK2s1d1BzTmlBdUJNTjJMa0RqbTFYVCtNYXBaVGhXUApWcFp3alVSVmluYjU4ZDBISXBuT055ZFltbW45Y3BPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1R2pQdk1CMm5yS2pqcUhEd3dQVVJGb044ZmZtNUxSMDJVUFhWK2dXeXVNd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdDU0ZqQmJUUzBDak5pd3NSbTVXeVA4ZlZGWStPYUZWWVFBMUhvTXdpODhNQ0lEUmlyVHkwCnUydlo2NWoxaXNtL3RRa283WkRaaW5YVlhmTFlWd0NWWHpWeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel17451>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel17451-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel17451-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel17451-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel17451-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel17451-02 org2 org1
[1;36mAdd org1 to the testchannel17451-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel17451-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzMH0.KMPxOvauWYX41U_hMl3qZ3ZdsC2QE76VsNGE023Dtdg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzMH0.KMPxOvauWYX41U_hMl3qZ3ZdsC2QE76VsNGE023Dtdg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzMH0.KMPxOvauWYX41U_hMl3qZ3ZdsC2QE76VsNGE023Dtdg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel17451-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzMH0.KMPxOvauWYX41U_hMl3qZ3ZdsC2QE76VsNGE023Dtdg
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel17451-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel17451-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel17451-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel17451-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 09:47:12.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 09:47:12.845 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel17451 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17451 org1
Step: 4_api Test 'Join <org1> to the <testchannel17451> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17451 org1 VERIFY: test-join-channel.sh testchannel17451 org1
[1;36mJoining org1.example.com to the testchannel17451 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel17451 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzM30.BsnR966eeMg_tWAb3iRkwtNmFKbLP6zVQJkMBQfV1Yk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzM30.BsnR966eeMg_tWAb3iRkwtNmFKbLP6zVQJkMBQfV1Yk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzM30.BsnR966eeMg_tWAb3iRkwtNmFKbLP6zVQJkMBQfV1Yk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel17451 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzM30.BsnR966eeMg_tWAb3iRkwtNmFKbLP6zVQJkMBQfV1Yk
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel17451> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 09:47:14.399 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel17451> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel17451 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel17451 org2
Step: 5_api Test 'Join <org2> to the <testchannel17451> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel17451 org2 VERIFY: test-join-channel.sh testchannel17451 org2
[1;36mJoining org2.example.com to the testchannel17451 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel17451 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzNH0.tOJT9BL3aZFYlrN-haitHbC__W9cSUXiHZGPZKKoIfs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzNH0.tOJT9BL3aZFYlrN-haitHbC__W9cSUXiHZGPZKKoIfs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzNH0.tOJT9BL3aZFYlrN-haitHbC__W9cSUXiHZGPZKKoIfs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel17451 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNjQzNH0.tOJT9BL3aZFYlrN-haitHbC__W9cSUXiHZGPZKKoIfs
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel9676 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel9676 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel9676 org1 VERIFY: test-channel-exists.sh testchannel9676 org1
[1;36mCreating testchannel9676 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5NX0.X6oP9xTY7HALGeCUEeeqQlBMHW1VrIzS1xFju5_eNEY"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5NX0.X6oP9xTY7HALGeCUEeeqQlBMHW1VrIzS1xFju5_eNEY", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5NX0.X6oP9xTY7HALGeCUEeeqQlBMHW1VrIzS1xFju5_eNEY
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel9676","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5NX0.X6oP9xTY7HALGeCUEeeqQlBMHW1VrIzS1xFju5_eNEY
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel9676> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel9676> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:04:57.243 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:04:57.244 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:04:57.245 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:04:57.245 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel9676",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:04:56Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel9676> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel9676 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9676 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel9676> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9676 org1 org2 VERIFY: test-channel-add-org.sh testchannel9676 org1 org2
[1;36mAdd org2 to the testchannel9676 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel9676 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5N30.lFI4uImJL0iWmiBT4Y-BbzbkgbiXVLXv6dsdjBu_rqQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5N30.lFI4uImJL0iWmiBT4Y-BbzbkgbiXVLXv6dsdjBu_rqQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5N30.lFI4uImJL0iWmiBT4Y-BbzbkgbiXVLXv6dsdjBu_rqQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel9676/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzQ5N30.lFI4uImJL0iWmiBT4Y-BbzbkgbiXVLXv6dsdjBu_rqQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel9676 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel9676 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:05:00.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:05:00.046 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:05:00.047 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:05:00.047 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYlVNNmFabHkycHFCZXV6djJUbDlpakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFbzV0MnNHME0vNmdhdWFyWEJBZ1pUcTFzSUplUE4vbGgKSTlUNXdSamdFOW5SUHVETGdadXNidXQraUhudDFKckdFR2pKdGRIRlk0WVI1MllCeTNOSkU2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnNnZabXFxMVdKUXM2CkdYbld0SS9zaWRpdlZOZENrQzRaTW1qdWdpTkVaemN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUkx6MWk2SkkKRFpTVUpuR0plY2ZtWlZTNStrK0ZIc0J2a1N3VHM3dEgzT29DSUdiZ3hIbDNCcFRDK3l4N0tLeW1QOXNMT2NwNwp2Nnh0c2V6N0JYWm5HZ21ZCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRRlpobXA0WE02b1FYbUM4b3lHWmlFVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKeTlwL3UyTzdOVW5XYzBpQ2pBSDFuS3kvR2RmVk5mUE56R0JNaXZzVlpJN3lPNmVOQnFPNW5lV1dTekRxUjMrVQo1RVZ5bTJWZTdzV1hJbXR5ZTlHdGxxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHEKOW1hcXJWWWxDem9aZWRhMGoreUoySzlVMTBLUUxoa3lhTzZDSTBSbk56QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJ2cktuTFRzRXVqbzVIRzhEVm5mSko5NnRJa3dXWDBXKy9QSUpkM3hUTHVRSWdVRFB1SFl6dVJlb2xwLzg3ClIzdGdIUHNuNzVXZVBScTJMemZuTmM5UEYxVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU03V3VYNmFqM1pRNGZIendrOHExd0F3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGt6T0RBd1doY05NekF3TXpFd01Ea3oKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCS3FSSG84MEh2WFNsb2FNakhLQXpJZWNNK2s1d1BzTmlBdUJNTjJMa0RqbTFYVCtNYXBaVGhXUApWcFp3alVSVmluYjU4ZDBISXBuT055ZFltbW45Y3BPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1R2pQdk1CMm5yS2pqcUhEd3dQVVJGb044ZmZtNUxSMDJVUFhWK2dXeXVNd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdDU0ZqQmJUUzBDak5pd3NSbTVXeVA4ZlZGWStPYUZWWVFBMUhvTXdpODhNQ0lEUmlyVHkwCnUydlo2NWoxaXNtL3RRa283WkRaaW5YVlhmTFlWd0NWWHpWeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel9676>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel9676-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel9676-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel9676-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel9676-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel9676-02 org2 org1
[1;36mAdd org1 to the testchannel9676-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel9676-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMH0.IFv4Ok4Y-ysFRlHQk6yYQ0Q-CSxIB9NpcIhATIEkzo8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMH0.IFv4Ok4Y-ysFRlHQk6yYQ0Q-CSxIB9NpcIhATIEkzo8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMH0.IFv4Ok4Y-ysFRlHQk6yYQ0Q-CSxIB9NpcIhATIEkzo8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel9676-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMH0.IFv4Ok4Y-ysFRlHQk6yYQ0Q-CSxIB9NpcIhATIEkzo8
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel9676-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel9676-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel9676-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel9676-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:05:02.086 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:05:02.088 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel9676 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9676 org1
Step: 4_api Test 'Join <org1> to the <testchannel9676> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9676 org1 VERIFY: test-join-channel.sh testchannel9676 org1
[1;36mJoining org1.example.com to the testchannel9676 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel9676 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMn0.4oXw11m1qTrW33ZzJTC9uSKgHfTidN9H_eKH_iYlIgc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMn0.4oXw11m1qTrW33ZzJTC9uSKgHfTidN9H_eKH_iYlIgc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMn0.4oXw11m1qTrW33ZzJTC9uSKgHfTidN9H_eKH_iYlIgc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel9676 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwMn0.4oXw11m1qTrW33ZzJTC9uSKgHfTidN9H_eKH_iYlIgc
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel9676> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:05:03.451 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel9676> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel9676 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel9676 org2
Step: 5_api Test 'Join <org2> to the <testchannel9676> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel9676 org2 VERIFY: test-join-channel.sh testchannel9676 org2
[1;36mJoining org2.example.com to the testchannel9676 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel9676 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwM30.rMYIBL5G7fSQnaXGvxkST8GtQ3nL7-3dMQHEZhwa8zI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwM30.rMYIBL5G7fSQnaXGvxkST8GtQ3nL7-3dMQHEZhwa8zI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwM30.rMYIBL5G7fSQnaXGvxkST8GtQ3nL7-3dMQHEZhwa8zI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel9676 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzUwM30.rMYIBL5G7fSQnaXGvxkST8GtQ3nL7-3dMQHEZhwa8zI
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel2129 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel2129 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel2129 org1 VERIFY: test-channel-exists.sh testchannel2129 org1
[1;36mCreating testchannel2129 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0Mn0.MNTIrKdzSPs8Qh3PpS5R9TpRwPz5SQq7y24QoyydKMA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0Mn0.MNTIrKdzSPs8Qh3PpS5R9TpRwPz5SQq7y24QoyydKMA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0Mn0.MNTIrKdzSPs8Qh3PpS5R9TpRwPz5SQq7y24QoyydKMA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel2129","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0Mn0.MNTIrKdzSPs8Qh3PpS5R9TpRwPz5SQq7y24QoyydKMA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel2129> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel2129> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:05:44.570 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:05:44.573 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:05:44.575 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:05:44.575 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel2129",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:05:43Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel2129> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel2129 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2129 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel2129> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2129 org1 org2 VERIFY: test-channel-add-org.sh testchannel2129 org1 org2
[1;36mAdd org2 to the testchannel2129 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel2129 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0NH0.zY9G3U6kGtmVYNVhSrcwUiB9ctBLxou5pmClT701xDE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0NH0.zY9G3U6kGtmVYNVhSrcwUiB9ctBLxou5pmClT701xDE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0NH0.zY9G3U6kGtmVYNVhSrcwUiB9ctBLxou5pmClT701xDE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel2129/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0NH0.zY9G3U6kGtmVYNVhSrcwUiB9ctBLxou5pmClT701xDE
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel2129 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel2129 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:05:47.229 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:05:47.231 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:05:47.232 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:05:47.232 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYlVNNmFabHkycHFCZXV6djJUbDlpakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFbzV0MnNHME0vNmdhdWFyWEJBZ1pUcTFzSUplUE4vbGgKSTlUNXdSamdFOW5SUHVETGdadXNidXQraUhudDFKckdFR2pKdGRIRlk0WVI1MllCeTNOSkU2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnNnZabXFxMVdKUXM2CkdYbld0SS9zaWRpdlZOZENrQzRaTW1qdWdpTkVaemN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUkx6MWk2SkkKRFpTVUpuR0plY2ZtWlZTNStrK0ZIc0J2a1N3VHM3dEgzT29DSUdiZ3hIbDNCcFRDK3l4N0tLeW1QOXNMT2NwNwp2Nnh0c2V6N0JYWm5HZ21ZCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRRlpobXA0WE02b1FYbUM4b3lHWmlFVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKeTlwL3UyTzdOVW5XYzBpQ2pBSDFuS3kvR2RmVk5mUE56R0JNaXZzVlpJN3lPNmVOQnFPNW5lV1dTekRxUjMrVQo1RVZ5bTJWZTdzV1hJbXR5ZTlHdGxxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHEKOW1hcXJWWWxDem9aZWRhMGoreUoySzlVMTBLUUxoa3lhTzZDSTBSbk56QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJ2cktuTFRzRXVqbzVIRzhEVm5mSko5NnRJa3dXWDBXKy9QSUpkM3hUTHVRSWdVRFB1SFl6dVJlb2xwLzg3ClIzdGdIUHNuNzVXZVBScTJMemZuTmM5UEYxVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU03V3VYNmFqM1pRNGZIendrOHExd0F3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGt6T0RBd1doY05NekF3TXpFd01Ea3oKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCS3FSSG84MEh2WFNsb2FNakhLQXpJZWNNK2s1d1BzTmlBdUJNTjJMa0RqbTFYVCtNYXBaVGhXUApWcFp3alVSVmluYjU4ZDBISXBuT055ZFltbW45Y3BPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1R2pQdk1CMm5yS2pqcUhEd3dQVVJGb044ZmZtNUxSMDJVUFhWK2dXeXVNd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdDU0ZqQmJUUzBDak5pd3NSbTVXeVA4ZlZGWStPYUZWWVFBMUhvTXdpODhNQ0lEUmlyVHkwCnUydlo2NWoxaXNtL3RRa283WkRaaW5YVlhmTFlWd0NWWHpWeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel2129>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel2129-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel2129-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel2129-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel2129-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel2129-02 org2 org1
[1;36mAdd org1 to the testchannel2129-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel2129-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0N30.wers4eeGSTnNm5S1mNE8SGi2WqV_cz2VI6pmuxBE2jk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0N30.wers4eeGSTnNm5S1mNE8SGi2WqV_cz2VI6pmuxBE2jk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0N30.wers4eeGSTnNm5S1mNE8SGi2WqV_cz2VI6pmuxBE2jk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel2129-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0N30.wers4eeGSTnNm5S1mNE8SGi2WqV_cz2VI6pmuxBE2jk
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel2129-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel2129-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel2129-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel2129-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:05:49.395 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:05:49.396 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel2129 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2129 org1
Step: 4_api Test 'Join <org1> to the <testchannel2129> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2129 org1 VERIFY: test-join-channel.sh testchannel2129 org1
[1;36mJoining org1.example.com to the testchannel2129 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel2129 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0OX0.c0aLNgbIfds8MKdxYBj7mI7CCB65Vk65_7491IDU-AI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0OX0.c0aLNgbIfds8MKdxYBj7mI7CCB65Vk65_7491IDU-AI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0OX0.c0aLNgbIfds8MKdxYBj7mI7CCB65Vk65_7491IDU-AI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel2129 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU0OX0.c0aLNgbIfds8MKdxYBj7mI7CCB65Vk65_7491IDU-AI
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel2129> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:05:50.892 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel2129> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel2129 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel2129 org2
Step: 5_api Test 'Join <org2> to the <testchannel2129> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel2129 org2 VERIFY: test-join-channel.sh testchannel2129 org2
[1;36mJoining org2.example.com to the testchannel2129 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel2129 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU1MX0.6r-czmUN-uudRrx8qBWXz46kV2nK4sYB3ApdF1M5UhQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU1MX0.6r-czmUN-uudRrx8qBWXz46kV2nK4sYB3ApdF1M5UhQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU1MX0.6r-czmUN-uudRrx8qBWXz46kV2nK4sYB3ApdF1M5UhQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel2129 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU1MX0.6r-czmUN-uudRrx8qBWXz46kV2nK4sYB3ApdF1M5UhQ
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15362 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15362 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15362 org1 VERIFY: test-channel-exists.sh testchannel15362 org1
[1;36mCreating testchannel15362 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4NH0.i5MabB0FAB87YLQyhVTZIpuF4f0s5FkidyXUQky5BOI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4NH0.i5MabB0FAB87YLQyhVTZIpuF4f0s5FkidyXUQky5BOI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4NH0.i5MabB0FAB87YLQyhVTZIpuF4f0s5FkidyXUQky5BOI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel15362","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4NH0.i5MabB0FAB87YLQyhVTZIpuF4f0s5FkidyXUQky5BOI
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel15362> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel15362> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:06:25.937 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:06:25.939 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:06:25.941 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:06:25.942 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel15362",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:06:24Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel15362> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel15362 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15362 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel15362> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15362 org1 org2 VERIFY: test-channel-add-org.sh testchannel15362 org1 org2
[1;36mAdd org2 to the testchannel15362 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel15362 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4Nn0.IBdVQGpkbR1wQom8jxllPy-bzZABck95l069s42bfJs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4Nn0.IBdVQGpkbR1wQom8jxllPy-bzZABck95l069s42bfJs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4Nn0.IBdVQGpkbR1wQom8jxllPy-bzZABck95l069s42bfJs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel15362/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4Nn0.IBdVQGpkbR1wQom8jxllPy-bzZABck95l069s42bfJs
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel15362 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel15362 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:06:28.805 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:06:28.808 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:06:28.809 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:06:28.809 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYlVNNmFabHkycHFCZXV6djJUbDlpakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFbzV0MnNHME0vNmdhdWFyWEJBZ1pUcTFzSUplUE4vbGgKSTlUNXdSamdFOW5SUHVETGdadXNidXQraUhudDFKckdFR2pKdGRIRlk0WVI1MllCeTNOSkU2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnNnZabXFxMVdKUXM2CkdYbld0SS9zaWRpdlZOZENrQzRaTW1qdWdpTkVaemN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUkx6MWk2SkkKRFpTVUpuR0plY2ZtWlZTNStrK0ZIc0J2a1N3VHM3dEgzT29DSUdiZ3hIbDNCcFRDK3l4N0tLeW1QOXNMT2NwNwp2Nnh0c2V6N0JYWm5HZ21ZCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRRlpobXA0WE02b1FYbUM4b3lHWmlFVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKeTlwL3UyTzdOVW5XYzBpQ2pBSDFuS3kvR2RmVk5mUE56R0JNaXZzVlpJN3lPNmVOQnFPNW5lV1dTekRxUjMrVQo1RVZ5bTJWZTdzV1hJbXR5ZTlHdGxxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHEKOW1hcXJWWWxDem9aZWRhMGoreUoySzlVMTBLUUxoa3lhTzZDSTBSbk56QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJ2cktuTFRzRXVqbzVIRzhEVm5mSko5NnRJa3dXWDBXKy9QSUpkM3hUTHVRSWdVRFB1SFl6dVJlb2xwLzg3ClIzdGdIUHNuNzVXZVBScTJMemZuTmM5UEYxVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU03V3VYNmFqM1pRNGZIendrOHExd0F3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGt6T0RBd1doY05NekF3TXpFd01Ea3oKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCS3FSSG84MEh2WFNsb2FNakhLQXpJZWNNK2s1d1BzTmlBdUJNTjJMa0RqbTFYVCtNYXBaVGhXUApWcFp3alVSVmluYjU4ZDBISXBuT055ZFltbW45Y3BPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1R2pQdk1CMm5yS2pqcUhEd3dQVVJGb044ZmZtNUxSMDJVUFhWK2dXeXVNd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdDU0ZqQmJUUzBDak5pd3NSbTVXeVA4ZlZGWStPYUZWWVFBMUhvTXdpODhNQ0lEUmlyVHkwCnUydlo2NWoxaXNtL3RRa283WkRaaW5YVlhmTFlWd0NWWHpWeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel15362>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel15362-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15362-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel15362-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15362-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel15362-02 org2 org1
[1;36mAdd org1 to the testchannel15362-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel15362-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4OX0.9EEDOo8_e0mzOIySOKbRsoIFhnIqIzZzzSDbO2EFI7M"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4OX0.9EEDOo8_e0mzOIySOKbRsoIFhnIqIzZzzSDbO2EFI7M", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4OX0.9EEDOo8_e0mzOIySOKbRsoIFhnIqIzZzzSDbO2EFI7M
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel15362-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU4OX0.9EEDOo8_e0mzOIySOKbRsoIFhnIqIzZzzSDbO2EFI7M
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel15362-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel15362-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel15362-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel15362-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:06:30.819 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:06:30.820 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel15362 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15362 org1
Step: 4_api Test 'Join <org1> to the <testchannel15362> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15362 org1 VERIFY: test-join-channel.sh testchannel15362 org1
[1;36mJoining org1.example.com to the testchannel15362 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel15362 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5MX0.n55-GN0-KPfi4Q4YQBb26ArvBPpluRbjjq4N1LWCsWU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5MX0.n55-GN0-KPfi4Q4YQBb26ArvBPpluRbjjq4N1LWCsWU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5MX0.n55-GN0-KPfi4Q4YQBb26ArvBPpluRbjjq4N1LWCsWU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel15362 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5MX0.n55-GN0-KPfi4Q4YQBb26ArvBPpluRbjjq4N1LWCsWU
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel15362> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:06:32.179 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel15362> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel15362 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15362 org2
Step: 5_api Test 'Join <org2> to the <testchannel15362> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15362 org2 VERIFY: test-join-channel.sh testchannel15362 org2
[1;36mJoining org2.example.com to the testchannel15362 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel15362 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5Mn0.6_umGzDTvXywicL68cbEyQpCfzMbvu2I8xvctPZYMz8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5Mn0.6_umGzDTvXywicL68cbEyQpCfzMbvu2I8xvctPZYMz8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5Mn0.6_umGzDTvXywicL68cbEyQpCfzMbvu2I8xvctPZYMz8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel15362 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzU5Mn0.6_umGzDTvXywicL68cbEyQpCfzMbvu2I8xvctPZYMz8
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel15362> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:08:33.177 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel15362> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel15362-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15362-02 org1
Step: 6_api Test 'Join <org1> to the <testchannel15362-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15362-02 org1 VERIFY: test-join-channel.sh testchannel15362-02 org1
[1;36mJoining org1.example.com to the testchannel15362-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel15362-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxM30.599G8tHaCdvzXOntfVtR77VVSMImKl5I5Pf_P2TreCk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxM30.599G8tHaCdvzXOntfVtR77VVSMImKl5I5Pf_P2TreCk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxM30.599G8tHaCdvzXOntfVtR77VVSMImKl5I5Pf_P2TreCk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel15362-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxM30.599G8tHaCdvzXOntfVtR77VVSMImKl5I5Pf_P2TreCk
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel15362-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:08:34.589 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 6_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel15362-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel15362-02 org2
Step: 7_api Test 'Join <org2> to the <testchannel15362-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel15362-02 org2 VERIFY: test-join-channel.sh testchannel15362-02 org2
[1;36mJoining org2.example.com to the testchannel15362-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel15362-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxNH0.UD56IJxW8LXYZ6HHsz7Dn8nbshwyuGyyi233vwSL93U"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxNH0.UD56IJxW8LXYZ6HHsz7Dn8nbshwyuGyyi233vwSL93U", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxNH0.UD56IJxW8LXYZ6HHsz7Dn8nbshwyuGyyi233vwSL93U
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel15362-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzcxNH0.UD56IJxW8LXYZ6HHsz7Dn8nbshwyuGyyi233vwSL93U
curlGetIt got _ "Invalid results returned ::NOT_FOUND"500 _ result
body is "Invalid results returned ::NOT_FOUND", code is 500
join channel REST query returned: "Invalid results returned ::NOT_FOUND" 500 .
create_http_code = results
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel15362-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:08:35.872 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 7_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel21382 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel21382 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel21382 org1 VERIFY: test-channel-exists.sh testchannel21382 org1
[1;36mCreating testchannel21382 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0MH0.pisCR65fKDpG0aOVlYNpmHsHI1fu8BF_DRaXr6JFQZ4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0MH0.pisCR65fKDpG0aOVlYNpmHsHI1fu8BF_DRaXr6JFQZ4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0MH0.pisCR65fKDpG0aOVlYNpmHsHI1fu8BF_DRaXr6JFQZ4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel21382","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0MH0.pisCR65fKDpG0aOVlYNpmHsHI1fu8BF_DRaXr6JFQZ4
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel21382> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel21382> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:09:02.846 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:09:02.849 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:09:02.850 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:09:02.850 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel21382",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:09:01Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel21382> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21382 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21382 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel21382> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21382 org1 org2 VERIFY: test-channel-add-org.sh testchannel21382 org1 org2
[1;36mAdd org2 to the testchannel21382 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel21382 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0M30.7JckIhiTiR-N80I9LOeiZiHoSI1DdcAlWLOMIOY_wnQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0M30.7JckIhiTiR-N80I9LOeiZiHoSI1DdcAlWLOMIOY_wnQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0M30.7JckIhiTiR-N80I9LOeiZiHoSI1DdcAlWLOMIOY_wnQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel21382/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0M30.7JckIhiTiR-N80I9LOeiZiHoSI1DdcAlWLOMIOY_wnQ
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel21382 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel21382 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:09:05.885 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:09:05.888 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:09:05.889 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:09:05.889 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRYlVNNmFabHkycHFCZXV6djJUbDlpakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFbzV0MnNHME0vNmdhdWFyWEJBZ1pUcTFzSUplUE4vbGgKSTlUNXdSamdFOW5SUHVETGdadXNidXQraUhudDFKckdFR2pKdGRIRlk0WVI1MllCeTNOSkU2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnNnZabXFxMVdKUXM2CkdYbld0SS9zaWRpdlZOZENrQzRaTW1qdWdpTkVaemN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUkx6MWk2SkkKRFpTVUpuR0plY2ZtWlZTNStrK0ZIc0J2a1N3VHM3dEgzT29DSUdiZ3hIbDNCcFRDK3l4N0tLeW1QOXNMT2NwNwp2Nnh0c2V6N0JYWm5HZ21ZCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRRlpobXA0WE02b1FYbUM4b3lHWmlFVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJd09UTTRNREJhRncwek1EQXpNVEF3T1RNNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKeTlwL3UyTzdOVW5XYzBpQ2pBSDFuS3kvR2RmVk5mUE56R0JNaXZzVlpJN3lPNmVOQnFPNW5lV1dTekRxUjMrVQo1RVZ5bTJWZTdzV1hJbXR5ZTlHdGxxTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHEKOW1hcXJWWWxDem9aZWRhMGoreUoySzlVMTBLUUxoa3lhTzZDSTBSbk56QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJ2cktuTFRzRXVqbzVIRzhEVm5mSko5NnRJa3dXWDBXKy9QSUpkM3hUTHVRSWdVRFB1SFl6dVJlb2xwLzg3ClIzdGdIUHNuNzVXZVBScTJMemZuTmM5UEYxVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU03V3VYNmFqM1pRNGZIendrOHExd0F3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpJdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpJdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd016RXlNRGt6T0RBd1doY05NekF3TXpFd01Ea3oKT0RBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCS3FSSG84MEh2WFNsb2FNakhLQXpJZWNNK2s1d1BzTmlBdUJNTjJMa0RqbTFYVCtNYXBaVGhXUApWcFp3alVSVmluYjU4ZDBISXBuT055ZFltbW45Y3BPamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWc1R2pQdk1CMm5yS2pqcUhEd3dQVVJGb044ZmZtNUxSMDJVUFhWK2dXeXVNd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdDU0ZqQmJUUzBDak5pd3NSbTVXeVA4ZlZGWStPYUZWWVFBMUhvTXdpODhNQ0lEUmlyVHkwCnUydlo2NWoxaXNtL3RRa283WkRaaW5YVlhmTFlWd0NWWHpWeQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel21382>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel21382-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel21382-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel21382-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel21382-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel21382-02 org2 org1
[1;36mAdd org1 to the testchannel21382-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel21382-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0Nn0.2iJMpyCkVLaG9meW2bEGX8I1smIW7wjkTNSPR1z8mv4"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0Nn0.2iJMpyCkVLaG9meW2bEGX8I1smIW7wjkTNSPR1z8mv4", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0Nn0.2iJMpyCkVLaG9meW2bEGX8I1smIW7wjkTNSPR1z8mv4
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel21382-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0Nn0.2iJMpyCkVLaG9meW2bEGX8I1smIW7wjkTNSPR1z8mv4
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel21382-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel21382-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel21382-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel21382-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:09:08.408 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:09:08.410 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21382 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21382 org1
Step: 4_api Test 'Join <org1> to the <testchannel21382> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21382 org1 VERIFY: test-join-channel.sh testchannel21382 org1
[1;36mJoining org1.example.com to the testchannel21382 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel21382 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0OH0._NpSn88768U_6-6EJ0MdEAziAziyuu_enpCcV2DheLo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0OH0._NpSn88768U_6-6EJ0MdEAziAziyuu_enpCcV2DheLo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0OH0._NpSn88768U_6-6EJ0MdEAziAziyuu_enpCcV2DheLo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel21382 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc0OH0._NpSn88768U_6-6EJ0MdEAziAziyuu_enpCcV2DheLo
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel21382> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:09:09.907 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel21382> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel21382 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel21382 org2
Step: 5_api Test 'Join <org2> to the <testchannel21382> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel21382 org2 VERIFY: test-join-channel.sh testchannel21382 org2
[1;36mJoining org2.example.com to the testchannel21382 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel21382 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc1MH0.ZpiaFxqVxNe6r1y4ssu9WWDIB1LOqRM9uxu-L1T-f4o"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc1MH0.ZpiaFxqVxNe6r1y4ssu9WWDIB1LOqRM9uxu-L1T-f4o", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc1MH0.ZpiaFxqVxNe6r1y4ssu9WWDIB1LOqRM9uxu-L1T-f4o
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel21382 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwNzc1MH0.ZpiaFxqVxNe6r1y4ssu9WWDIB1LOqRM9uxu-L1T-f4o
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel7379 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel7379 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel7379 org1 VERIFY: test-channel-exists.sh testchannel7379 org1
[1;36mCreating testchannel7379 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU1OH0.E6iFJ7AdHX23hJ4cVy87wh4SXpGZ77ZbiresuCKWShE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU1OH0.E6iFJ7AdHX23hJ4cVy87wh4SXpGZ77ZbiresuCKWShE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU1OH0.E6iFJ7AdHX23hJ4cVy87wh4SXpGZ77ZbiresuCKWShE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel7379","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU1OH0.E6iFJ7AdHX23hJ4cVy87wh4SXpGZ77ZbiresuCKWShE
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel7379> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel7379> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:22:40.281 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:22:40.285 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:22:40.286 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:22:40.287 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel7379",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:22:38Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel7379> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel7379 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel7379 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel7379> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7379 org1 org2 VERIFY: test-channel-add-org.sh testchannel7379 org1 org2
[1;36mAdd org2 to the testchannel7379 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel7379 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2MH0.8ACnYovFEi7RLEPzDBUMav4p6RIRU-bDgbfuZ57OZUo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2MH0.8ACnYovFEi7RLEPzDBUMav4p6RIRU-bDgbfuZ57OZUo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2MH0.8ACnYovFEi7RLEPzDBUMav4p6RIRU-bDgbfuZ57OZUo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel7379/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2MH0.8ACnYovFEi7RLEPzDBUMav4p6RIRU-bDgbfuZ57OZUo
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel7379 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel7379 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:22:43.565 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:22:43.569 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:22:43.570 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:22:43.570 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRUtzMU96TUpESDFWYXpranJQWTZ5akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFSFoxNGpMVnNzSExoaE1HeHQ4WmlpU3Rnc2NaMTVnOFcKQ0dkWmovb2xYQnI5MWRRT21PbzRvNmNFRkZZdTlRWVFGaWFXNW5yZTl2NlBTOUFWSzNselM2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnN244R3o4c3F6dGo5CjQwZC8xZ0pDVVh1UWd6ZENFbHpIVkVwV0ZGWENRdU13Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IZzlkdlcKOXdXbjVEbEljYXJWQVJiL1hqSStDbGt2ZXVnY2RtcHd0L0dQQWlBMDhXZ3FRUlE3VXpGckMwY2k1bDlxTlJUdwpIeFFBRmVPVGRpSC9kTEhZbVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTTZjLzgvd056bGxBZ3lBaXgxQldDREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKS2ZNNHJvanF1WWtaYW15S1lkWmcxdkRsNStFZlFIbytEZGx5bFRuNVNTdjhwRVlzVE1JdXVlUWJGVmJtQnprUAozbkVxS1QwY29Za2NXd3ZWeVlxR0thTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHUKZndiUHl5ck8yUDNqUjMvV0FrSlJlNUNETjBJU1hNZFVTbFlVVmNKQzR6QUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBMnAxUDBaQWFaTFlycXU0cXJiTVdJMnhyd1A4b1Z1Y1lLSGxzQnhxMk9JNENJQndoaUthbHZrSmJYVHFiCnVYTk5wTCtSaTNmQ3U3WFMvTjJTeDFCYk13dG0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWVENDQWYyZ0F3SUJBZ0lRU2dFYlQrclc1bXJuREdtZzNibm9nREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVYb0cyay9KcDJCK3d2bVJScDJHVm9TVU41RGR3SnR1cFUrek4zNi9EWjVmY0dDWVRhQVJwNkVnUQo1WW96cm1pT1R2enJHSHBNMzdaL01iUmp3T0xxbnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHhDQUE4MTF2cXBBQnljbFUwSDhyVnN6SGNsdXdNU1F6a2JvVVdaMDRadWpBS0JnZ3Foa2pPUFFRRApBZ05HQURCREFpQk92YVhOSHA5RFl2bGZwZjlFTkt4RHNDQmVwYS9KTEdNUG1NdnB0elRqZUFJZkVGOUpVVG10CkE4K1I4TVhKUDZzVWd3V3BDbXRXWjJBQnl2cE9VZUJoOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel7379>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel7379-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel7379-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel7379-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel7379-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel7379-02 org2 org1
[1;36mAdd org1 to the testchannel7379-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel7379-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2NH0.PVFjOUaGlYEJYe8BHF7JqBkeIvQr-cMS1F5MHXrkOVo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2NH0.PVFjOUaGlYEJYe8BHF7JqBkeIvQr-cMS1F5MHXrkOVo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2NH0.PVFjOUaGlYEJYe8BHF7JqBkeIvQr-cMS1F5MHXrkOVo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel7379-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2NH0.PVFjOUaGlYEJYe8BHF7JqBkeIvQr-cMS1F5MHXrkOVo
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel7379-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel7379-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel7379-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel7379-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:22:46.859 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:22:46.861 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel7379 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel7379 org1
Step: 4_api Test 'Join <org1> to the <testchannel7379> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel7379 org1 VERIFY: test-join-channel.sh testchannel7379 org1
[1;36mJoining org1.example.com to the testchannel7379 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel7379 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2N30.8Oi4600XskdaJ-0t0Kat17eHYXmfYmQbNkTyj-TXUDg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2N30.8Oi4600XskdaJ-0t0Kat17eHYXmfYmQbNkTyj-TXUDg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2N30.8Oi4600XskdaJ-0t0Kat17eHYXmfYmQbNkTyj-TXUDg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel7379 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2N30.8Oi4600XskdaJ-0t0Kat17eHYXmfYmQbNkTyj-TXUDg
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel7379> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:22:48.651 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel7379> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel7379 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel7379 org2
Step: 5_api Test 'Join <org2> to the <testchannel7379> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel7379 org2 VERIFY: test-join-channel.sh testchannel7379 org2
[1;36mJoining org2.example.com to the testchannel7379 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel7379 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2OX0.cliPb38EFEuLGFQjZAQgkAg3rfTuHw2Nl87hWn0atkQ"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2OX0.cliPb38EFEuLGFQjZAQgkAg3rfTuHw2Nl87hWn0atkQ", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2OX0.cliPb38EFEuLGFQjZAQgkAg3rfTuHw2Nl87hWn0atkQ
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel7379 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwODU2OX0.cliPb38EFEuLGFQjZAQgkAg3rfTuHw2Nl87hWn0atkQ
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel16704 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel16704 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel16704 org1 VERIFY: test-channel-exists.sh testchannel16704 org1
[1;36mCreating testchannel16704 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2NX0.OtT5W0ZUEZQKj7WmFH3etZOETpldfhvkxU8vWD6eCek"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2NX0.OtT5W0ZUEZQKj7WmFH3etZOETpldfhvkxU8vWD6eCek", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2NX0.OtT5W0ZUEZQKj7WmFH3etZOETpldfhvkxU8vWD6eCek
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel16704","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2NX0.OtT5W0ZUEZQKj7WmFH3etZOETpldfhvkxU8vWD6eCek
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel16704> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel16704> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:34:27.820 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:34:27.825 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:34:27.827 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:34:27.827 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel16704",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:34:26Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel16704> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16704 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16704 org1 org2
Step: 2_api Test 'Add <org2> to channel <testchannel16704> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16704 org1 org2 VERIFY: test-channel-add-org.sh testchannel16704 org1 org2
[1;36mAdd org2 to the testchannel16704 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel16704 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2OH0.oRRV-ezU0Vy6AsFD4mMOgxTAvcf93CeT2HumJBv1JCk"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2OH0.oRRV-ezU0Vy6AsFD4mMOgxTAvcf93CeT2HumJBv1JCk", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2OH0.oRRV-ezU0Vy6AsFD4mMOgxTAvcf93CeT2HumJBv1JCk
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel16704/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI2OH0.oRRV-ezU0Vy6AsFD4mMOgxTAvcf93CeT2HumJBv1JCk
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel16704 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel16704 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:34:30.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:34:30.846 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:34:30.847 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:34:30.847 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRUtzMU96TUpESDFWYXpranJQWTZ5akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFSFoxNGpMVnNzSExoaE1HeHQ4WmlpU3Rnc2NaMTVnOFcKQ0dkWmovb2xYQnI5MWRRT21PbzRvNmNFRkZZdTlRWVFGaWFXNW5yZTl2NlBTOUFWSzNselM2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnN244R3o4c3F6dGo5CjQwZC8xZ0pDVVh1UWd6ZENFbHpIVkVwV0ZGWENRdU13Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IZzlkdlcKOXdXbjVEbEljYXJWQVJiL1hqSStDbGt2ZXVnY2RtcHd0L0dQQWlBMDhXZ3FRUlE3VXpGckMwY2k1bDlxTlJUdwpIeFFBRmVPVGRpSC9kTEhZbVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTTZjLzgvd056bGxBZ3lBaXgxQldDREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKS2ZNNHJvanF1WWtaYW15S1lkWmcxdkRsNStFZlFIbytEZGx5bFRuNVNTdjhwRVlzVE1JdXVlUWJGVmJtQnprUAozbkVxS1QwY29Za2NXd3ZWeVlxR0thTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHUKZndiUHl5ck8yUDNqUjMvV0FrSlJlNUNETjBJU1hNZFVTbFlVVmNKQzR6QUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBMnAxUDBaQWFaTFlycXU0cXJiTVdJMnhyd1A4b1Z1Y1lLSGxzQnhxMk9JNENJQndoaUthbHZrSmJYVHFiCnVYTk5wTCtSaTNmQ3U3WFMvTjJTeDFCYk13dG0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWVENDQWYyZ0F3SUJBZ0lRU2dFYlQrclc1bXJuREdtZzNibm9nREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVYb0cyay9KcDJCK3d2bVJScDJHVm9TVU41RGR3SnR1cFUrek4zNi9EWjVmY0dDWVRhQVJwNkVnUQo1WW96cm1pT1R2enJHSHBNMzdaL01iUmp3T0xxbnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHhDQUE4MTF2cXBBQnljbFUwSDhyVnN6SGNsdXdNU1F6a2JvVVdaMDRadWpBS0JnZ3Foa2pPUFFRRApBZ05HQURCREFpQk92YVhOSHA5RFl2bGZwZjlFTkt4RHNDQmVwYS9KTEdNUG1NdnB0elRqZUFJZkVGOUpVVG10CkE4K1I4TVhKUDZzVWd3V3BDbXRXWjJBQnl2cE9VZUJoOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel16704>.[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel16704-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel16704-02 org2 org1
Step: 3_api Test 'Add <org1> to channel <testchannel16704-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel16704-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel16704-02 org2 org1
[1;36mAdd org1 to the testchannel16704-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel16704-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3MX0.9Re1Yk3Tqoz3CvMj_eh2CQqH7HpcwkXnVC8Ao6tOyCg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3MX0.9Re1Yk3Tqoz3CvMj_eh2CQqH7HpcwkXnVC8Ao6tOyCg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3MX0.9Re1Yk3Tqoz3CvMj_eh2CQqH7HpcwkXnVC8Ao6tOyCg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel16704-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3MX0.9Re1Yk3Tqoz3CvMj_eh2CQqH7HpcwkXnVC8Ao6tOyCg
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel16704-02_config.json'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel16704-02_config.json'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/crypto-config/testchannel16704-02_config.json'" 500
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org1> added to testchannel16704-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:34:32.961 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:34:32.962 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 3_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16704 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16704 org1
Step: 4_api Test 'Join <org1> to the <testchannel16704> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16704 org1 VERIFY: test-join-channel.sh testchannel16704 org1
[1;36mJoining org1.example.com to the testchannel16704 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel16704 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3NH0.b34gpA5V-39tAK6ghApBcnXGDdmSnkgDTOG_czpwiiE"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3NH0.b34gpA5V-39tAK6ghApBcnXGDdmSnkgDTOG_czpwiiE", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3NH0.b34gpA5V-39tAK6ghApBcnXGDdmSnkgDTOG_czpwiiE
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel16704 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3NH0.b34gpA5V-39tAK6ghApBcnXGDdmSnkgDTOG_czpwiiE
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel16704> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:34:35.935 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel16704> channel[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel16704 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel16704 org2
Step: 5_api Test 'Join <org2> to the <testchannel16704> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel16704 org2 VERIFY: test-join-channel.sh testchannel16704 org2
[1;36mJoining org2.example.com to the testchannel16704 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel16704 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3Nn0.2NdsQFwCVUvB8x7jUSIkqLieMEN6WmjxC71KU74ZvXc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3Nn0.2NdsQFwCVUvB8x7jUSIkqLieMEN6WmjxC71KU74ZvXc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3Nn0.2NdsQFwCVUvB8x7jUSIkqLieMEN6WmjxC71KU74ZvXc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel16704 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTI3Nn0.2NdsQFwCVUvB8x7jUSIkqLieMEN6WmjxC71KU74ZvXc
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32294 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32294 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel32294 org1 VERIFY: test-channel-exists.sh testchannel32294 org1
[1;36mCreating testchannel32294 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQzOH0.FlaCDEP5QeL_jkgvixUa7g5OQt0Izk_hvYdXszqYScs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQzOH0.FlaCDEP5QeL_jkgvixUa7g5OQt0Izk_hvYdXszqYScs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQzOH0.FlaCDEP5QeL_jkgvixUa7g5OQt0Izk_hvYdXszqYScs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel32294","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQzOH0.FlaCDEP5QeL_jkgvixUa7g5OQt0Izk_hvYdXszqYScs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel32294> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32294> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:37:20.415 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:37:20.417 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:37:20.418 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:37:20.418 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel32294",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:37:19Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32294> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel32294-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel32294-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel32294-02 org2 VERIFY: test-channel-exists.sh testchannel32294-02 org2
[1;36mCreating testchannel32294-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0MH0.Zixtg18gvkTf_30oSp3E_d8dG9QhNhr2dBuTR8_2f34"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0MH0.Zixtg18gvkTf_30oSp3E_d8dG9QhNhr2dBuTR8_2f34", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0MH0.Zixtg18gvkTf_30oSp3E_d8dG9QhNhr2dBuTR8_2f34
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel32294-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0MH0.Zixtg18gvkTf_30oSp3E_d8dG9QhNhr2dBuTR8_2f34
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel <testchannel32294-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel32294-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:37:23.235 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:37:23.238 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:37:23.239 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:37:23.239 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel32294-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:37:21Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel32294-02> exists and visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel32294 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32294 org1 org2
Step: 3_api Test 'Add <org2> to channel <testchannel32294> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32294 org1 org2 VERIFY: test-channel-add-org.sh testchannel32294 org1 org2
[1;36mAdd org2 to the testchannel32294 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel32294 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0NH0._RgfnfRiOyIMGWN2t0VgZ_Sk3cOMkQ84RmFLpuQ54Rg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0NH0._RgfnfRiOyIMGWN2t0VgZ_Sk3cOMkQ84RmFLpuQ54Rg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0NH0._RgfnfRiOyIMGWN2t0VgZ_Sk3cOMkQ84RmFLpuQ54Rg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32294/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0NH0._RgfnfRiOyIMGWN2t0VgZ_Sk3cOMkQ84RmFLpuQ54Rg
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel32294 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel32294 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:37:27.130 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:37:27.140 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:37:27.143 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:37:27.143 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRUtzMU96TUpESDFWYXpranJQWTZ5akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFSFoxNGpMVnNzSExoaE1HeHQ4WmlpU3Rnc2NaMTVnOFcKQ0dkWmovb2xYQnI5MWRRT21PbzRvNmNFRkZZdTlRWVFGaWFXNW5yZTl2NlBTOUFWSzNselM2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnN244R3o4c3F6dGo5CjQwZC8xZ0pDVVh1UWd6ZENFbHpIVkVwV0ZGWENRdU13Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IZzlkdlcKOXdXbjVEbEljYXJWQVJiL1hqSStDbGt2ZXVnY2RtcHd0L0dQQWlBMDhXZ3FRUlE3VXpGckMwY2k1bDlxTlJUdwpIeFFBRmVPVGRpSC9kTEhZbVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTTZjLzgvd056bGxBZ3lBaXgxQldDREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKS2ZNNHJvanF1WWtaYW15S1lkWmcxdkRsNStFZlFIbytEZGx5bFRuNVNTdjhwRVlzVE1JdXVlUWJGVmJtQnprUAozbkVxS1QwY29Za2NXd3ZWeVlxR0thTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHUKZndiUHl5ck8yUDNqUjMvV0FrSlJlNUNETjBJU1hNZFVTbFlVVmNKQzR6QUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBMnAxUDBaQWFaTFlycXU0cXJiTVdJMnhyd1A4b1Z1Y1lLSGxzQnhxMk9JNENJQndoaUthbHZrSmJYVHFiCnVYTk5wTCtSaTNmQ3U3WFMvTjJTeDFCYk13dG0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWVENDQWYyZ0F3SUJBZ0lRU2dFYlQrclc1bXJuREdtZzNibm9nREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVYb0cyay9KcDJCK3d2bVJScDJHVm9TVU41RGR3SnR1cFUrek4zNi9EWjVmY0dDWVRhQVJwNkVnUQo1WW96cm1pT1R2enJHSHBNMzdaL01iUmp3T0xxbnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHhDQUE4MTF2cXBBQnljbFUwSDhyVnN6SGNsdXdNU1F6a2JvVVdaMDRadWpBS0JnZ3Foa2pPUFFRRApBZ05HQURCREFpQk92YVhOSHA5RFl2bGZwZjlFTkt4RHNDQmVwYS9KTEdNUG1NdnB0elRqZUFJZkVGOUpVVG10CkE4K1I4TVhKUDZzVWd3V3BDbXRXWjJBQnl2cE9VZUJoOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel32294>.[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel32294-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel32294-02 org2 org1
Step: 4_api Test 'Add <org1> to channel <testchannel32294-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel32294-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel32294-02 org2 org1
[1;36mAdd org1 to the testchannel32294-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel32294-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0N30.LeTsqjFb-dy8WfOQSZU5nQs5ymePoizNbpkwkEElcTs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0N30.LeTsqjFb-dy8WfOQSZU5nQs5ymePoizNbpkwkEElcTs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0N30.LeTsqjFb-dy8WfOQSZU5nQs5ymePoizNbpkwkEElcTs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel32294-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ0N30.LeTsqjFb-dy8WfOQSZU5nQs5ymePoizNbpkwkEElcTs
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel32294-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel32294-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:37:30.701 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:37:30.716 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:37:30.719 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:37:30.720 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU5laXl0eFY5RSszY0xLRm52ZElrbWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1UQXdPREF3V2hjTk16QXdNekV3TVRBd09EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkNKREk3cXNqVFpNbXF6ZmpHYzlxSnFLaE5oU1FBWGQKb2hzeHpXL3B0MkJzSXJPWmVROHRrSEFOVU9BVE9WYXZPQVhSeVFWR1FlaDNza0YxRWFmSWhiU2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU56QmF3YlE3SGZlCkluM0NWTG90cHd2WGs3YXpOOEhXcnFrYTUzOVJrZ1RSTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVMM1VRZ04KdDFBSmRVZnBiVXJ2VUJIQXlFUUNTQkp3bEsvenF4UHhJR3FNQWlCdVhlZ3FCbktlcC8wMU1wL2d6ZE1JK2dPTwp1Mjk5N2h0a3Nha0F6d21VSEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQU96aS9aSFNwUWZoSmNGSVRnUzRvaGd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1UQXdPREF3V2hjTk16QXdNekV3TVRBd09EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkI3dlgyTHlBK3FWVWJJU2pCa0g4eWQzVXhwVGY0cHU4MzdZalJzb1g2YlpweUtnQnNQZmJSUm5MWmpOWk1iWApvaE5ja2Vib24vSGFCbndQSzJCV0I0Q2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKM01GckJ0RHNkOTRpZmNKVXVpMm5DOWVUdHJNM3dkYXVxUnJuZjFHU0JORXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnWGh2am1sN0xUaHlET1hncU1aU3BBV1JjSWFFL1E5NkN1N3VJclFleVdZd0NJQ2E0K0QyMWpkc0VKUGlMCjhZRmU3cUFsR3d2RE84NWNKNWh1eDA2U2JINy8KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRSlRkbk9qaDlGbndlaTJIL1RMUnhpREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVyblhDY2VubTRCWFJYVUJPT1Y5VVdoNWxnV1lXbnR1cmFacktpV3dqOEdMTWVZSzFYTVZPNGg1bwpSVFRnOWRkVkV4WHhDd2s4MmFMQ1h4Wk1xdEltU2FOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQ2gxekhpc1JEYjVkVjE3UkIyYjlaOHdrV3hTdFFocXR4OWY3QVJ0TXB6OWpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFqUzF3NzJnb3N0aHo3aGdVQWFlV2Q2aW1nOHBNVnBUYUdOalFDQ2RzRmFBQ0lGOC9lS0RvCkdhdWxidDlUTTJKVEY0SWxIb09Zc00rbUwvYXZFb1B4Wm1zawotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel32294-02>.[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32294 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32294 org1
Step: 5_api Test 'Join <org1> to the <testchannel32294> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32294 org1 VERIFY: test-join-channel.sh testchannel32294 org1
[1;36mJoining org1.example.com to the testchannel32294 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel32294 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1MX0.C4Ix13DBFlMDvRpda9R8CLxSuCmXTrjQs7UCB3PPbOU"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1MX0.C4Ix13DBFlMDvRpda9R8CLxSuCmXTrjQs7UCB3PPbOU", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1MX0.C4Ix13DBFlMDvRpda9R8CLxSuCmXTrjQs7UCB3PPbOU
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32294 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1MX0.C4Ix13DBFlMDvRpda9R8CLxSuCmXTrjQs7UCB3PPbOU
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel32294> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:37:32.717 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel32294> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32294 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32294 org2
Step: 6_api Test 'Join <org2> to the <testchannel32294> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32294 org2 VERIFY: test-join-channel.sh testchannel32294 org2
[1;36mJoining org2.example.com to the testchannel32294 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel32294 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1M30.W4s1Gk9zYuc7II3SNGWO4cr2y3g4he8J8N174pjkFQ0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1M30.W4s1Gk9zYuc7II3SNGWO4cr2y3g4he8J8N174pjkFQ0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1M30.W4s1Gk9zYuc7II3SNGWO4cr2y3g4he8J8N174pjkFQ0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel32294 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTQ1M30.W4s1Gk9zYuc7II3SNGWO4cr2y3g4he8J8N174pjkFQ0
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel32294> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:39:33.864 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel32294> channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel32294-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel32294-02 org1
Step: 7_api Test 'Join <org1> to the <testchannel32294-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel32294-02 org1 VERIFY: test-join-channel.sh testchannel32294-02 org1
[1;36mJoining org1.example.com to the testchannel32294-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel32294-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTU3NH0.3SIrtz0rrCRp2TwyYnFHl5bsm6L-3sugbk9jUSJP9WA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTU3NH0.3SIrtz0rrCRp2TwyYnFHl5bsm6L-3sugbk9jUSJP9WA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTU3NH0.3SIrtz0rrCRp2TwyYnFHl5bsm6L-3sugbk9jUSJP9WA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel32294-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTU3NH0.3SIrtz0rrCRp2TwyYnFHl5bsm6L-3sugbk9jUSJP9WA
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8230 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8230 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel8230 org1 VERIFY: test-channel-exists.sh testchannel8230 org1
[1;36mCreating testchannel8230 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY2OH0.4z6tWnfRTvhkYEKGrrI-W7Dhhe_9UkdzhXJFDTHTOIA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY2OH0.4z6tWnfRTvhkYEKGrrI-W7Dhhe_9UkdzhXJFDTHTOIA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY2OH0.4z6tWnfRTvhkYEKGrrI-W7Dhhe_9UkdzhXJFDTHTOIA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels {"channelId":"testchannel8230","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY2OH0.4z6tWnfRTvhkYEKGrrI-W7Dhhe_9UkdzhXJFDTHTOIA
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel8230> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8230> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:41:10.460 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:41:10.462 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:41:10.463 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:41:10.463 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8230",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:41:09Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8230> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel8230-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel8230-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel8230-02 org2 VERIFY: test-channel-exists.sh testchannel8230-02 org2
[1;36mCreating testchannel8230-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3MH0.sxcR20UcISZOcILcBuf6lw6s-p_CG-ZZ2l7XRw0Br4k"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3MH0.sxcR20UcISZOcILcBuf6lw6s-p_CG-ZZ2l7XRw0Br4k", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3MH0.sxcR20UcISZOcILcBuf6lw6s-p_CG-ZZ2l7XRw0Br4k
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels {"channelId":"testchannel8230-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3MH0.sxcR20UcISZOcILcBuf6lw6s-p_CG-ZZ2l7XRw0Br4k
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}}}] 200
[1;32mOK: Channel <testchannel8230-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel8230-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:41:13.713 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:41:13.716 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-12 10:41:13.718 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-12 10:41:13.718 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel8230-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-12T10:41:12Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel8230-02> exists and visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8230 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8230 org1 org2
Step: 3_api Test 'Add <org2> to channel <testchannel8230> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8230 org1 org2 VERIFY: test-channel-add-org.sh testchannel8230 org1 org2
[1;36mAdd org2 to the testchannel8230 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel8230 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3NH0.8GLUE3IBQsVuFUCpWt3iEe7KU7lA9NoC5FKzd1RV4do"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3NH0.8GLUE3IBQsVuFUCpWt3iEe7KU7lA9NoC5FKzd1RV4do", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3NH0.8GLUE3IBQsVuFUCpWt3iEe7KU7lA9NoC5FKzd1RV4do
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8230/orgs {"orgId":"org2","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3NH0.8GLUE3IBQsVuFUCpWt3iEe7KU7lA9NoC5FKzd1RV4do
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel8230 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel8230 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:41:17.706 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:41:17.728 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:41:17.730 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:41:17.730 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRRUtzMU96TUpESDFWYXpranJQWTZ5akFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFSFoxNGpMVnNzSExoaE1HeHQ4WmlpU3Rnc2NaMTVnOFcKQ0dkWmovb2xYQnI5MWRRT21PbzRvNmNFRkZZdTlRWVFGaWFXNW5yZTl2NlBTOUFWSzNselM2Tk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnN244R3o4c3F6dGo5CjQwZC8xZ0pDVVh1UWd6ZENFbHpIVkVwV0ZGWENRdU13Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU9IZzlkdlcKOXdXbjVEbEljYXJWQVJiL1hqSStDbGt2ZXVnY2RtcHd0L0dQQWlBMDhXZ3FRUlE3VXpGckMwY2k1bDlxTlJUdwpIeFFBRmVPVGRpSC9kTEhZbVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZlZ0F3SUJBZ0lRTTZjLzgvd056bGxBZ3lBaXgxQldDREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRJeE1EQTRNREJhRncwek1EQXpNVEF4TURBNE1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKS2ZNNHJvanF1WWtaYW15S1lkWmcxdkRsNStFZlFIbytEZGx5bFRuNVNTdjhwRVlzVE1JdXVlUWJGVmJtQnprUAozbkVxS1QwY29Za2NXd3ZWeVlxR0thTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDRHUKZndiUHl5ck8yUDNqUjMvV0FrSlJlNUNETjBJU1hNZFVTbFlVVmNKQzR6QUtCZ2dxaGtqT1BRUURBZ05JQURCRgpBaUVBMnAxUDBaQWFaTFlycXU0cXJiTVdJMnhyd1A4b1Z1Y1lLSGxzQnhxMk9JNENJQndoaUthbHZrSmJYVHFiCnVYTk5wTCtSaTNmQ3U3WFMvTjJTeDFCYk13dG0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWVENDQWYyZ0F3SUJBZ0lRU2dFYlQrclc1bXJuREdtZzNibm9nREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVYb0cyay9KcDJCK3d2bVJScDJHVm9TVU41RGR3SnR1cFUrek4zNi9EWjVmY0dDWVRhQVJwNkVnUQo1WW96cm1pT1R2enJHSHBNMzdaL01iUmp3T0xxbnFOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRHhDQUE4MTF2cXBBQnljbFUwSDhyVnN6SGNsdXdNU1F6a2JvVVdaMDRadWpBS0JnZ3Foa2pPUFFRRApBZ05HQURCREFpQk92YVhOSHA5RFl2bGZwZjlFTkt4RHNDQmVwYS9KTEdNUG1NdnB0elRqZUFJZkVGOUpVVG10CkE4K1I4TVhKUDZzVWd3V3BDbXRXWjJBQnl2cE9VZUJoOWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel8230>.[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel8230-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel8230-02 org2 org1
Step: 4_api Test 'Add <org1> to channel <testchannel8230-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel8230-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel8230-02 org2 org1
[1;36mAdd org1 to the testchannel8230-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel8230-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3OH0.MUg2FzrAjjRnTNnRrcG5gpFA9G8KCCANkI8Z4izQXHA"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3OH0.MUg2FzrAjjRnTNnRrcG5gpFA9G8KCCANkI8Z4izQXHA", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3OH0.MUg2FzrAjjRnTNnRrcG5gpFA9G8KCCANkI8Z4izQXHA
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8230-02/orgs {"orgId":"org1","orgIp":"127.0.0.1","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY3OH0.MUg2FzrAjjRnTNnRrcG5gpFA9G8KCCANkI8Z4izQXHA
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel8230-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel8230-02 ...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:41:21.279 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 10:41:21.281 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-12 10:41:21.282 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-12 10:41:21.282 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWNDZ0F3SUJBZ0lSQU5laXl0eFY5RSszY0xLRm52ZElrbWN3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1UQXdPREF3V2hjTk16QXdNekV3TVRBd09EQXcKV2pCYk1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFZk1CMEdBMVVFQXd3V1FXUnRhVzVBYjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaCk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkNKREk3cXNqVFpNbXF6ZmpHYzlxSnFLaE5oU1FBWGQKb2hzeHpXL3B0MkJzSXJPWmVROHRrSEFOVU9BVE9WYXZPQVhSeVFWR1FlaDNza0YxRWFmSWhiU2pUVEJMTUE0RwpBMVVkRHdFQi93UUVBd0lIZ0RBTUJnTlZIUk1CQWY4RUFqQUFNQ3NHQTFVZEl3UWtNQ0tBSU56QmF3YlE3SGZlCkluM0NWTG90cHd2WGs3YXpOOEhXcnFrYTUzOVJrZ1RSTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUVMM1VRZ04KdDFBSmRVZnBiVXJ2VUJIQXlFUUNTQkp3bEsvenF4UHhJR3FNQWlCdVhlZ3FCbktlcC8wMU1wL2d6ZE1JK2dPTwp1Mjk5N2h0a3Nha0F6d21VSEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQU96aS9aSFNwUWZoSmNGSVRnUzRvaGd3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFeU1UQXdPREF3V2hjTk16QXdNekV3TVRBd09EQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQkI3dlgyTHlBK3FWVWJJU2pCa0g4eWQzVXhwVGY0cHU4MzdZalJzb1g2YlpweUtnQnNQZmJSUm5MWmpOWk1iWApvaE5ja2Vib24vSGFCbndQSzJCV0I0Q2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKM01GckJ0RHNkOTRpZmNKVXVpMm5DOWVUdHJNM3dkYXVxUnJuZjFHU0JORXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnWGh2am1sN0xUaHlET1hncU1aU3BBV1JjSWFFL1E5NkN1N3VJclFleVdZd0NJQ2E0K0QyMWpkc0VKUGlMCjhZRmU3cUFsR3d2RE84NWNKNWh1eDA2U2JINy8KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRSlRkbk9qaDlGbndlaTJIL1RMUnhpREFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1USXhNREE0TURCYUZ3MHpNREF6TVRBeE1EQTQKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVyblhDY2VubTRCWFJYVUJPT1Y5VVdoNWxnV1lXbnR1cmFacktpV3dqOEdMTWVZSzFYTVZPNGg1bwpSVFRnOWRkVkV4WHhDd2s4MmFMQ1h4Wk1xdEltU2FOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQ2gxekhpc1JEYjVkVjE3UkIyYjlaOHdrV3hTdFFocXR4OWY3QVJ0TXB6OWpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUFqUzF3NzJnb3N0aHo3aGdVQWFlV2Q2aW1nOHBNVnBUYUdOalFDQ2RzRmFBQ0lGOC9lS0RvCkdhdWxidDlUTTJKVEY0SWxIb09Zc00rbUwvYXZFb1B4Wm1zawotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel8230-02>.[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8230 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8230 org1
Step: 5_api Test 'Join <org1> to the <testchannel8230> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8230 org1 VERIFY: test-join-channel.sh testchannel8230 org1
[1;36mJoining org1.example.com to the testchannel8230 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel8230 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4MX0.k5zZKegHaXzW7nMvG69ze75O_jLN6aSga1n38lyDP54"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4MX0.k5zZKegHaXzW7nMvG69ze75O_jLN6aSga1n38lyDP54", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4MX0.k5zZKegHaXzW7nMvG69ze75O_jLN6aSga1n38lyDP54
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8230 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4MX0.k5zZKegHaXzW7nMvG69ze75O_jLN6aSga1n38lyDP54
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel8230> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:41:22.977 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel8230> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8230 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8230 org2
Step: 6_api Test 'Join <org2> to the <testchannel8230> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8230 org2 VERIFY: test-join-channel.sh testchannel8230 org2
[1;36mJoining org2.example.com to the testchannel8230 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel8230 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4M30.KUElzZtldR89HJ9hbtwIv0cJYm175aoH73_3lIyIwPo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4M30.KUElzZtldR89HJ9hbtwIv0cJYm175aoH73_3lIyIwPo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4M30.KUElzZtldR89HJ9hbtwIv0cJYm175aoH73_3lIyIwPo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8230 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTY4M30.KUElzZtldR89HJ9hbtwIv0cJYm175aoH73_3lIyIwPo
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel8230> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:43:24.168 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel8230> channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8230-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8230-02 org1
Step: 7_api Test 'Join <org1> to the <testchannel8230-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8230-02 org1 VERIFY: test-join-channel.sh testchannel8230-02 org1
[1;36mJoining org1.example.com to the testchannel8230-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel8230-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTgwNH0.2fmpBQMt9rQhY3S526V8n7e9A1gARCgQffN6vFyyQYg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTgwNH0.2fmpBQMt9rQhY3S526V8n7e9A1gARCgQffN6vFyyQYg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTgwNH0.2fmpBQMt9rQhY3S526V8n7e9A1gARCgQffN6vFyyQYg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4000
curlItGet http://127.0.0.1:4000/channels/testchannel8230-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTgwNH0.2fmpBQMt9rQhY3S526V8n7e9A1gARCgQffN6vFyyQYg
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel8230-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 10:45:25.131 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel8230-02> channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel8230-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel8230-02 org2
Step: 8_api Test 'Join <org2> to the <testchannel8230-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel8230-02 org2 VERIFY: test-join-channel.sh testchannel8230-02 org2
[1;36mJoining org2.example.com to the testchannel8230-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel8230-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTkyNX0.w1iam1cJN4RZIUbjFgygUw0lSX7lDnlwCMrtlLvQfEw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTkyNX0.w1iam1cJN4RZIUbjFgygUw0lSX7lDnlwCMrtlLvQfEw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTkyNX0.w1iam1cJN4RZIUbjFgygUw0lSX7lDnlwCMrtlLvQfEw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 4001
curlItGet http://127.0.0.1:4001/channels/testchannel8230-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAwOTkyNX0.w1iam1cJN4RZIUbjFgygUw0lSX7lDnlwCMrtlLvQfEw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:8051","name":"peer0.org2.example.com:8051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:8051","grpc.default_authority":"peer0.org2.example.com:8051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel8230-02> channel...[m[m[m
queryContainerNetworkSettings returns: 8051
[34m2020-03-12 10:45:26.679 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel8230-02> channel[m[m[m
Step 8_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27950 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27950 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel27950 org1 VERIFY: test-channel-exists.sh testchannel27950 org1
[1;36mCreating testchannel27950 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns:
curlItGet http://192.168.99.100:/users {"username":"user4","password":"passw"}
curlGetIt got _ <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
404 _ result
body is <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
, code is 404
Got JWT: <html>
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27950> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 12:17:20.694 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 12:17:20.695 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 1_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel27950-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel27950-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel27950-02 org2 VERIFY: test-channel-exists.sh testchannel27950-02 org2
[1;36mCreating testchannel27950-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns:
curlItGet http://192.168.99.101:/users {"username":"user4","password":"passw"}
curlGetIt got _ <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
404 _ result
body is <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
, code is 404
Got JWT: <html>
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel27950-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 12:17:24.698 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 12:17:24.700 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel27950 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel27950 org1 org2
Step: 3_api Test 'Add <org2> to channel <testchannel27950> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel27950 org1 org2 VERIFY: test-channel-add-org.sh testchannel27950 org1 org2
[1;36mAdd org2 to the testchannel27950 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel27950 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns:
curlItGet http://192.168.99.100:/users {"username":"user4","password":"passw"}
curlGetIt got _ <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
404 _ result
body is <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
, code is 404
Got JWT: <html>
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <org2> added to testchannel27950 ...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15039 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15039 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel15039 org1 VERIFY: test-channel-exists.sh testchannel15039 org1
[1;36mCreating testchannel15039 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMyOH0.6GsCaZ1EWM9xpO27ii0TiZ31qMsrqNYj651WDHVGyvc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMyOH0.6GsCaZ1EWM9xpO27ii0TiZ31qMsrqNYj651WDHVGyvc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMyOH0.6GsCaZ1EWM9xpO27ii0TiZ31qMsrqNYj651WDHVGyvc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/channels {"channelId":"testchannel15039","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMyOH0.6GsCaZ1EWM9xpO27ii0TiZ31qMsrqNYj651WDHVGyvc
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15039> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 15:02:12.961 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 15:02:12.964 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 1_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel15039-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel15039-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel15039-02 org2 VERIFY: test-channel-exists.sh testchannel15039-02 org2
[1;36mCreating testchannel15039-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMzNX0.hohqGq08Otb9KlIj8bmkmBDebMJjKKkI-vJ08OJwrt8"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMzNX0.hohqGq08Otb9KlIj8bmkmBDebMJjKKkI-vJ08OJwrt8", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMzNX0.hohqGq08Otb9KlIj8bmkmBDebMJjKKkI-vJ08OJwrt8
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.101:4000/channels {"channelId":"testchannel15039-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTMzNX0.hohqGq08Otb9KlIj8bmkmBDebMJjKKkI-vJ08OJwrt8
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel15039-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 15:02:19.990 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 15:02:19.993 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 2_api: exit code 1
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel15039 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel15039 org1 org2
Step: 3_api Test 'Add <org2> to channel <testchannel15039> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel15039 org1 org2 VERIFY: test-channel-add-org.sh testchannel15039 org1 org2
[1;36mAdd org2 to the testchannel15039 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel15039 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTM0Mn0.4E3SQWGLvFoUmliZVI3qD2VUbufwmAipAlExGx-Zl14"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTM0Mn0.4E3SQWGLvFoUmliZVI3qD2VUbufwmAipAlExGx-Zl14", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTM0Mn0.4E3SQWGLvFoUmliZVI3qD2VUbufwmAipAlExGx-Zl14
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/channels/testchannel15039/orgs {"orgId":"org2","orgIp":"192.168.99.101","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTM0Mn0.4E3SQWGLvFoUmliZVI3qD2VUbufwmAipAlExGx-Zl14
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel24540 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel24540 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel24540 org1 VERIFY: test-channel-exists.sh testchannel24540 org1
[1;36mCreating testchannel24540 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTQyNX0.wyCS0-CUBhT6O5huragvwFXzpihYsYmMujRzHxp5oRc"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTQyNX0.wyCS0-CUBhT6O5huragvwFXzpihYsYmMujRzHxp5oRc", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTQyNX0.wyCS0-CUBhT6O5huragvwFXzpihYsYmMujRzHxp5oRc
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.109:4000/channels {"channelId":"testchannel24540","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDAyNTQyNX0.wyCS0-CUBhT6O5huragvwFXzpihYsYmMujRzHxp5oRc
curlGetIt got _ "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'"500 _ result
body is "ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'", code is 500
"ENOENT: no such file or directory, open '/usr/src/app/templates/configtx-template.yaml'" 500
parse error: Unfinished string at EOF at line 1, column 8
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24540> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-12 15:03:49.446 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-12 15:03:49.447 UTC [cli.common] readBlock -> INFO 002[0m Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
null
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
Step 1_api: exit code 1
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel24540-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel24540-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel24540-02 org2 VERIFY: test-channel-exists.sh testchannel24540-02 org2
[1;36mCreating testchannel24540-02 channel in org2.example.com using API...[m[m[m
curlItGet http://192.168.99.110:/users {"username":"user4","password":"passw"}
curlGetIt got _ <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
404 _ result
body is <html>
<head><title>404 Not Found</title></head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.17.9</center>
</body>
</html>
, code is 404
Got JWT: <html>
[1;31mERROR! See /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the <testchannel24540-02> channel exists in org2.example.com...[m[m[m
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel3493 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3493 org1
Step: 1_api Test 'Create Channel in ORG1'
RUNTEST: create-channel.sh testchannel3493 org1 VERIFY: test-channel-exists.sh testchannel3493 org1
[1;36mCreating testchannel3493 channel in org1.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAwM30.rv6BnH6wJFeD5Wdgqex_zmfXoMA-FwvXmuWjpfRiJDo"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAwM30.rv6BnH6wJFeD5Wdgqex_zmfXoMA-FwvXmuWjpfRiJDo", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAwM30.rv6BnH6wJFeD5Wdgqex_zmfXoMA-FwvXmuWjpfRiJDo
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels {"channelId":"testchannel3493","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAwM30.rv6BnH6wJFeD5Wdgqex_zmfXoMA-FwvXmuWjpfRiJDo
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel3493> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3493> channel exists in org1.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:50:09.447 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-13 14:50:09.449 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-13 14:50:09.450 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-13 14:50:09.451 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel3493",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-13T14:50:06Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3493> exists and visible to org1[m[m[m
Step 1_api: exit code 0
NO_RED_OUTPUT=false /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/create-channel.sh testchannel3493-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-exists.sh testchannel3493-02 org2
Step: 2_api Test 'Create Channel in ORG2'
RUNTEST: create-channel.sh testchannel3493-02 org2 VERIFY: test-channel-exists.sh testchannel3493-02 org2
[1;36mCreating testchannel3493-02 channel in org2.example.com using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAxMn0.pIe1NnnbP7woT3OwCV12x0e9sB0U2HuYVgCx1KUTtKs"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAxMn0.pIe1NnnbP7woT3OwCV12x0e9sB0U2HuYVgCx1KUTtKs", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAxMn0.pIe1NnnbP7woT3OwCV12x0e9sB0U2HuYVgCx1KUTtKs
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/channels {"channelId":"testchannel3493-02","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAxMn0.pIe1NnnbP7woT3OwCV12x0e9sB0U2HuYVgCx1KUTtKs
curlGetIt got _ [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}]200 _ result
body is [{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}], code is 200
[{"version":0,"timestamp":null,"response":{"status":200,"message":"","payload":{"type":"Buffer","data":[]}},"payload":{"type":"Buffer","data":[]},"endorsement":null,"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}}}] 200
[1;32mOK: Channel <testchannel3493-02> creation run sucsessfuly.[m[m[m
[1;34m
Verifing if the <testchannel3493-02> channel exists in org2.example.com...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:50:17.718 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-13 14:50:17.722 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2020-03-13 14:50:17.725 UTC [cli.common] readBlock -> INFO 003[0m Received block: 0
[34m2020-03-13 14:50:17.725 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 0
{
"channel_id": "testchannel3493-02",
"epoch": "0",
"extension": null,
"timestamp": "2020-03-13T14:50:15Z",
"tls_cert_hash": null,
"tx_id": "",
"type": 1,
"version": 0
}
[1;32mOK: The channel <testchannel3493-02> exists and visible to org2[m[m[m
Step 2_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel3493 org1 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3493 org1 org2
Step: 3_api Test 'Add <org2> to channel <testchannel3493> created by the <org1> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3493 org1 org2 VERIFY: test-channel-add-org.sh testchannel3493 org1 org2
[1;36mAdd org2 to the testchannel3493 channel using API...[m[m[m
[1;36mAdd org2 to the testchannel3493 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAyMH0.DbLCxvx_HMe0Q4wV0zjFeJwqqikEfLE0bDM82_5-ZbI"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAyMH0.DbLCxvx_HMe0Q4wV0zjFeJwqqikEfLE0bDM82_5-ZbI", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAyMH0.DbLCxvx_HMe0Q4wV0zjFeJwqqikEfLE0bDM82_5-ZbI
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel3493/orgs {"orgId":"org2","orgIp":"192.168.99.103","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAyMH0.DbLCxvx_HMe0Q4wV0zjFeJwqqikEfLE0bDM82_5-ZbI
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org2 added to testchannel3493 channel[m[m[m
[1;34m
Verifing if the <org2> added to testchannel3493 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:50:32.492 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-13 14:50:32.495 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-13 14:50:32.497 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-13 14:50:32.497 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHRENDQWIrZ0F3SUJBZ0lRUEhic09aVGw2a2wzNEM5Z1hJYUJuREFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRNeE5ETTBNREJhRncwek1EQXpNVEV4TkRNME1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFS1lBVENKUFpYZVordXJLY0YyM0V6VXdmUzh3bWkya1EKU3JFek5SWHp2eGhGMnFQaUxFQXBrai9KbkhaUlBaa3VYMFlOVTFYNEl4SWV0YkI0M012QmpLTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnZXR4YUlzUGdRS3JJCmZoOGRxT0FRZU96Ulg3ZFp3TVRNT3pISlpyWDJvUE13Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnVjF1alp6a1EKOTkwMmhUaGhJS3REeTNBWWxiWDdhcXBhdXMxL2hQYkZuc1VDSUFkYlJYRkJsUXlUejhWemlIeXlrdFRiQi8zVQp4NmFmNytUSjcvRzdrN3grCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org2",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVRENDQWZlZ0F3SUJBZ0lRSFdXNXAxMmZNdHV4dmNoWFY3TlRVVEFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NaTVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRNeE5ETTBNREJhRncwek1EQXpNVEV4TkRNME1EQmEKTUhNeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVJrd0Z3WURWUVFLRXhCdmNtY3lMbVY0WVcxd2JHVXVZMjl0TVJ3d0dnWURWUVFECkV4TmpZUzV2Y21jeUxtVjRZVzF3YkdVdVkyOXRNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUUKN2RFaXRXTStGdzhLTGFDTTJ4b3RKbWhvWWdKRThGQUF1a1BrNXErb0NYSWcvd1c5V0U1a2Jhd1NTY054TVN5awpzdEdyREp0SVZ4Tis0YS9Oc0Zwd2VhTnRNR3N3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZEpRUVdNQlFHCkNDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01Da0dBMVVkRGdRaUJDQjYKM0ZvaXcrQkFxc2grSHgybzRCQjQ3TkZmdDFuQXhNdzdNY2xtdGZhZzh6QUtCZ2dxaGtqT1BRUURBZ05IQURCRQpBaUJJZ3hPZEdQOFIya05EeVlIcjYvSTlQQktiQ1JCaVhGZ01Va1J4N0RGMFh3SWdYUjhxcWFpczg1bkFndGI5ClBhN1pORW9jRGg0NkJ4WGwyT2w0THprSTZZbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRUFQrakZoM1d0eWFvQzA2TmhEc2VRakFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTWk1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTWk1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1UTXhORE0wTURCYUZ3MHpNREF6TVRFeE5ETTAKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN5TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN5TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUV5ejFWUzYzbExXemFEQkUvemtaTm9idG1ZazFFUGV2ZHNnZVpyOGozYUx0Zng4SXZzbU9tRDdZVwp0UUhyRUR5YWxuNXRDRVYzY29hdTZyOWh1aUpXK2FOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDQTNwWjhXMFlyZk9FbStvd3RKYURmY2FCdkxFcGtQNjJQNzY2dU5ETldoYWpBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUEvSlZXeXl2R0tpOTNNdzRuS3RESzJRcWVsblFNTkd1Qlh0ZTlNOFdnenlJQ0lCZ2Q3RUlsCjRMTlA1WUx3enVrZTN1aE15M0JnRFM1YkdEQjZRT0NTVG1VSQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org2
[1;32mOK: Organization <org2> is in the channel <testchannel3493>.[m[m[m
Step 3_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/add-org-to-channel.sh testchannel3493-02 org2 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-channel-add-org.sh testchannel3493-02 org2 org1
Step: 4_api Test 'Add <org1> to channel <testchannel3493-02> created by the <org2> org'
RUNTESTNOERRPRINT: add-org-to-channel.sh testchannel3493-02 org2 org1 VERIFY: test-channel-add-org.sh testchannel3493-02 org2 org1
[1;36mAdd org1 to the testchannel3493-02 channel using API...[m[m[m
[1;36mAdd org1 to the testchannel3493-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAzNH0.kLYGW8cwPadK2xigaESycGe8jzZBBag9Rr9TdQ95Me0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAzNH0.kLYGW8cwPadK2xigaESycGe8jzZBBag9Rr9TdQ95Me0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAzNH0.kLYGW8cwPadK2xigaESycGe8jzZBBag9Rr9TdQ95Me0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/channels/testchannel3493-02/orgs {"orgId":"org1","orgIp":"192.168.99.104","waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTAzNH0.kLYGW8cwPadK2xigaESycGe8jzZBBag9Rr9TdQ95Me0
curlGetIt got _ 200 _ result
body is empty, code is 200
200
[1;32mOK: Organization org1 added to testchannel3493-02 channel[m[m[m
[1;34m
Verifing if the <org1> added to testchannel3493-02 ...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:50:47.043 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2020-03-13 14:50:47.047 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2020-03-13 14:50:47.048 UTC [cli.common] readBlock -> INFO 003[0m Received block: 1
[34m2020-03-13 14:50:47.048 UTC [channelCmd] fetch -> INFO 004[0m Retrieving last config block: 1
{
"config": {
"admins": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNHVENDQWIrZ0F3SUJBZ0lRYWlMM1lNeEsya1VZQXhSTnJBcUJOakFLQmdncWhrak9QUVFEQWpCek1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWNNQm9HQTFVRUF4TVRZMkV1CmIzSm5NUzVsZUdGdGNHeGxMbU52YlRBZUZ3MHlNREF6TVRNeE5ETXlNREJhRncwek1EQXpNVEV4TkRNeU1EQmEKTUZzeEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJZd0ZBWURWUVFIRXcxVApZVzRnUm5KaGJtTnBjMk52TVI4d0hRWURWUVFEREJaQlpHMXBia0J2Y21jeExtVjRZVzF3YkdVdVkyOXRNRmt3CkV3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFckVTNEdXTjlkUnVETUViZEZYSEViMXhiN1hxb0pVZG0KNHMxMkI5R2JpeE8wYUNVVHZ2QW5WK1NmSXV6aXpjei93U0pYcDl2R1VUL3VLM1hpM3VMR1RhTk5NRXN3RGdZRApWUjBQQVFIL0JBUURBZ2VBTUF3R0ExVWRFd0VCL3dRQ01BQXdLd1lEVlIwakJDUXdJb0FnZzFlWUI5bXNuRGptClVhYy9QNzkySXduc3FmK3cyOG01blpFR3VXdEpUeEV3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUpqOVkvRnQKbmFEUEkrbHdMalYweDZIMFl4VjhHdEtZazJVdHFKcDBmd1V2QWlBYmhwNWN5eGo3WGZKdkpvYlkzNXFkd3kwegpaV1E3T0tZeXowbkx2RUVWM0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
],
"crypto_config": {
"identity_identifier_hash_function": "SHA256",
"signature_hash_family": "SHA2"
},
"fabric_node_ous": null,
"intermediate_certs": [],
"name": "org1",
"organizational_unit_identifiers": [],
"revocation_list": [],
"root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVVENDQWZpZ0F3SUJBZ0lSQUtTVzlDa3BMUFpQeXJTYVdUQVFlTzh3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpFdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaekV1WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TXpFek1UUXpNakF3V2hjTk16QXdNekV4TVRRek1qQXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NUzVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk1TNWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQk5XZWdma2lWZFBLU2hOOEFOcjJtbDltSU05N3FFRnZUNkhua3Z0elU0UUtmVEtweW5JRUpQTGxyMis4bk92WQphSmZpb01rMXR2Q0tqeXlZTkZpb1lnQ2piVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKZzFlWUI5bXNuRGptVWFjL1A3OTJJd25zcWYrdzI4bTVuWkVHdVd0SlR4RXdDZ1lJS29aSXpqMEVBd0lEUndBdwpSQUlnSld5NUU5bU93a3hiWjhKYWZzLzJsQnNHUVB6WC9XaDd1TXh5aWxoK2tyNENJQ1IraWF1QTdRS29PT3Q1CjhKeFpGZ0pGSVJhYy9MTmlnS2pvZndwNktYUjUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
],
"signing_identity": null,
"tls_intermediate_certs": [],
"tls_root_certs": [
"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWYyZ0F3SUJBZ0lRZDJhVTIvU29KcUlBQm5lb2FPNmRvakFLQmdncWhrak9QUVFEQWpCMk1Rc3cKQ1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRUJ4TU5VMkZ1SUVaeQpZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTVM1bGVHRnRjR3hsTG1OdmJURWZNQjBHQTFVRUF4TVdkR3h6ClkyRXViM0puTVM1bGVHRnRjR3hsTG1OdmJUQWVGdzB5TURBek1UTXhORE15TURCYUZ3MHpNREF6TVRFeE5ETXkKTURCYU1IWXhDekFKQmdOVkJBWVRBbFZUTVJNd0VRWURWUVFJRXdwRFlXeHBabTl5Ym1saE1SWXdGQVlEVlFRSApFdzFUWVc0Z1JuSmhibU5wYzJOdk1Sa3dGd1lEVlFRS0V4QnZjbWN4TG1WNFlXMXdiR1V1WTI5dE1SOHdIUVlEClZRUURFeFowYkhOallTNXZjbWN4TG1WNFlXMXdiR1V1WTI5dE1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMEQKQVFjRFFnQUVwZUVoUFRkMUYyYUtScEdBZ3J0d2M2RWdxSEc1TE9VaXRBcVlqdUFPb3p5UFp2QWdLUXlvQzQyMQpPRGRmS05WL3ZtcHh4UE1UTVRza1E1QUdaM2E4QktOdE1Hc3dEZ1lEVlIwUEFRSC9CQVFEQWdHbU1CMEdBMVVkCkpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUNrR0ExVWQKRGdRaUJDRFV0YTRRN3NlZE5PUjdzTklNcFBvRmh0amlDcnJsTTVLQTh1QVJ3Q2RxY3pBS0JnZ3Foa2pPUFFRRApBZ05JQURCRkFpRUE0UnUvc3loZHhLYU9yS2doNzR2YmJzUDN2WE1XbjNncHVZMER4M3ZvWDJjQ0lIQlM5dEhoCnFiUTZORDd4Qko0TGJsWWxQMkxvVUNkRStVajduZHBvOTBxWAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
]
},
"type": 0
}
org1
[1;32mOK: Organization <org1> is in the channel <testchannel3493-02>.[m[m[m
Step 4_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel3493 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3493 org1
Step: 5_api Test 'Join <org1> to the <testchannel3493> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3493 org1 VERIFY: test-join-channel.sh testchannel3493 org1
[1;36mJoining org1.example.com to the testchannel3493 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel3493 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA0OX0.jN-CiQLC5-MdQpyMoBC5C9Q4uttol5yB2Vvwt8fQ9Rg"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA0OX0.jN-CiQLC5-MdQpyMoBC5C9Q4uttol5yB2Vvwt8fQ9Rg", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA0OX0.jN-CiQLC5-MdQpyMoBC5C9Q4uttol5yB2Vvwt8fQ9Rg
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel3493 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA0OX0.jN-CiQLC5-MdQpyMoBC5C9Q4uttol5yB2Vvwt8fQ9Rg
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org1.example.com:7051","name":"peer0.org1.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org1.example.com:7051","grpc.default_authority":"peer0.org1.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel3493> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:50:54.103 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel3493> channel[m[m[m
Step 5_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel3493 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3493 org2
Step: 6_api Test 'Join <org2> to the <testchannel3493> chanel created by the <org1> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3493 org2 VERIFY: test-join-channel.sh testchannel3493 org2
[1;36mJoining org2.example.com to the testchannel3493 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel3493 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA1Nn0.1jIPnIsrE4CfGAO7DF0qV6UkRQ61b-XjGtl0J-mAkH0"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA1Nn0.1jIPnIsrE4CfGAO7DF0qV6UkRQ61b-XjGtl0J-mAkH0", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA1Nn0.1jIPnIsrE4CfGAO7DF0qV6UkRQ61b-XjGtl0J-mAkH0
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/channels/testchannel3493 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTA1Nn0.1jIPnIsrE4CfGAO7DF0qV6UkRQ61b-XjGtl0J-mAkH0
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel3493> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:53:00.675 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel3493> channel[m[m[m
Step 6_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel3493-02 org1 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3493-02 org1
Step: 7_api Test 'Join <org1> to the <testchannel3493-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3493-02 org1 VERIFY: test-join-channel.sh testchannel3493-02 org1
[1;36mJoining org1.example.com to the testchannel3493-02 channel using API...[m[m[m
[1;36mJoining org1.example.com to the testchannel3493-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTE4M30.qpuFlpz70HCbR1N4swmfK0mAqnFDKzhGrIOjgv1af1Q"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTE4M30.qpuFlpz70HCbR1N4swmfK0mAqnFDKzhGrIOjgv1af1Q", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTE4M30.qpuFlpz70HCbR1N4swmfK0mAqnFDKzhGrIOjgv1af1Q
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.104:4000/channels/testchannel3493-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTE4M30.qpuFlpz70HCbR1N4swmfK0mAqnFDKzhGrIOjgv1af1Q
curlGetIt got _ 000 _ result
body is empty, code is 000
join channel REST query returned:  000 .
create_http_code =
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org1 has joined the <testchannel3493-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:55:07.362 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org1 has joined the <testchannel3493-02> channel[m[m[m
Step 7_api: exit code 0
NO_RED_OUTPUT=true /home/kilpio/CodeLab/merge_test/fabric-starter/test/api/join-channel.sh testchannel3493-02 org2 ; /home/kilpio/CodeLab/merge_test/fabric-starter/test/verify/test-join-channel.sh testchannel3493-02 org2
Step: 8_api Test 'Join <org2> to the <testchannel3493-02> chanel created by the <org2> org'
RUNTESTNOERRPRINT: join-channel.sh testchannel3493-02 org2 VERIFY: test-join-channel.sh testchannel3493-02 org2
[1;36mJoining org2.example.com to the testchannel3493-02 channel using API...[m[m[m
[1;36mJoining org2.example.com to the testchannel3493-02 channel using API...[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/users {"username":"user4","password":"passw"}
curlGetIt got _ "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTMwOX0.7ChuSbtPSowAag6_SGtAOBbYB5LZJT3F47tj88hVcjw"200 _ result
body is "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTMwOX0.7ChuSbtPSowAag6_SGtAOBbYB5LZJT3F47tj88hVcjw", code is 200
Got JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTMwOX0.7ChuSbtPSowAag6_SGtAOBbYB5LZJT3F47tj88hVcjw
[1;32mOK: JWT token obtained.[m[m[m
queryContainerNetworkSettings returns: 7051
queryContainerNetworkSettings returns: 4000
curlItGet http://192.168.99.103:4000/channels/testchannel3493-02 {"waitForTransactionEvent":true} eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyNCIsImlhdCI6MTU4NDExMTMwOX0.7ChuSbtPSowAag6_SGtAOBbYB5LZJT3F47tj88hVcjw
curlGetIt got _ [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}]200 _ result
body is [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}], code is 200
join channel REST query returned: [{"status":500,"payload":{"type":"Buffer","data":[]},"peer":{"url":"grpcs://peer0.org2.example.com:7051","name":"peer0.org2.example.com:7051","options":{"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.keepalive_time_ms":120000,"grpc.http2.min_time_between_pings_ms":120000,"grpc.keepalive_timeout_ms":20000,"grpc.http2.max_pings_without_data":0,"grpc.keepalive_permit_without_calls":1,"grpc.ssl_target_name_override":"peer0.org2.example.com:7051","grpc.default_authority":"peer0.org2.example.com:7051"}},"isProposalResponse":true}] 200 .
create_http_code = 200
[1;37mSee /home/kilpio/CodeLab/merge_test/fabric-starter/test/scenarios/02-add-join-test/fs_network_test.log for logs.[m[m[m
[1;34m
Verifing if the org2 has joined the <testchannel3493-02> channel...[m[m[m
queryContainerNetworkSettings returns: 7051
[34m2020-03-13 14:55:14.858 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[1;32mOK: The org2 has joined the <testchannel3493-02> channel[m[m[m
Step 8_api: exit code 0
